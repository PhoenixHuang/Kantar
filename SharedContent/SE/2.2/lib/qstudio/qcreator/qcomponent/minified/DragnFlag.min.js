var DragnFlag=(function(){function a(){this.qStudioVar={isCompRTL:false,interact:true,isDC:false,params:this.initParams(),rowArray:[],columnArray:[],rowAcceptedWgts:["base","flow","kantarbase","text"]}}a.prototype={renderDC:function(c,b){this.qStudioVar.interact=true;this.qStudioVar.isDC=true;this.create(c,b)},renderSD:function(b){this.qStudioVar.interact=false;this.qStudioVar.isDC=false;this.create(b)},renderDEMO:function(b){this.qStudioVar.interact=true;this.qStudioVar.isDC=false;this.create(b)},rowArray:function(){var b=arguments[0];if(typeof b==="undefined"){return this.qStudioVar.rowArray}if(jQuery.isArray(b)){this.qStudioVar.rowArray=b}},columnArray:function(){var b=arguments[0];if(typeof b==="undefined"){return this.qStudioVar.columnArray}if(jQuery.isArray(b)){this.qStudioVar.columnArray=b}},dimensions:function(){return[{name:"rowArray",prop:["label","image","description","var1"]},{name:"columnArray",prop:["label"]}]},params:function(){var b=arguments[0];if(typeof b==="undefined"){var f=[],d=QUtility.orderParams(this.qStudioVar.params);for(var e in d){if(d.hasOwnProperty(e)){var g={parameter:e,paramvalue:this.qStudioVar.params[e].value,paramdescription:this.qStudioVar.params[e].description,paramtype:this.qStudioVar.params[e].type,paramname:this.qStudioVar.params[e].name,paramwgtref:this.qStudioVar.params[e].wgtref,paramwgtname:this.qStudioVar.params[e].wgtname,paramdisplay:this.qStudioVar.params[e].display};if(this.qStudioVar.params[e].order){g.paramorder=this.qStudioVar.params[e].order}if(this.qStudioVar.params[e].min){g.parammin=this.qStudioVar.params[e].min}if(this.qStudioVar.params[e].max){g.parammax=this.qStudioVar.params[e].max}if(this.qStudioVar.params[e].step){g.paramstep=this.qStudioVar.params[e].step}if(this.qStudioVar.params[e].options){g.paramoptions=this.qStudioVar.params[e].options}if(this.qStudioVar.params[e].display){g.paramdisplay=this.qStudioVar.params[e].display}f.push(g)}}return f}if(jQuery.isArray(b)){for(var e=0,c=b.length;e<c;e+=1){var g=this.qStudioVar.params[b[e].parameter]||{};this.qStudioVar.params[b[e].parameter]=g;if(typeof b[e].paramvalue!=="undefined"){g.value=b[e].paramvalue}if(typeof b[e].paramdescription!=="undefined"){g.description=b[e].paramdescription}if(typeof b[e].paramtype!=="undefined"){g.type=b[e].paramtype;if(g.type.toLowerCase()==="number"&&typeof g.value==="string"){g.value=parseInt(g.value,10)}}if(typeof b[e].paramname!=="undefined"){g.name=b[e].paramname}if(typeof b[e].paramwgtref!=="undefined"){g.wgtref=b[e].paramwgtref}if(typeof b[e].paramwgtname!=="undefined"){g.wgtname=b[e].paramwgtname}if(typeof b[e].paramorder!=="undefined"){g.order=b[e].paramorder}if(typeof b[e].paramdisplay!=="undefined"){g.display=b[e].paramdisplay}if(typeof b[e].parammin!=="undefined"){g.min=b[e].parammin}if(typeof b[e].parammax!=="undefined"){g.max=b[e].parammax}if(typeof b[e].paramstep!=="undefined"){g.step=b[e].paramstep}if(typeof b[e].paramoptions!=="undefined"){g.options=b[e].paramoptions}}}},dcProxy:function(){var b=arguments[0];if(typeof b==="undefined"){return this.qStudioVar.dcProxy}else{this.qStudioVar.dcProxy=b}},description:function(){return"DragnFlag component description..."},baseClassType:function(){return"multi"},questionType:function(){var b=this.qStudioVar.params.compQuestionType.value.toLowerCase();if(b.indexOf("multiple")!==-1){return"multi"}return"single"},getLibraries:function(){return["http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js","qcreator/qcore/QFactory.js","qcreator/qcore/QContainer.js","qcreator/qcore/QWidget.js"]},initParams:function(){return{compQuestionType:{name:"Component: Question Type",value:"Single Choice",description:"Component question type.",type:"combo",options:["Single Choice","Multiple Choice"],order:1},compContainPos:{name:"Component: CSS Position",value:"relative",description:"Component container CSS position.",type:"combo",options:["absolute","relative"],order:4},compRTL:{name:"Component: RTL Enable",value:false,description:"If set true, component will be setup to support right-to-left languages.",type:"bool",order:24},compPrimRowFontFamily:{name:"Component: Row Font Family",value:"Arial, Helvetica, sans-serif",description:"Font used for row buttons and layout labels.",type:"string",order:19},compPrimColumnFontFamily:{name:"Component: Column Font Family",value:"Arial, Helvetica, sans-serif",description:"Font used for column tick labels.",type:"string",order:19},colSldrMinVal:{name:"Slider: Min Value",value:0,description:"Minimum slider range value.",type:"number",wgtref:"colsldr",wgtname:"min",order:70},colSldrMaxVal:{name:"Slider: Max Value",value:100,description:"Maximum slider range value.",type:"number",wgtref:"colsldr",wgtname:"max",order:71},colSldrPrecVal:{name:"Slider: Precision Value",value:0,description:"Slider range precision value.",type:"number",min:0,wgtref:"colsldr",wgtname:"precision",order:72},colSldrHoffset:{name:"Slider: Left CSS Pos",value:0,description:"Left CSS offset position, in pixels.",type:"number",order:56},colSldrVoffset:{name:"Slider: Top CSS Pos",value:150,description:"Top CSS offset position, in pixels.",type:"number",order:57},colSldrTrackWidth:{name:"Slider Track: Bckgrnd Width",value:500,description:"Track width, in pixels.",type:"number",min:5,wgtref:"colsldr",wgtname:"width",order:73},colSldrTrackHeight:{name:"Slider Track: Bckgrnd Height",value:40,description:"Track height, in pixels.",type:"number",min:5,wgtref:"colsldr",wgtname:"height",order:74},colSldrTrackBorderStyle:{name:"Slider Track: Border Style",value:"solid",description:"Track CSS border style.",type:"combo",options:["solid","dotted","dashed","none"],wgtref:"colsldr",wgtname:"track_border_style",order:75},colSldrTrackBorderWidth:{name:"Slider Track: Border Width",value:2,description:"Track border width, in pixels.",type:"number",min:0,wgtref:"colsldr",wgtname:"track_border_width",order:76},colSldrTrackBorderRadius:{name:"Slider Track: Border Radius",value:0,description:"Track border radius, in pixels.",type:"number",min:0,wgtref:"colsldr",wgtname:"track_border_radius",order:77},colSldrTrackBorderColor:{name:"Slider Track: Border Colour",value:13816789,description:"Track border color.",type:"colour",wgtref:"colsldr",wgtname:"track_border_color",order:78},colSldrTrackColor:{name:"Slider Track: Bckgrnd Colour",value:16777215,description:"Track background color.",type:"colour",wgtref:"colsldr",wgtname:"track_color",order:79},colSldrTrackShowImp:{name:"Slider Track: Show Import",value:false,description:"If set true, track imported image will display.",type:"bool",wgtref:"colsldr",wgtname:"show_track_import",order:80},colSldrTrackImp:{name:"Slider Track: Import Image",value:"",description:"Import track image to use.",type:"bitmapdata",wgtref:"colsldr",wgtname:"track_import",order:81},colSldrTickWidth:{name:"Slider Tick: Width",value:2,description:"Track tick width, in pixels.",type:"number",min:1,wgtref:"colsldr",wgtname:"tick_width",order:84},colSldrTickHeight:{name:"Slider Tick: Height",value:10,description:"Track tick height, in pixels.",type:"number",min:1,wgtref:"colsldr",wgtname:"tick_height",order:85},colSldrTickColor:{name:"Slider Tick: Colour",value:16760090,description:"Track tick color.",type:"colour",wgtref:"colsldr",wgtname:"tick_color",order:86},colSldrTickLabDispType:{name:"Slider Tick: Label Display Type",value:"show all",description:"Track tick label display type.",type:"combo",options:["show none","show all","show ends","show three","custom"],wgtref:"colsldr",wgtname:"ticklabel_display_type",order:87},colSldrTickLabCustomCnt:{name:"Slider Tick: Custom Label Count",value:3,description:"Number of tick labels to display on slider track.",type:"number",min:1,order:36},colSldrTickLabWidth:{name:"Slider Tick: Label Width",value:80,description:"Track tick label width, in pixels.",type:"number",min:5,wgtref:"colsldr",wgtname:"ticklabel_width",order:88},colSldrTickLabOffset:{name:"Slider Tick: Label Offset",value:0,description:"Top CSS offset position, in pixels.",type:"number",min:5,wgtref:"colsldr",wgtname:"ticklabel_offset",order:89},colSldrTickLabFontSize:{name:"Slider Tick: Label Font Size",value:14,description:"Track tick label font size, in pixels.",type:"number",min:5,wgtref:"colsldr",wgtname:"ticklabel_fontsize",order:90},colSldrTickLabColor:{name:"Slider Tick: Label Color",value:5988197,description:"Track tick label font color.",type:"colour",wgtref:"colsldr",wgtname:"ticklabel_fontcolor",order:91},colRadChckEnable:{name:"Column Don't Know: Enable",value:false,description:"If set true, last columnArray object will be used to create a RadioCheck widget button.",type:"bool",order:60},colRadChckShowImpRadio:{name:"Column Don't Know: Show Import Bckgrnd",value:false,description:"If set true, buttons which behave like Radio buttons will display an imported background image.",type:"bool",wgtref:"dkbtn",wgtname:"radchkbtn_rad_show_import",order:49},colRadChckImp:{name:"Column Don't Know: Import Bckgrnd",value:"",description:"Import image to use for button. Only 1 image sprite should be used.",type:"bitmapdata",wgtref:"dkbtn",wgtname:"radchkbtn_rad_url",order:75},colRadChckWidth:{name:"Column Don't Know: Bckgrnd Width",value:30,description:"Width used for import image, in pixels.",type:"number",min:5,wgtref:"dkbtn",wgtname:"radchkbtn_rad_width",order:76},colRadChckHeight:{name:"Column Don't Know: Bckgrnd Height",value:30,description:"Height used for import image, in pixels.",type:"number",min:5,wgtref:"dkbtn",wgtname:"radchkbtn_rad_height",order:77},colRadChckHoffset:{name:"Column Don't Know: Left CSS Pos",value:0,description:"Left CSS offset position, in pixels.",type:"number",wgtref:"dkbtn",wgtname:"left",order:112},colRadChckVoffset:{name:"Column Don't Know: Top CSS Pos",value:0,description:"Top CSS offset position, in pixels.",type:"number",wgtref:"dkbtn",wgtname:"top",order:113},colRadChckLabelHalign:{name:"Column Don't Know: Label Horz Alignment",value:"left",description:"Button label horizontal text alignment.",type:"combo",options:["left","right","center"],wgtref:"dkbtn",wgtname:"radchkbtn_label_halign",order:73},colRadChckLabelWidth:{name:"Column Don't Know: Label Width",value:100,description:"Button label width, in pixels.",type:"number",min:5,wgtref:"dkbtn",wgtname:"radchkbtn_label_width",order:72},colRadChckLabelFontSize:{name:"Column Don't Know: Label Font Size",value:18,description:"Button label font size, in pixels.",type:"number",min:5,wgtref:"dkbtn",wgtname:"radchkbtn_label_fontsize",order:74},colRadChckLabelColorUp:{name:"Column Don't Know: Label UP Font Color",value:5988197,description:"Button label font color in the button’s default state.",type:"colour",wgtref:"dkbtn",wgtname:"radchkbtn_label_fontcolor_up",order:56},colRadChckLabelColorOver:{name:"Column Don't Know: Label OVER Font Color",value:5988197,description:"Button label font color on button mouse over.",type:"colour",wgtref:"dkbtn",wgtname:"radchkbtn_label_fontcolor_over",order:57},colRadChckLabelColorDown:{name:"Column Don't Know: Label DOWN Font Color",value:5988197,description:"Button label font color when button is selected.",type:"colour",wgtref:"dkbtn",wgtname:"radchkbtn_label_fontcolor_down",order:58},rowContainType:{name:"Row Contain: Layout Type",value:"horizontal grid layout",description:"Layout template applied to row buttons.",type:"combo",options:["horizontal grid layout","vertical grid layout","horizontal layout","vertical layout","sequential layout"],order:3},rowContainWidth:{name:"Row Contain: Bckgrnd Width",value:800,description:"Row container background width, in pixels.",type:"number",min:50,wgtref:"rowcontain",wgtname:"width",order:5},rowContainHeight:{name:"Row Contain: Bckgrnd Height",value:600,description:"Row container background height, in pixels.",type:"number",min:50,wgtref:"rowcontain",wgtname:"height",order:6},rowContainPadding:{name:"Row Contain: Bckgrnd Padding",value:0,description:"Row container background padding, in pixels.",type:"number",min:0,wgtref:"rowcontain",wgtname:"padding",order:7},rowContainHgap:{name:"Row Contain: Horz Btn Spacing",value:10,description:"The horizontal spacing of row buttons, in pixels.",type:"number",min:0,wgtref:"rowcontain",wgtname:"hgap",order:8},rowContainVgap:{name:"Row Contain: Vert Btn Spacing",value:10,description:"The vertical spacing of row buttons, in pixels.",type:"number",min:0,wgtref:"rowcontain",wgtname:"vgap",order:9},rowContainHoffset:{name:"Row Contain: Left CSS Pos",value:0,description:"Left CSS offset position, in pixels.",type:"number",wgtref:"rowcontain",wgtname:"left",order:10},rowContainVoffset:{name:"Row Contain: Top CSS Pos",value:0,description:"Top CSS offset position, in pixels.",type:"number",wgtref:"rowcontain",wgtname:"top",order:11},rowContainBckgrndDispType:{name:"Row Contain: Bckgrnd Display Type",value:"none",description:"Row container background display type.",type:"combo",options:["vector","import","none"],order:3},rowContainBorderStyle:{name:"Row Contain: Border Style",value:"none",description:"Row container CSS border style.",type:"combo",options:["solid","dotted","dashed","none"],wgtref:"rowcontain",wgtname:"border_style",order:12},rowContainBorderWidth:{name:"Row Contain: Border Width",value:1,description:"Row container border width, in pixels.",type:"number",min:0,wgtref:"rowcontain",wgtname:"border_width",order:13},rowContainBorderColor:{name:"Row Contain: Border Color",value:13816789,description:"Row container border color.",type:"colour",wgtref:"rowcontain",wgtname:"border_color",order:14},rowContainBckgrndColor:{name:"Row Contain: Bckgrnd Color",value:16777215,description:"Row container background color.",type:"colour",wgtref:"rowcontain",wgtname:"bckgrnd_color",order:15},rowContainImgImport:{name:"Row Contain: Import Bckgrnd",value:"",description:"Row container imported background image.",type:"bitmapdata",wgtref:"rowcontain",wgtname:"bckgrnd_import",order:26},rowContainImgImportHoffset:{name:"Row Contain: Import Bckgrnd Left CSS Pos",value:0,description:"Left CSS offset position, in pixels.",type:"number",wgtref:"rowcontain",wgtname:"bckgrnd_import_left",order:27},rowContainImgImportVoffset:{name:"Row Contain: Import Bckgrnd Top CSS Pos",value:0,description:"Top CSS offset position, in pixels.",type:"number",wgtref:"rowcontain",wgtname:"bckgrnd_import_top",order:28},rowContainShowLabel:{name:"Row Contain: Show Label",value:false,description:"If set true, row container label will display.",type:"bool",wgtref:"rowcontain",wgtname:"show_label",order:24},rowContainLabel:{name:"Row Contain: Label Text",value:"Please drag and drop onto the slider bar below.",description:"Row container label text.",type:"string",wgtref:"rowcontain",wgtname:"label",order:19},rowContainLabelHalign:{name:"Row Contain: Label Horz Alignment",value:"left",description:"Row container label horizontal text alignment.",type:"combo",options:["left","right","center"],wgtref:"rowcontain",wgtname:"label_halign",order:20},rowContainLabelFontSize:{name:"Row Contain: Label Font Size",value:18,description:"Row container label font size, in pixels.",type:"number",min:5,wgtref:"rowcontain",wgtname:"label_fontsize",order:21},rowContainLabelPadding:{name:"Row Contain: Label Padding",value:4,description:"Row container label padding, in pixels.",type:"number",min:0,wgtref:"rowcontain",wgtname:"label_padding",order:22},rowContainLabelColor:{name:"Row Contain: Label Font Color",value:5988197,description:"Row container label font color.",type:"colour",wgtref:"rowcontain",wgtname:"label_fontcolor",order:23},rowBtnDefaultType:{name:"Row Btn: Default Button Type",value:"Base",description:"Default button type used by component.",type:"combo",options:["Base","Flow","KantarBase","Text"],order:29},rowBtnWidth:{name:"Row Btn: Bckgrnd Width",value:100,description:"Button background width, in pixels",type:"number",min:10,wgtref:"rowbtn",wgtname:"width",order:30},rowBtnHeight:{name:"Row Btn: Bckgrnd Height",value:100,description:"Button background height, in pixels",type:"number",min:10,wgtref:"rowbtn",wgtname:"height",order:31},rowBtnPadding:{name:"Row Btn: Bckgrnd Padding",value:4,description:"Button background padding, in pixels.",type:"number",min:0,wgtref:"rowbtn",wgtname:"padding",order:32},rowBtnBorderStyle:{name:"Row Btn: Border Style",value:"solid",description:"Button background CSS border style.",type:"combo",options:["solid","dotted","dashed","none"],wgtref:"rowbtn",wgtname:"border_style",order:33},rowBtnBorderWidthUp:{name:"Row Btn: Border UP Width",value:2,description:"Button background border width, in pixels.",type:"number",min:0,wgtref:"rowbtn",wgtname:"border_width_up",order:34},rowBtnBorderColorUp:{name:"Row Btn: Border UP Color",value:13816789,description:"Button background border color in its default state.",type:"colour",wgtref:"rowbtn",wgtname:"border_color_up",order:36},rowBtnBorderColorOver:{name:"Row Btn: Border OVER Color",value:10922155,description:"Button background border color on mouse over.",type:"colour",wgtref:"rowbtn",wgtname:"border_color_over",order:37},rowBtnBorderColorDown:{name:"Row Btn: Border DOWN Color",value:16760090,description:"Button background border color when button is selected.",type:"colour",wgtref:"rowbtn",wgtname:"border_color_down",order:38},rowBtnBckgrndColorUp:{name:"Row Btn: Bckgrnd UP Color",value:16777215,description:"Button background color in its default state.",type:"colour",wgtref:"rowbtn",wgtname:"bckgrnd_color_up",order:39},rowBtnBckgrndColorOver:{name:"Row Btn: Bckgrnd OVER Color",value:16777215,description:"Button background color on mouse over.",type:"colour",wgtref:"rowbtn",wgtname:"bckgrnd_color_over",order:40},rowBtnBckgrndColorDown:{name:"Row Btn: Bckgrnd DOWN Color",value:16777215,description:"Button background color when button is selected.",type:"colour",wgtref:"rowbtn",wgtname:"bckgrnd_color_down",order:41},rowBtnFlagStickBaseHeight:{name:"Row Btn: FlagStick Base Height",value:40,description:"Flag stick height in button's default state.",type:"number",min:0,wgtref:"rowbtn",wgtname:"flagstick_height",order:46},rowBtnFlagStickGrowHeight:{name:"Row Btn: FlagStick Grow Height",value:40,description:"Flag stick max growth height.",type:"number",min:1,order:46},rowBtnFlagStickCircColor:{name:"Row Btn: FlagStick Circle Colour",value:5988197,description:"Flag stick circle color.",type:"colour",wgtref:"rowbtn",wgtname:"flagcircle_color",order:35},rowBtnShowLabel:{name:"Row Label: Display",value:true,description:"If set false, button label will not display.",type:"bool",wgtref:"rowbtn",wgtname:"show_label",order:60},rowBtnLabelPlacement:{name:"Row Label: Placement",value:"bottom",description:"Button label placement.",type:"combo",options:["bottom","top","center"],wgtref:"rowbtn",wgtname:"label_placement",order:51},rowBtnLabelHalign:{name:"Row Label: Horz Alignment",value:"left",description:"Button label horizontal text alignment.",type:"combo",options:["left","right","center"],wgtref:"rowbtn",wgtname:"label_halign",order:52},rowBtnLabelFontSize:{name:"Row Label: Font Size",value:18,description:"Button label font size, in pixels.",type:"number",min:5,wgtref:"rowbtn",wgtname:"label_fontsize",order:53},rowBtnLabelColorUp:{name:"Row Label: UP Font Color",value:5988197,description:"Button label font color in the button’s default state.",type:"colour",wgtref:"rowbtn",wgtname:"label_fontcolor_up",order:56},rowBtnLabelColorOver:{name:"Row Label: OVER Font Color",value:5988197,description:"Button label font color on button mouse over.",type:"colour",wgtref:"rowbtn",wgtname:"label_fontcolor_over",order:57},rowBtnLabelColorDown:{name:"Row Label: DOWN Font Color",value:5988197,description:"Button label font color when button is selected.",type:"colour",wgtref:"rowbtn",wgtname:"label_fontcolor_down",order:58},rowBtnLabelOverlayShowBckgrnd:{name:"Row Label Overlay: Display Bckgrnd",value:true,description:"If set true, overlay label will display a background color.",type:"bool",wgtref:"rowbtn",wgtname:"show_label_bckgrnd",order:61},rowBtnLabelOverlayBckgrndColor:{name:"Row Label Overlay: Bckgrnd Color",value:16777215,description:"Overlay label background color.",type:"colour",wgtref:"rowbtn",wgtname:"label_bckgrnd_color",order:59},rowBtnLabelOverlayPadding:{name:"Row Label Overlay: Padding",value:4,description:"Overlay label padding, in pixels.",type:"number",min:0,wgtref:"rowbtn",wgtname:"label_overlay_padding",order:32},rowBtnImgHoffset:{name:"Row Image: Left CSS Pos",value:0,description:"Left CSS offset position, in pixels.",type:"number",wgtref:"rowbtn",wgtname:"img_left",order:62},rowBtnImgVoffset:{name:"Row Image: Top CSS Pos",value:0,description:"Top CSS offset position, in pixels.",type:"number",wgtref:"rowbtn",wgtname:"img_top",order:63},rowShowStamp:{name:"Row Stamp: Display",value:false,description:"If set true, imported stamp will display when button is selected.",type:"bool",wgtref:"rowbtn",wgtname:"show_stamp",order:69},rowStampImp:{name:"Row Stamp: Import Image",value:"",description:"Imported stamp image to use on button select.",type:"bitmapdata",wgtref:"rowbtn",wgtname:"stamp_import",order:64},rowStampWidth:{name:"Row Stamp: Width",value:30,description:"Stamp image width, in pixels.",type:"number",min:5,wgtref:"rowbtn",wgtname:"stamp_width",order:65},rowStampHeight:{name:"Row Stamp: Height",value:30,description:"Stamp image height, in pixels.",type:"number",min:5,wgtref:"rowbtn",wgtname:"stamp_height",order:66},rowStampHoffset:{name:"Row Stamp: Left CSS Pos",value:0,description:"Left CSS offset position, in pixels.",type:"number",wgtref:"rowbtn",wgtname:"stamp_left",order:67},rowStampVoffset:{name:"Row Stamp: Top CSS Pos",value:0,description:"Top CSS offset position, in pixels.",type:"number",wgtref:"rowbtn",wgtname:"stamp_top",order:68},rowBtnValLabDispType:{name:"Row Value Label: Display Type",value:"column label",description:"Type of data to display in the value label.",type:"combo",options:["column value","column label","range value","none"],order:105},rowBtnValLabHalign:{name:"Row Value Label: Horz Alignment",value:"center",description:"Value label horizontal text alignment.",type:"combo",options:["left","right","center"],wgtref:"rowbtn",wgtname:"value_label_halign",order:45},rowBtnValLabFontSize:{name:"Row Value Label: Font Size",value:18,description:"Value label font size, in pixels.",type:"number",min:5,wgtref:"rowbtn",wgtname:"value_label_fontsize",order:46},rowBtnValLabColor:{name:"Row Value Label: Font Color",value:5988197,description:"Value label font color.",type:"colour",wgtref:"rowbtn",wgtname:"value_label_fontcolor",order:49},rowBtnSelectAnimType:{name:"Row Animation: Type",value:"basic",description:"Select how row buttons are animated on drag/drop.",type:"combo",options:["basic","image","pin"],wgtref:"rowbtn",wgtname:"select_anim_type",wgtexclude:true,order:3},rowBtnImageAnimWidth:{name:"Row Animation: Image Width",value:50,description:"Image animation row width, in pixels.",type:"number",min:5,wgtref:"rowbtn",wgtname:"image_select_anim_width",wgtexclude:true,order:76},rowBtnImageAnimHeight:{name:"Row Animation: Image Height",value:50,description:"Image animation row height, in pixels.",type:"number",min:5,wgtref:"rowbtn",wgtname:"image_select_anim_height",wgtexclude:true,order:76},rowBtnPinAnimSize:{name:"Row Animation: Pin Size",value:12,description:"Pin animation pin size.",type:"number",min:5,wgtref:"rowbtn",wgtname:"pin_select_anim_size",wgtexclude:true,order:76},rowBtnDragAlpha:{name:"Row Animation: Drag Transparency",value:100,description:"Button opacity during row drag.",type:"number",min:50,max:100,order:76},rowBtnUseTooltip:{name:"Tooltip: Enable for Row Btn",value:false,description:"If set true and widget has a description, the tooltip feature will be enabled.",type:"bool",wgtref:"rowbtn",wgtname:"use_tooltip",order:92},tooltipWidth:{name:"Tooltip: Bckgrnd Width",value:150,description:"Tooltip background width, in pixels.",type:"number",min:5,wgtref:"tooltip",wgtname:"tooltip_width",order:93},tooltipLabelHalign:{name:"Tooltip: Text Horz Alignment",value:"left",description:"Tooltip horizontal text alignment.",type:"combo",options:["left","right","center"],wgtref:"tooltip",wgtname:"tooltip_halign",order:97},tooltipFontSize:{name:"Tooltip: Font Size",value:18,description:"Tooltip font size, in pixels.",type:"number",min:5,wgtref:"tooltip",wgtname:"tooltip_fontsize",order:98},tooltipFontColor:{name:"Tooltip: Font Color",value:5988197,description:"Tooltip font color.",type:"colour",wgtref:"tooltip",wgtname:"tooltip_fontcolor",order:99},tooltipBorderWidth:{name:"Tooltip: Border Width",value:2,description:"Tooltip border width, in pixels.",type:"number",min:0,wgtref:"tooltip",wgtname:"tooltip_border_width",order:94,display:false},tooltipBorderColor:{name:"Tooltip: Border Color",value:13816789,description:"Tooltip border color.",type:"colour",wgtref:"tooltip",wgtname:"tooltip_border_color",order:95,display:false},tooltipBckgrndColor:{name:"Tooltip: Bckgrnd Color",value:16777215,description:"Tooltip background color.",type:"colour",wgtref:"tooltip",wgtname:"tooltip_bckgrnd_color",order:96,display:false},rowBtnUseZoom:{name:"LightBox: Enable for Row Btn",value:false,description:"If set true and widget has an image, the lightbox feature will be enabled.",type:"bool",wgtref:"rowbtn",wgtname:"use_lightbox",order:100},zoomActionType:{name:"LightBox: Action Type",value:"click append image",description:"User action type to display image.",type:"combo",options:["click append image","click append widget","mouseover"],wgtref:"ctz",wgtname:"action_type",order:52},rowZoomHoffset:{name:"LightBox: Zoom Btn Left CSS Pos",value:0,description:"Left CSS offset position, in pixels.",type:"number",wgtref:"rowbtn",wgtname:"zoom_left",order:112},rowZoomVoffset:{name:"LightBox: Zoom Btn Top CSS Pos",value:0,description:"Top CSS offset position, in pixels.",type:"number",wgtref:"rowbtn",wgtname:"zoom_top",order:113},zoomImp:{name:"LightBox: Zoom Btn Import Image",value:"",description:"Zoom button imported image.",type:"bitmapdata",wgtref:"ctz",wgtname:"zoom_import",order:109},zoomWidth:{name:"LightBox: Zoom Btn Width",value:20,description:"Zoom button width, in pixels.",type:"number",min:5,wgtref:"ctz",wgtname:"zoom_width",order:110},zoomHeight:{name:"LightBox: Zoom Btn Height",value:20,description:"Zoom button height, in pixels.",type:"number",min:5,wgtref:"ctz",wgtname:"zoom_height",order:111},zoomBorderWidth:{name:"LightBox: Zoom Btn Border Width",value:1,description:"Zoom button border width, in pixels.",type:"number",min:0,wgtref:"ctz",wgtname:"zoom_border_width",order:114,display:false},zoomBorderColor:{name:"LightBox: Zoom Btn Border Color",value:13816789,description:"Zoom button border color.",type:"colour",wgtref:"ctz",wgtname:"zoom_border_color",order:115,display:false},zoomBckgrndColor:{name:"LightBox: Zoom Btn Bckgrnd Color",value:16777215,description:"Zoom button background color.",type:"colour",wgtref:"ctz",wgtname:"zoom_bckgrnd_color",order:116,display:false},zoomCloseImp:{name:"LightBox: Close Btn Import Image",value:"",description:"Close button imported image.",type:"bitmapdata",wgtref:"ctz",wgtname:"close_import",order:117},zoomCloseWidth:{name:"LightBox: Close Btn Width",value:22,description:"Close button width, in pixels.",type:"number",min:5,wgtref:"ctz",wgtname:"close_width",order:118},zoomCloseHeight:{name:"LightBox: Close Btn Height",value:22,description:"Close button height, in pixels.",type:"number",min:5,wgtref:"ctz",wgtname:"close_height",order:119},zoomCloseHoffset:{name:"LightBox: Close Btn Left CSS Pos",value:0,description:"Left CSS offset position, in pixels.",type:"number",wgtref:"ctz",wgtname:"close_left",order:120},zoomCloseVoffset:{name:"LightBox: Close Btn Top CSS Pos",value:0,description:"Top CSS offset position, in pixels.",type:"number",wgtref:"ctz",wgtname:"close_top",order:121},zoomOverlayBckgrndColor:{name:"LightBox: Overlay Color",value:0,description:"Overlay background color.",type:"colour",wgtref:"ctz",wgtname:"overlay_bckgrnd_color",order:101,display:false},zoomOverlayAlpha:{name:"LightBox: Overlay Transparency",value:80,description:"Overlay background opacity.",type:"number",min:0,max:100,wgtref:"ctz",wgtname:"overlay_alpha",order:102,display:false},zoomGalleryPadding:{name:"LightBox: Image Padding",value:10,description:"Image gallery padding, in pixels.",type:"number",min:0,wgtref:"ctz",wgtname:"gallery_padding",order:103,display:false},zoomGalleryHoffset:{name:"LightBox: Image Left CSS Pos",value:0,description:"Left CSS offset position, in pixels.",type:"number",wgtref:"ctz",wgtname:"gallery_left",order:104,display:false},zoomGalleryVoffset:{name:"LightBox: Image Top CSS Pos",value:0,description:"Top CSS offset position, in pixels.",type:"number",wgtref:"ctz",wgtname:"gallery_top",order:105,display:false},zoomGalleryBorderStyle:{name:"LightBox: Image Border Style",value:"none",description:"Image gallery CSS border style.",type:"combo",options:["solid","dotted","dashed","none"],wgtref:"ctz",wgtname:"gallery_border_style",order:106,display:false},zoomGalleryBorderWidth:{name:"LightBox: Image Border Width",value:0,description:"Image gallery border width, in pixels.",type:"number",min:0,wgtref:"ctz",wgtname:"gallery_border_width",order:107,display:false},zoomGalleryBorderColor:{name:"LightBox: Image Border Color",value:13816789,description:"Image gallery border color.",type:"colour",wgtref:"ctz",wgtname:"gallery_border_color",order:108,display:false}}},__getParamObj:function(d,c){var e={};for(var b in this.qStudioVar.params){if(this.qStudioVar.params.hasOwnProperty(b)){if(this.qStudioVar.params[b].wgtref&&this.qStudioVar.params[b].wgtref.toLowerCase().indexOf(d)!==-1){(!c)?e[b]={value:this.qStudioVar.params[b].value,type:this.qStudioVar.params[b].type,options:this.qStudioVar.params[b].options,min:this.qStudioVar.params[b].min,wgtname:this.qStudioVar.params[b].wgtname,wgtexclude:!!this.qStudioVar.params[b].wgtexclude}:e[this.qStudioVar.params[b].wgtname]=this.qStudioVar.params[b].value}}}if(c){e.isRTL=this.qStudioVar.isCompRTL;e.primary_font_family=(d.toLowerCase().indexOf("row")!==-1)?this.qStudioVar.params.compPrimRowFontFamily.value:this.qStudioVar.params.compPrimColumnFontFamily.value;switch(d){case"rowcontain":e.id="QRowContainer";e.show_bckgrnd=(this.qStudioVar.params.rowContainBckgrndDispType.value.toLowerCase()==="vector");e.show_bckgrnd_import=(this.qStudioVar.params.rowContainBckgrndDispType.value.toLowerCase()==="import");e.direction=(this.qStudioVar.params.rowContainType.value.toLowerCase().indexOf("vertical")!==-1)?"vertical":"horizontal";e.position="relative";e.autoWidth=true;e.autoHeight=true;break;case"rowbtn":e.show_value_label=(this.qStudioVar.params.rowBtnValLabDispType.value.toLowerCase()!=="none");break;case"colsldr":default:break}}return e},__validateParam:function(h,f,b,k){var j=h[k].type,l=h[k].options,c=h[k].min,e=b[k];switch(j){case"number":if(QUtility.isNumber(e)){if(QUtility.isNumber(c)){if(e>=c){f[h[k].wgtname]=e}}else{f[h[k].wgtname]=e}}break;case"bool":if(typeof e==="boolean"){f[h[k].wgtname]=e}break;case"string":if(QUtility.isString(e)){f[h[k].wgtname]=e}break;case"combo":if(jQuery.isArray(l)&&l.length>0){for(var d=0,g=l.length;d<g;d+=1){if(jQuery.trim(l[d]).toLowerCase()===jQuery.trim(e).toLowerCase()){f[h[k].wgtname]=jQuery.trim(l[d]);break}}}break;case"colour":if(QUtility.paramToHex(e)){f[h[k].wgtname]=e}break;default:break}},__setRowBtnLevelParams:function(e,b){var d=this.getRowBtnParams();for(var c in e){if(e.hasOwnProperty(c)){if(d.hasOwnProperty(c)){if(!d[c].wgtexclude){this.__validateParam(d,b,e,c)}}else{switch(c){case"width":case"height":if(QUtility.isNumber(e[c])){b[c]=e[c]}break;case"useTooltip":if(typeof e[c]==="boolean"){b.use_tooltip=e[c]}break;case"useZoom":if(typeof e[c]==="boolean"){b.use_lightbox=e[c]}break;case"showImpBckgrnd":if(typeof e[c]==="boolean"){b.show_bckgrnd_import=e[c]}break;case"bckgrndUp":if(QUtility.isString(e[c])&&e[c].length>0){b.bckgrnd_import_up=e[c]}break;case"bckgrndOver":if(QUtility.isString(e[c])&&e[c].length>0){b.bckgrnd_import_over=e[c]}break;case"bckgrndDown":if(QUtility.isString(e[c])&&e[c].length>0){b.bckgrnd_import_down=e[c]}break;default:break}}}}},getAcceptedRowWidgets:function(d){if(QUtility.isString(d)&&jQuery.trim(d.toLowerCase()).length>0){var c=false;for(var b=this.qStudioVar.rowAcceptedWgts.length;b--;){if(d===this.qStudioVar.rowAcceptedWgts[b]){c=true;break}}return c}return this.qStudioVar.rowAcceptedWgts},getRowBtnParams:function(b){return this.__getParamObj("rowbtn",b)},getRowContainParams:function(b){return this.__getParamObj("rowcontain",b)},getColumnSldrParams:function(b){return this.__getParamObj("colsldr",b)},getToolTipParams:function(b){return this.__getParamObj("tooltip",b)},getLightBoxParams:function(b){return this.__getParamObj("ctz",b)},create:function(l,p){this.qStudioVar.surveyContain=p;this.qStudioVar.respRef={eventCache:undefined,radChkEnabled:this.qStudioVar.params.colRadChckEnable.value,stickGrowHeight:this.qStudioVar.params.rowBtnFlagStickGrowHeight.value,selectAnimType:this.qStudioVar.params.rowBtnSelectAnimType.value.toLowerCase(),isLayoutSeq:false,rowArry:[],colArry:[]};if(QUtility.isSurveyRTL()){this.qStudioVar.params.compRTL.value=true}this.qStudioVar.isCompRTL=(!(l&&l.id==="componentDemoContainer"))?this.qStudioVar.params.compRTL.value:false;var j=this,x=document,t=this.qStudioVar.respRef,v=this.qStudioVar.params,c=jQuery.trim(v.rowContainType.value).toLowerCase(),w=this.getColumnSldrParams(true),h=QUtility.isTouchDevice(),q=QUtility.isMSTouch(),u=(this.questionType()==="multi"),o=(!t.radChkEnabled)?this.qStudioVar.columnArray.length:this.qStudioVar.columnArray.length-1,k=x.createElement("div"),i=(!q)?((h)?"touchstart.dragnflag":"mousedown.dragnflag"):((h)?((window.PointerEvent)?"pointerdown.dragnflag":"MSPointerDown.dragnflag"):"mousedown.dragnflag"),b=(!q)?((h)?"touchmove.dragnflag":"mousemove.dragnflag"):((h)?((window.PointerEvent)?"pointermove.dragnflag":"MSPointerMove.dragnflag"):"mousemove.dragnflag"),f=(!q)?((h)?"touchend.dragnflag":"mouseup.dragnflag"):((h)?((window.PointerEvent)?"pointerup.dragnflag":"MSPointerUp.dragnflag"):"mouseup.dragnflag"),m=null;QStudioCompFactory.lightBoxFactory("basic",x.body,this.getLightBoxParams(true));QStudioCompFactory.toolTipFactory("",x.body,this.getToolTipParams(true));t.isLayoutSeq=(!u&&(c.indexOf("sequential")!==-1));if((c.indexOf("sequential")!==-1)&&!t.isLayoutSeq){v.rowContainType.value="horizontal grid layout";c=v.rowContainType.value}if(t.selectAnimType==="pin"){v.rowBtnFlagStickGrowHeight.value=0}k.id="DragnFlagComponent";k.dir=(!this.qStudioVar.isCompRTL)?"ltr":"rtl";k.className="qdragnflag_component";k.style.position=v.compContainPos.value;k.style.width="100%";k.style.height="100%";l=(l&&l.nodeType===1)?l:x.body;l.appendChild(k);this.qStudioVar.compContain=k;this.qStudioVar.rowContain=QStudioCompFactory.layoutFactory(c.substr(0,c.toLowerCase().indexOf("layout")-1),k,this.getRowContainParams(true));this.qStudioVar.rowContain.container().style.zIndex=3000;var s=x.createElement("div"),n=x.createElement("div"),r=x.createElement("div"),e=x.createElement("div");r.appendChild(e);n.appendChild(r);s.appendChild(n);k.appendChild(s);this.qStudioVar.slider=s;this.qStudioVar.trackContain=n;this.qStudioVar.tickContain=e;s.className="qwidget_slider";s.dir="LTR";s.style.cssText+=";".concat("position: relative; filter: inherit;");s.style.cssText+=";".concat("-webkit-tap-highlight-color: rgba(0,0,0,0);");s.style.cssText+=";".concat("-webkit-touch-callout: none;");s.style.cssText+=";".concat("-ms-touch-action: none;");s.style.cssText+=";".concat("-webkit-user-select: none;");s.style.cssText+=";".concat("-khtml-user-select: none;");s.style.cssText+=";".concat("-moz-user-select: none;");s.style.cssText+=";".concat("-ms-user-select: none;");s.style.cssText+=";".concat("-user-select: none;");n.className="qwidget_slider_track_container";n.style.position="relative";n.style.filter="inherit";e.style.position="absolute";e.style.filter="inherit";this.update(true);$(k).on(i,".qwidget_button",function(L){L.stopPropagation();L.preventDefault();if(q&&h&&!L.originalEvent.isPrimary){return}var J=(L.type.indexOf("touch")!==-1&&L.originalEvent.targetTouches)?L.originalEvent.targetTouches[0]:((!q)?L:L.originalEvent),y=L.currentTarget,I=parseInt(y.getAttribute("colIndex"),10),F=(!u)?parseInt(y.getAttribute("rowIndex"),10):(parseInt(y.getAttribute("rowIndex"),10)*o)+I,Q=t.rowArry[F].row,N=t.rowArry[F].wrap,D=t.rowArry[F].columnValue,O=null,H=null,E=null,A=false,C=QUtility.getQStudioSurveyScale(),G=($(p).scrollTop()!==null)?$(p).scrollTop():0,M=0,z=0,B=$(N).offset().left*(1/C.a),P=$(N).offset().top*(1/C.d),K=Q.config().flagstick_height;if(Q.enabled()){QStudioDCAbstract.prototype.isDrag(true);Q.animType[t.selectAnimType].down.call(Q,(true));M=$((t.selectAnimType!=="pin")?Q.cache().nodes.background:Q.cache().nodes.pin).outerWidth();z=$((t.selectAnimType!=="pin")?Q.cache().nodes.background:Q.cache().nodes.pin).outerHeight();$(y).css({"z-index":2000,opacity:(v.rowBtnDragAlpha.value>=50&&v.rowBtnDragAlpha.value<100)?(v.rowBtnDragAlpha.value*0.01):""});y.dragX=J.pageX-parseInt(y.getAttribute("lastX"),10)*(C.a);y.dragY=J.pageY-parseInt(y.getAttribute("lastY"),10)*(C.d);if(t.selectAnimType!=="basic"&&!Q.isAnswered()){y.dragX=(B+(M*0.5))*(C.a);y.dragY=(P+G+(z*0.5))*(C.d);y.style.left=((J.pageX-y.dragX)*(1/C.a))+"px";y.style.top=((J.pageY-y.dragY+G)*(1/C.d))+"px"}if(Q.isAnswered()){y.dragY+=G}$(x).on(b,function(S){S.preventDefault();var Z=($(p).scrollTop()!==null)?$(p).scrollTop():0,W=(S.type.indexOf("touch")!==-1&&S.originalEvent.targetTouches)?S.originalEvent.targetTouches[0]:((!q)?S:S.originalEvent);if(t.eventCache===undefined){var V=QUtility.getQStudioSurveyScale(),ac=$(N).offset().left*(1/V.a),U=$(N).offset().top*(1/V.d),X=$(r).offset().left*(1/V.a),af=$(r).offset().top*(1/V.d),Y=$((t.selectAnimType!=="pin")?Q.cache().nodes.background:Q.cache().nodes.pin).outerWidth(),R=$((t.selectAnimType!=="pin")?Q.cache().nodes.background:Q.cache().nodes.pin).outerHeight();if(t.selectAnimType==="pin"){R-=6}t.eventCache={surveyScale:V,sliderParams:j.getColumnSldrParams(true),rowWrapLeftOffset:ac,rowWrapTopOffset:U,trackLeftOffset:X,trackTopOffset:af,rowWidth:Y,rowHeight:R,trackBounds:{left:X-ac-Y*0.5+w.track_border_width,right:X-ac-Y*0.5+$(r).width()+w.track_border_width,top:(af-U-R-Q.flagStickHeight()-5)+Z+w.track_border_width,bottom:af-U+Z+w.track_border_width+w.height}}}if(h&&t.selectAnimType==="pin"&&m){var ag=m.parentNode,T=parseInt(ag.getAttribute("rowIndex"),10),aa=parseInt(ag.getAttribute("colIndex"),10),ae=t.rowArry[(!u)?T:(T*o)+aa].row;ae.animType.pin.hover.call(ae,false);m=null}A=true;if(W.pageX<0){W.pageX=0}if(W.pageY<0){W.pageY=0}var ad=(W.pageX-y.dragX)*(1/t.eventCache.surveyScale.a),ab=((W.pageY-y.dragY)+Z)*(1/t.eventCache.surveyScale.d);if(!Q.isAnswered()){y.style.top=ab+"px"}else{if(ad<t.eventCache.trackBounds.left){ad=t.eventCache.trackBounds.left}else{if(ad>t.eventCache.trackBounds.right){ad=t.eventCache.trackBounds.right}}}y.style.left=ad+"px";if(ad>=t.eventCache.trackBounds.left&&ad<=t.eventCache.trackBounds.right&&ab>=t.eventCache.trackBounds.top&&ab<=t.eventCache.trackBounds.bottom){if(!Q.isAnswered()){Q.isAnswered(true)}O=(ad-t.eventCache.sliderParams.track_border_width+(t.eventCache.rowWrapLeftOffset-t.eventCache.trackLeftOffset)+t.eventCache.rowWidth*0.5);if(O<0){O=0}if(O>t.eventCache.sliderParams.width){O=t.eventCache.sliderParams.width}E=parseFloat(((O/t.eventCache.sliderParams.width)*(t.eventCache.sliderParams.max-t.eventCache.sliderParams.min)+t.eventCache.sliderParams.min).toFixed(t.eventCache.sliderParams.precision));H=parseInt(((O/t.eventCache.sliderParams.width)*t.stickGrowHeight).toFixed(0),10);D=Math.round((O/t.eventCache.sliderParams.width)*(o-1));if(j.qStudioVar.isCompRTL){E=parseFloat(((O/t.eventCache.sliderParams.width)*(t.eventCache.sliderParams.min-t.eventCache.sliderParams.max)+t.eventCache.sliderParams.max).toFixed(t.eventCache.sliderParams.precision));H=t.stickGrowHeight-H;D=o-1-D}switch(v.rowBtnValLabDispType.value.toLowerCase()){case"column label":Q.valueLabel(j.qStudioVar.columnArray[D].label);break;case"column value":Q.valueLabel(D);break;case"none":Q.valueLabel("");break;default:Q.valueLabel(E);break}Q.flagStickHeight(K+H);Q.widget().style.top=((t.eventCache.trackTopOffset-t.eventCache.rowWrapTopOffset)-t.eventCache.rowHeight-Q.flagStickHeight()+t.eventCache.sliderParams.track_border_width+(t.eventCache.sliderParams.height-10)*0.5)+"px"}else{if(Q.isAnswered()){Q.isAnswered(false);Q.valueLabel("");if(!h&&t.selectAnimType!=="pin"){Q.toggleMouseEnter(true)}}O=null;H=null;E=null;D=null}y.setAttribute("lastX",parseInt(y.style.left,10).toString());y.setAttribute("lastY",parseInt(y.style.top,10).toString())});$(x).on(f,function(W){QStudioDCAbstract.prototype.isDrag(false);$(x).off(b);$(x).off(f);$(y).css({"z-index":"auto",opacity:""});t.eventCache=undefined;if(!Q.isAnswered()){Q.animType[t.selectAnimType].down.call(Q,(false));y.setAttribute("lastX","0");y.setAttribute("lastY","0");y.style.left=0;y.style.top=0;if(t.rowArry[F].columnValue!==-1){var X=t.colArry[t.rowArry[F].columnValue].rowRefArry;X.splice(jQuery.inArray(N,X),1);j.sendResponse(Q.rowIndex(),t.rowArry[F].columnValue,false);t.rowArry[F].rangeValue=-1;t.rowArry[F].columnValue=-1;if(t.isLayoutSeq){j.qStudioVar.rowContain.back(Q)}}}else{var Y=t.colArry[D].rowRefArry;if(jQuery.inArray(N,Y)===-1){if(t.isLayoutSeq&&t.rowArry[F].columnValue===-1){j.qStudioVar.rowContain.next()}if(t.rowArry[F].columnValue>=0&&t.rowArry[F].columnValue!==D){var X=t.colArry[t.rowArry[F].columnValue].rowRefArry;X.splice(jQuery.inArray(N,X),1);j.sendResponse(Q.rowIndex(),t.rowArry[F].columnValue,false)}if(t.radChkEnabled){j.manageClick(true)}Y.push(N);j.sendResponse(Q.rowIndex(),D,true);t.rowArry[F].rangeValue=E;t.rowArry[F].columnValue=D;if(u&&(N.children[I+1])){N.children[I+1].style.display="block"}}else{if(t.rowArry[F].columnValue!==D){Q.animType[t.selectAnimType].down.call(Q,(false));y.setAttribute("lastX","0");y.setAttribute("lastY","0");y.style.left=0;y.style.top=0;Q.isAnswered(false);Q.valueLabel("");if(t.rowArry[F].columnValue!==-1){var X=t.colArry[t.rowArry[F].columnValue].rowRefArry;X.splice(jQuery.inArray(N,X),1);j.sendResponse(Q.rowIndex(),t.rowArry[F].columnValue,false);t.rowArry[F].rangeValue=-1;t.rowArry[F].columnValue=-1;if(t.isLayoutSeq){j.qStudioVar.rowContain.back(Q)}}}else{t.rowArry[F].rangeValue=E}}}if(h&&t.selectAnimType==="pin"&&!A){var T=Q.cache().nodes.pin;if(T!==m){if(m){var V=m.parentNode,U=parseInt(V.getAttribute("rowIndex"),10),R=parseInt(V.getAttribute("colIndex"),10),S=t.rowArry[(!u)?U:(U*o)+R].row;S.animType.pin.hover.call(S,false)}Q.animType.pin.hover.call(Q,true);m=T}else{Q.animType.pin.hover.call(Q,false);m=null}}})}});if(t.dkWgt){var g=(!q)?((!h)?"click.dragnflag":"touchstart.dragnflag touchend.dragnflag touchmove.dragnflag"):((!h)?"click.dragnflag":((window.PointerEvent)?"pointerdown.dragnflag pointerup.dragnflag":"MSPointerDown.dragnflag MSPointerUp.dragnflag")),d=false;$(t.dkWgt.widget()).on(g,function(y){y.stopPropagation();if(q&&h&&!y.originalEvent.isPrimary){return}if(y.type!=="touchmove"){if(y.type!=="touchstart"&&y.type!=="pointerdown"&&y.type!=="MSPointerDown"){if(!d){j.manageClick()}}else{d=false}}else{d=true}})}},update:function(Z){var l=document,D=this.qStudioVar.respRef,d=this.qStudioVar.params,L=this.qStudioVar.rowContain,U=this.qStudioVar.compContain,C=QUtility.isMSTouch(),I=QUtility.isTouchDevice(),h=(this.questionType()==="multi"),ab=0,p=this.qStudioVar.rowArray.length,aa=0,b=(!D.radChkEnabled)?this.qStudioVar.columnArray.length:this.qStudioVar.columnArray.length-1,X=(!C)?((I)?"touchend.dragnflag":"mouseup.dragnflag"):((I)?((window.PointerEvent)?"pointerup.dragnflag":"MSPointerUp.dragnflag"):"mouseup.dragnflag");if(!Z){this.qStudioVar.isUpdating=true;qToolTipSingleton.getInstance().hide();$(l).trigger(X);L.remove();L.config(this.getRowContainParams(true))}for(ab=0;ab<p;ab+=1){var T=this.qStudioVar.rowArray[ab],o=jQuery.trim(T.var1||T.type).toLowerCase(),y=this.getRowBtnParams(true),f=d.rowBtnDefaultType.value.toLowerCase(),G=undefined,P=undefined;if(this.getAcceptedRowWidgets(o)===true){f=o}y.rowIndex=ab;y.colIndex=0;y.id=(!h)?(T.id||"row_"+ab):(T.id+"_"+0||"row_"+ab+"_"+0);y.label=T.label;y.description=T.description;y.image=T.image;y.btn_widget_type=f;if(f==="base"){y.label_placement+=" overlay"}this.__setRowBtnLevelParams(T,y);if(Z){G=QStudioCompFactory.widgetFactory("flagbtn",U,y);G.enabled(true);G.touchEnabled(I);G.widget().setAttribute("rowIndex",ab.toString());G.widget().setAttribute("colIndex","0");G.widget().style.position="absolute";G.widget().style.left=0;G.widget().style.top=0;G.widget().setAttribute("lastX","0");G.widget().setAttribute("lastY","0");P=this.qStudioVar.rowContain.add(G);D.rowArry.push({row:G,wrap:P,rangeValue:-1,columnValue:-1})}else{G=D.rowArry[(!h)?ab:ab*b].row;if(G.isAnswered()){D.rowArry[(!h)?ab:ab*b].rowFlagHeight=G.flagStickHeight();D.rowArry[(!h)?ab:ab*b].rowValueLabel=$(G.cache().nodes.valueLabel).html()}G.config(y);P=this.qStudioVar.rowContain.add(G);D.rowArry[(!h)?ab:ab*b].wrap=P}if(!D.isLayoutSeq){P.style.width=$(G.widget()).outerWidth()+"px";P.style.height=$(G.widget()).outerHeight()+"px"}if(h){for(aa=1;aa<b;aa+=1){y.colIndex=aa;y.id=T.id+"_"+aa||"row_"+ab+"_"+aa;if(Z){G=QStudioCompFactory.widgetFactory("flagbtn",P,y);G.enabled(true);G.touchEnabled(I);G.widget().setAttribute("rowIndex",ab.toString());G.widget().setAttribute("colIndex",aa.toString());G.widget().style.display="none";G.widget().style.position="absolute";G.widget().style.left=0;G.widget().style.top=0;G.widget().setAttribute("lastX","0");G.widget().setAttribute("lastY","0");D.rowArry.push({row:G,wrap:P,rangeValue:-1,columnValue:-1})}else{G=D.rowArry[(ab*b)+aa].row;if(G.isAnswered()){D.rowArry[(ab*b)+aa].rowFlagHeight=G.flagStickHeight();D.rowArry[(ab*b)+aa].rowValueLabel=$(G.cache().nodes.valueLabel).html()}G.config(y);P.appendChild(G.widget());D.rowArry[(ab*b)+aa].wrap=P}}}}var n=this.qStudioVar.slider,w=this.qStudioVar.trackContain,E=w.firstChild,z=this.qStudioVar.tickContain,r=this.getColumnSldrParams(true),t=r.ticklabel_display_type.toLowerCase(),K=(t!=="show three")?((d.colSldrTickLabCustomCnt.value>=1)?d.colSldrTickLabCustomCnt.value:1):3,R=(K>1)?(b-1)/(K-1):1,W=((t==="custom"||t==="show three")&&(R>=1)),ac=r.width/(b-1),m=[],s=0,Q=0,q=0;if(W){for(var Y=0;Y<b;Y+=1){m[Y]={label:""}}for(var Y=0;Y<K;Y+=1){var N=Math.round(Y*R);m[N].label=this.qStudioVar.columnArray[N].label}}else{m=(!D.radChkEnabled)?this.qStudioVar.columnArray:this.qStudioVar.columnArray.slice(0,b)}if(this.qStudioVar.isCompRTL){m=m.concat([]).reverse()}n.style.marginTop=d.colSldrVoffset.value+"px";n.style[(!this.qStudioVar.isCompRTL)?"marginLeft":"marginRight"]=d.colSldrHoffset.value+"px";QStudioAssetFactory.prototype.assetUpdate.baseBckgrnd.apply(this,[E,{show_bckgrnd_import:r.show_track_import,width:r.width,height:r.height,padding:0,border_width_up:r.track_border_width,border_radius:r.track_border_radius,border_style:r.track_border_style,border_color_up:r.track_border_color,bckgrnd_color_up:r.track_color,bckgrnd_import_up:r.track_import}]);while(z.firstChild){z.removeChild(z.firstChild)}for(ab=0;ab<b;ab+=1){var V=l.createElement("div"),c=l.createElement("div"),A=l.createElement("div"),O=l.createElement("label"),S=0,B=0,v=false;V.className="qwidget_slider_tick_wrapper";V.style.position="absolute";V.style.filter="inherit";V.style.left=(ab*ac)+"px";z.appendChild(V);c.className="qwidget_slider_tick";c.style.position="absolute";c.style.filter="inherit";c.style.width=r.tick_width+"px";c.style.height=r.tick_height+"px";c.style.backgroundColor="#"+QUtility.paramToHex(r.tick_color);c.style.marginLeft=(-r.tick_width*0.5)+"px";c.style.marginBottom=(r.track_border_width+r.tick_height*0.5)+"px";c.style.top=(r.height-r.tick_height)*0.5+"px";if(ab===0||ab===(b-1)){c.style.visibility="hidden"}V.appendChild(c);A.appendChild(O);v=QStudioAssetFactory.prototype.assetUpdate.label.apply(this,[A,{label_trim:true,label_font_family:d.compPrimColumnFontFamily.value,isRTL:this.qStudioVar.isCompRTL,label:jQuery.trim(m[ab].label),label_width:Math.min(r.ticklabel_width,ac),label_halign:"center",label_fontsize:r.ticklabel_fontsize,label_fontcolor_up:r.ticklabel_fontcolor}]);A.className="qwidget_slider_tick_label_container";O.className="qwidget_slider_tick_label";O.style.display=((r.ticklabel_display_type==="show ends"&&(ab!==0&&ab!==b-1))||r.ticklabel_display_type==="show none")?"none":"block";if(v){V.appendChild(A);S=$(O).width();B=$(O).height();A.style.marginTop=(r.track_border_width+r.height+r.ticklabel_offset)+"px";A.style.marginLeft=(-S*0.5)+"px";if(ab==0){Q=S}else{if(ab===b-1){q=S}}s=Math.max(s,B)}if(Z){D.colArry.push({rowRefArry:[]})}}E.style.marginLeft=((Q*0.5)-r.track_border_width)+"px";w.style.width=($(E).outerWidth()+((Q*0.5)-r.track_border_width)+((q*0.5)-r.track_border_width))+"px";w.style.height=($(E).outerHeight()+s)+"px";n.style.width=$(w).outerWidth()+"px";n.style.height=$(w).outerHeight()+"px";var x=$(this.qStudioVar.rowContain.container()).outerWidth(),e=$(n).outerWidth(true);if(x>e){n.style[(!this.qStudioVar.isCompRTL)?"left":"right"]=(x-e)*0.5+"px"}else{this.qStudioVar.rowContain.container().style[(!this.qStudioVar.isCompRTL)?"left":"right"]=(e-x)*0.5+"px"}if(!Z){var H=QUtility.getQStudioSurveyScale();for(ab=0;ab<D.rowArry.length;ab+=1){var G=D.rowArry[ab].row,M=D.rowArry[ab].wrap,J=D.rowArry[ab].rangeValue,F=0,g=0;if(G.isAnswered()){G.flagStickHeight(D.rowArry[ab].rowFlagHeight);G.animType[D.selectAnimType].down.call(G,(true));G.animType[D.selectAnimType].select.call(G,(true));F=$((D.selectAnimType!=="pin")?G.cache().nodes.background:G.cache().nodes.pin).outerWidth();g=$((D.selectAnimType!=="pin")?G.cache().nodes.background:G.cache().nodes.pin).outerHeight();if(D.selectAnimType==="pin"){g-=6}G.widget().style.left=($(E).offset().left*(1/H.a)+r.track_border_width-$(M).offset().left*(1/H.a)-F*0.5+((J*0.01)*r.width))+"px";G.widget().style.top=($(E).offset().top*(1/H.d)-$(M).offset().top*(1/H.d)-g-G.flagStickHeight()+(r.height*0.5-r.track_border_width))+"px";G.widget().setAttribute("lastX",parseInt(G.widget().style.left,10).toString());G.widget().setAttribute("lastY",parseInt(G.widget().style.top,10).toString());G.valueLabel(D.rowArry[ab].rowValueLabel);delete D.rowArry[ab].rowFlagHeight;delete D.rowArry[ab].rowValueLabel}}}if(D.radChkEnabled){var u=this.__getParamObj("dkbtn",true);u.id=this.qStudioVar.columnArray[b].id||"col_"+b;u.colIndex=b;u.isRTL=this.qStudioVar.isCompRTL;u.label=this.qStudioVar.columnArray[b].label;u.isRadio=true;if(Z){D.dkWgt=new QRadioCheckBtn(n,u);D.dkWgt.enabled(true);D.dkWgt.touchEnabled(QUtility.isTouchDevice());D.dkWgt.widget().className="";D.dkWgt.widget().style.marginBottom="5px";D.dkWgt.widget().style.position="relative"}else{D.dkWgt.config(u)}D.dkWgt.widget().style.height=$(D.dkWgt.widget()).outerHeight(true)+"px";D.dkWgt.widget().style.top=parseInt(u.top,10)+"px";(!this.qStudioVar.isCompRTL)?D.dkWgt.widget().style.left=($(n).outerWidth()-$(D.dkWgt.widget()).outerWidth()+r.track_border_width+parseInt(u.left,10))+"px":D.dkWgt.widget().style.left=(-r.track_border_width+parseInt(u.left,10))+"px";n.appendChild(D.dkWgt.widget());n.style.height=($(w).outerHeight()+$(D.dkWgt.widget()).outerHeight())+"px"}else{if(D.dkWgt&&D.dkWgt.widget().parentNode&&D.dkWgt.widget().parentNode.nodeType===1){D.dkWgt.widget().parentNode.removeChild(D.dkWgt.widget())}}},manageClick:function(f){f=!!(typeof f==="boolean"&&f);var j=this.qStudioVar.respRef,d=j.dkWgt,h=j.rowArry.length;if(f){if(d.isAnswered()){for(var e=0;e<h;e+=1){var c=this.qStudioVar.respRef.rowArry[e].row;if(c&&c.colIndex()===0){this.sendResponse(c.rowIndex(),d.colIndex(),false)}}d.isAnswered(false)}return}if(!d.isAnswered()){for(var e=0;e<h;e+=1){var c=this.qStudioVar.respRef.rowArry[e].row,b=c.widget(),k=this.qStudioVar.respRef.rowArry[e].wrap;if(c.isAnswered()){c.animType[this.qStudioVar.params.rowBtnSelectAnimType.value.toLowerCase()].down.call(c,(false));b.setAttribute("lastX","0");b.setAttribute("lastY","0");b.style.left=0;b.style.top=0;c.isAnswered(false);c.valueLabel("");c.toggleMouseEnter(false);if(j.rowArry[e].columnValue!==-1){var g=j.colArry[j.rowArry[e].columnValue].rowRefArry;g.splice(jQuery.inArray(k,g),1);this.sendResponse(c.rowIndex(),j.rowArry[e].columnValue,false);j.rowArry[e].rangeValue=-1;j.rowArry[e].columnValue=-1;if(j.isLayoutSeq){this.qStudioVar.rowContain.back(c)}}}if(c.colIndex()===0){this.sendResponse(c.rowIndex(),d.colIndex(),true)}}d.isAnswered(true)}},sendResponse:function(d,c,b){console.log(d+", "+c+" | "+b);if(this.qStudioVar.isDC&&typeof this.qStudioVar.dcProxy!=="undefined"){this.qStudioVar.dcProxy.sendResponse({eventType:(b)?"questionAnswered":"questionUnAnswered",responseType:this.questionType(),rowID:this.qStudioVar.rowArray[d].rowVO.id,colID:this.qStudioVar.columnArray[c].columnVO.id,answerValue:b})}},getDimenResp:function(){if(!this.qStudioVar.isDC){return}var m=this.qStudioVar.respRef,f=(this.questionType()==="multi"),c=[],k=this.qStudioVar.rowArray.length,h=(!m.radChkEnabled)?this.qStudioVar.columnArray.length:this.qStudioVar.columnArray.length-1,n={Response:{Value:c}};if(f){for(var e=0;e<k;e+=1){for(var d=0;d<h;d+=1){var b=m.rowArry[(e*h)+d].row.widget().id,g=m.rowArry[(e*h)+d].rangeValue,l=m.rowArry[(e*h)+d].columnValue;if(l!==-1){c.push(b);n.Response[b]={rangeValue:g,columnValue:l}}}}}else{for(var e=0;e<k;e+=1){var b=m.rowArry[e].row.widget().id,g=m.rowArry[e].rangeValue,l=m.rowArry[e].columnValue;if(l!==-1){c.push(b);n.Response[b]={rangeValue:g,columnValue:l}}}}return n}};return a})();