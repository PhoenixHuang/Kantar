function QStudioAssetFactory(){}QStudioAssetFactory.prototype.assetUpdate={radioBckgrnd:function(e,c){if(!(e&&e.nodeType===1)){return false}var b=document,a=e.firstChild,d={};d.isRadio=(typeof c.isRadio==="boolean")?c.isRadio:true;d.bckgrnd_import_up=(QUtility.isString(c.bckgrnd_import_up))?jQuery.trim(c.bckgrnd_import_up):"";d.width=(QUtility.isNumber(c.width)&&c.width>=1)?c.width:30;d.height=(QUtility.isNumber(c.height)&&c.height>=1)?c.height:30;e.className="qwidget_background";e.style.position="absolute";e.style.filter="inherit";e.style.border="0px none transparent";if(d.bckgrnd_import_up===""){if(!a){a=b.createElement("input")}a.type=(d.isRadio)?"radio":"checkbox";a.style.margin=0;a.style.visibility="hidden";a.style.cursor="inherit";b.body.appendChild(a);e.style.width=$(a).outerWidth()+"px";e.style.height=$(a).outerHeight()+"px";e.appendChild(a);a.style.visibility=""}else{if(a){e.removeChild(a)}$(e).css({width:d.width+"px",height:d.height+"px","background-repeat":"no-repeat","background-position":"50% 50%","background-image":"url("+d.bckgrnd_import_up+")"})}d=null;return true},baseBckgrnd:function(c,a){if(!(c&&c.nodeType===1)){return false}var b={};b.show_bckgrnd=(typeof a.show_bckgrnd==="boolean")?a.show_bckgrnd:true;b.show_bckgrnd_import=(typeof a.show_bckgrnd_import==="boolean")?a.show_bckgrnd_import:false;b.bckgrnd_import_up=(QUtility.isString(a.bckgrnd_import_up))?jQuery.trim(a.bckgrnd_import_up):"";b.width=(QUtility.isNumber(a.width)&&a.width>=1)?a.width:100;b.height=(QUtility.isNumber(a.height)&&a.height>=1)?a.height:100;b.padding=(QUtility.isNumber(a.padding)&&a.padding>=0)?a.padding:4;b.border_width_up=(QUtility.isNumber(a.border_width_up)&&a.border_width_up>=0)?a.border_width_up:2;b.border_radius=(QUtility.isNumber(a.border_radius)&&a.border_radius>=0)?a.border_radius:0;b.border_style=(QUtility.isString(a.border_style))?jQuery.trim(a.border_style).toLowerCase():"none";b.border_color_up=(QUtility.paramToHex(a.border_color_up))?QUtility.paramToHex(a.border_color_up):"A6A8AB";b.bckgrnd_color_up=(QUtility.paramToHex(a.bckgrnd_color_up))?QUtility.paramToHex(a.bckgrnd_color_up):"F2F2F2";if(b.border_style!=="none"&&b.border_style!=="solid"&&b.border_style!=="dotted"&&b.border_style!=="dashed"){b.border_style="solid"}c.className="qwidget_background";c.style.position="absolute";c.style.display="inline-block";c.style.filter="inherit";c.style.width=b.width+"px";c.style.height=b.height+"px";c.style.padding=b.padding+"px";c.style.border=b.border_width_up+"px "+b.border_style+" #"+b.border_color_up;c.style.borderRadius=c.style.webkitBorderRadius=c.style.mozBorderRadius=b.border_radius+"px";if(!b.show_bckgrnd){c.style.backgroundColor="transparent";c.style.borderColor="transparent"}else{if(b.show_bckgrnd_import){$(c).css({"background-repeat":"no-repeat","background-size":"100% 100%","background-position":"center","background-image":(QUtility.ieVersion()<9)?"url() url("+b.bckgrnd_import_up+")":"url("+b.bckgrnd_import_up+")",filter:"inherit progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+b.bckgrnd_import_up+", sizingMethod='scale')"})}else{c.style.backgroundColor="#"+b.bckgrnd_color_up}}b=null;return true},image:function(a,f){if(!(a&&a.nodeType===1)){return false}var b=this,e=document,d=a.firstChild,g={};g.callback_success=(typeof f.callback_success==="function")?f.callback_success:undefined;g.callback_error=(typeof f.callback_error==="function")?f.callback_error:undefined;g.image=(QUtility.isString(f.image))?jQuery.trim(f.image):"";g.width=(QUtility.isNumber(f.width)&&f.width>=1)?f.width:100;g.height=(QUtility.isNumber(f.height)&&f.height>=1)?f.height:100;g.img_left=(QUtility.isNumber(f.img_left))?f.img_left:0;g.img_top=(QUtility.isNumber(f.img_top))?f.img_top:0;a.className="qwidget_image_container";a.style.position="absolute";a.style.filter=(QUtility.ieVersion()>9)?"inherit":"none";a.style.width=g.width+"px";a.style.height=g.height+"px";a.style.marginLeft=g.img_left+"px";a.style.marginTop=g.img_top+"px";a.style.display="none";d.className="qwidget_image";d.style.position="absolute";d.style.filter="inherit";d.style.visibility="hidden";d.style.width="auto";d.style.height="auto";d.style.maxWidth=a.style.width;d.style.maxHeight=a.style.height;d.src=g.image;var c=function(i,h){e.body.appendChild(i);i.style.width=$(i).width()+"px";i.style.height=$(i).height()+"px";h.style.width=i.style.width;h.style.height=i.style.height;(!h.firstChild)?h.appendChild(i):h.insertBefore(i,h.firstChild);h.style.display="block";i.style.visibility=""};if(!d.complete||!(d.getAttribute("imgInit")==="true")){d.setAttribute("imgInit","true");$(d).on("error.qbuttoncreator",function(){$(this).off("error.qbuttoncreator");if(typeof g.callback_error==="function"){g.callback_error.call(b,this)}g=null;return false});$(d).on("load.qbuttoncreator",function(){$(this).off("load.qbuttoncreator");d.ondragstart=function(){return false};c(d,a);if(typeof g.callback_success==="function"){g.callback_success.call(b,this)}g=null;return true}).attr("src",g.image)}else{c(d,a);if(typeof g.callback_success==="function"){g.callback_success.call(b,d)}}},label:function(a,c){if(!(a&&a.nodeType===1)){return false}var h=document,g=a.firstChild,d=0,e={};e.isRTL=(typeof c.isRTL==="boolean")?c.isRTL:false;e.show_label=(typeof c.show_label==="boolean")?c.show_label:true;e.label_trim=(typeof c.label_trim==="boolean")?c.label_trim:false;e.label=(QUtility.isString(c.label))?jQuery.trim(c.label):"";e.label_width=(QUtility.isNumber(c.label_width)&&c.label_width>=1)?c.label_width:100;e.label_height=(QUtility.isNumber(c.label_height)&&c.label_height>=1)?c.label_height:"auto";e.label_padding=(QUtility.isNumber(c.label_padding)&&c.label_padding>=0)?c.label_padding:0;e.label_left=(QUtility.isNumber(c.label_left))?c.label_left:0;e.label_top=(QUtility.isNumber(c.label_top))?c.label_top:0;e.label_halign=(QUtility.isString(c.label_halign))?jQuery.trim(c.label_halign.toLowerCase()):"left";e.label_fontsize=(QUtility.isNumber(c.label_fontsize)&&c.label_fontsize>=5)?c.label_fontsize:18;e.label_fontcolor_up=(QUtility.paramToHex(c.label_fontcolor_up))?QUtility.paramToHex(c.label_fontcolor_up):"5B5F65";e.white_space=(QUtility.isString(c.white_space))?jQuery.trim(c.white_space.toLowerCase()):"normal";e.label_box_sizing=(QUtility.isString(c.label_box_sizing))?jQuery.trim(c.label_box_sizing.toLowerCase()):"content-box";e.label_font_family=(QUtility.isString(c.label_font_family))?jQuery.trim(c.label_font_family.toLowerCase()):"";if(e.label_halign!=="left"&&e.label_halign!=="right"&&e.label_halign!=="center"){e.label_halign="left"}if(e.white_space!=="normal"&&e.white_space!=="nowrap"&&e.white_space!=="inherit"){e.white_space="normal"}if(e.label_box_sizing!=="content-box"&&e.label_box_sizing!=="padding-box"&&e.label_box_sizing!=="border-box"){e.label_box_sizing="content-box"}a.className="qwidget_label_container";a.style.position="absolute";a.style.filter=(QUtility.ieVersion()>9)?"inherit":"none";a.style.marginLeft=e.label_left+"px";a.style.marginTop=e.label_top+"px";a.dir=(!e.isRTL)?"LTR":"RTL";if(e.show_label&&e.label.length>0){var b=0,i=0,f=0;g.className="qwidget_label";g.dir=(!e.isRTL)?"LTR":"RTL";g.style.cssText+=";".concat("-webkit-box-sizing: "+e.label_box_sizing);g.style.cssText+=";".concat("-moz-box-sizing: "+e.label_box_sizing);g.style.cssText+=";".concat("box-sizing: "+e.label_box_sizing);g.style.filter=(QUtility.ieVersion()>9)?"inherit":"none";g.style.visibility="hidden";g.style.cursor="inherit";g.style.wordWrap="break-word";g.style.position="absolute";g.style.fontFamily=e.label_font_family;g.style.whiteSpace=e.white_space;g.style.fontSize=QUtility.convertPxtoEM(e.label_fontsize)+"em";g.style.textAlign=(!e.isRTL)?e.label_halign:(e.label_halign!=="left")?e.label_halign:"";g.style.color="#"+e.label_fontcolor_up;g.style.width=e.label_width+"px";g.style.height=(!QUtility.isNumber(e.label_height))?e.label_height:e.label_height+"px";g.style.lineHeight="100%";g.style.padding=e.label_padding+"px";$(g).html(e.label);h.body.appendChild(g);if(e.label_trim){g.style.width="auto";d=$(g).width()+5;g.style.width=((d>e.label_width)?e.label_width:d)+"px"}b=$(g).outerWidth();i=$(g).outerHeight();f=$(g).height();g.style.height=((e.label_box_sizing==="content-box")?f:i)+"px";a.style.width=b+"px";a.style.height=i+"px";a.appendChild(g);g.style.visibility="";e=null;return true}e=null;return false},textarea:function(a,d){if(!(a&&a.nodeType===1)){return false}var b="keyup.count.widget blur.count.widget",e={};e.isRTL=(typeof d.isRTL==="boolean")?d.isRTL:false;e.other_init_txt=(QUtility.isString(d.other_init_txt))?jQuery.trim(d.other_init_txt):"";e.textarea_width=(QUtility.isNumber(d.textarea_width)&&d.textarea_width>=1)?d.textarea_width:80;e.textarea_height=(QUtility.isNumber(d.textarea_height)&&d.textarea_height>=1)?d.textarea_height:80;e.textarea_halign=(QUtility.isString(d.textarea_halign))?jQuery.trim(d.textarea_halign.toLowerCase()):"left";e.textarea_fontsize=(QUtility.isNumber(d.textarea_fontsize)&&d.textarea_fontsize>=5)?d.textarea_fontsize:16;e.textarea_fontcolor=(QUtility.paramToHex(d.textarea_fontcolor))?QUtility.paramToHex(d.textarea_fontcolor):"5B5F65";e.textarea_font_family=(QUtility.isString(d.textarea_font_family))?jQuery.trim(d.textarea_font_family.toLowerCase()):"";e.max_char=(QUtility.isNumber(d.max_char)&&d.max_char>=5)?d.max_char:null;if(e.textarea_halign!=="left"&&e.textarea_halign!=="right"&&e.textarea_halign!=="center"){e.textarea_halign="left"}a.className="qwidget_textarea";a.dir=(!e.isRTL)?"LTR":"RTL";a.style.position="absolute";a.style.filter=(QUtility.ieVersion()>9)?"inherit":"none";a.style.overflow="hidden";a.style.border="2px solid #BBB";a.style.margin="0px";a.style.padding="4px";a.style.whiteSpace="normal";a.style.backgroundColor="#FFFFFF";a.style.resize="none";a.style.fontFamily=e.textarea_font_family;a.value=a.defaultValue=e.other_init_txt;a.style.textAlign=(!e.isRTL)?e.textarea_halign:(e.textarea_halign!=="left")?e.textarea_halign:"";a.style.fontSize=QUtility.convertPxtoEM(e.textarea_fontsize)+"em";a.style.color="#"+e.textarea_fontcolor;a.style.width=e.textarea_width+"px";a.style.height=e.textarea_height+"px";a.style.cssText+=";".concat("-webkit-box-sizing: border-box;");a.style.cssText+=";".concat("-moz-box-sizing: border-box;");a.style.cssText+=";".concat("box-sizing: border-box;");if(e.max_char>0){if("maxLength" in a){a.maxLength=e.max_char}else{var c=e.max_char;this.addEvent(a,b,function(f){if(this.value.length>c){this.value=this.value.substr(0,c);return false}})}}else{("maxLength" in a)?a.removeAttribute("maxLength"):this.removeEvent(a,b)}e=null;return true},stamp:function(a,b){if(!(a&&a.nodeType===1)){return false}var c={};c.show_stamp=(typeof b.show_stamp==="boolean")?b.show_stamp:true;c.stamp_import=(QUtility.isString(b.stamp_import))?jQuery.trim(b.stamp_import):"";c.stamp_width=(QUtility.isNumber(b.stamp_width)&&b.stamp_width>=1)?b.stamp_width:100;c.stamp_height=(QUtility.isNumber(b.stamp_height)&&b.stamp_height>=1)?b.stamp_height:100;a.className="qwidget_stamp";a.style.display="none";if(c.show_stamp&&c.stamp_import!==""){$(a).css({position:"absolute",width:c.stamp_width+"px",height:c.stamp_height+"px","background-repeat":"no-repeat","background-size":c.stamp_width+"px "+c.stamp_height+"px","background-position":"center","background-image":(QUtility.ieVersion()<9)?"url() url("+c.stamp_import+")":"url("+c.stamp_import+")",filter:"inherit progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+c.stamp_import+", sizingMethod='scale')"});c=null;return true}c=null;return false}};function QStudioDCAbstract(){}QStudioDCAbstract.prototype={widget:function(){return this._widget},config:function(){return this._params},cache:function(){return this._cache},type:function(){return""},setParams:function(g,e){e=(typeof e==="boolean"&&e)?true:false;for(var h in g){if(this._configMap.hasOwnProperty(h)){var f=this._configMap[h].type,j=this._configMap[h].options,a=this._configMap[h].min,b=(!e)?g[h]:g[h].value;switch(f){case"number":if(QUtility.isNumber(b)){if(QUtility.isNumber(a)){if(b>=a){this._params[h]=b}}else{this._params[h]=b}}break;case"boolean":if(typeof b==="boolean"){this._params[h]=b}break;case"string":if(QUtility.isString(b)){if(!j){this._params[h]=jQuery.trim(b)}else{for(var c=0,d=j.length;c<d;c+=1){if(jQuery.trim(j[c]).toLowerCase()===jQuery.trim(b).toLowerCase()){this._params[h]=jQuery.trim(j[c]);break}}}}break;case"color":if(QUtility.paramToHex(b)){this._params[h]=QUtility.paramToHex(b)}break;default:break}}}},destroy:function(){if(!this._widget){return false}this.removeEvent(this._widget);for(var a in this._cache.nodes){if(this._cache.nodes.hasOwnProperty(a)&&this._cache.nodes[a]){if(a==="zoomBtn"){qLightBoxSingleton.getInstance().removeWgt(this)}else{this.removeEvent(this._cache.nodes[a])}}}if(this._widget.parentNode&&this._widget.parentNode.nodeType===1){this._widget.parentNode.removeChild(this._widget)}this._widget=undefined;this._params={};this._cache={};return this},rowIndex:function(a){if(!this._widget){return false}if(QUtility.isNumber(a)&&a>=0){this._params.rowIndex=a}return this._params.rowIndex},colIndex:function(a){if(!this._widget){return false}if(QUtility.isNumber(a)&&a>=0){this._params.colIndex=a}return this._params.colIndex},isDrag:function fnIsDrag(a){if(fnIsDrag.dragBool===undefined){fnIsDrag.dragBool=false}if(typeof a==="boolean"){fnIsDrag.dragBool=a;if(a){qToolTipSingleton.getInstance().hide()}}return fnIsDrag.dragBool},isTouchMove:function fnIsTouchMove(a){if(fnIsTouchMove.touchBool===undefined){fnIsTouchMove.touchBool=false}if(typeof a==="boolean"&&fnIsTouchMove.touchBool!==a){fnIsTouchMove.touchBool=a}return fnIsTouchMove.touchBool},addEvent:function(c,b,a){if(!this._widget||!((c&&c.nodeType===1)&&(QUtility.isString(b)&&b.length>0)&&(typeof a==="function"))){return false}$(c).on(b,a);return true},removeEvent:function(b,a){if(!this._widget||(!(b&&b.nodeType===1))){return false}(QUtility.isString(a)&&a.length>0)?$(b).off(a):$(b).off();return true}};function QStudioBtnAbstract(){this._events={hover:"mouseenter.widget mouseleave.widget"}}QStudioBtnAbstract.prototype=new QStudioDCAbstract();QStudioBtnAbstract.prototype.initConfigMap=function(){if(this._configMap===undefined){this._configMap={isRTL:{value:false,type:"boolean"},isRadio:{value:false,type:"boolean"},id:{value:"",type:"string"},primary_font_family:{value:"",type:"string"},secondary_font_family:{value:"",type:"string"},image:{value:"",type:"string"},label:{value:"",type:"string"},description:{value:"",type:"string"},rowIndex:{value:-1,type:"number",min:0},colIndex:{value:-1,type:"number",min:0},width:{value:125,type:"number",min:1},height:{value:100,type:"number",min:1},padding:{value:10,type:"number",min:0},border_style:{value:"solid",type:"string",options:["none","solid","dotted","dashed"]},border_width_up:{value:2,type:"number",min:0},border_width_over:{value:4,type:"number",min:0},border_width_down:{value:2,type:"number",min:0},border_radius:{value:0,type:"number",min:0},border_color_up:{value:7697781,type:"color"},border_color_over:{value:6381921,type:"color"},border_color_down:{value:4342338,type:"color"},show_bckgrnd:{value:true,type:"boolean"},show_bckgrnd_import:{value:false,type:"boolean"},bckgrnd_color_up:{value:16448250,type:"color"},bckgrnd_color_over:{value:16772275,type:"color"},bckgrnd_color_down:{value:16766287,type:"color"},bckgrnd_import_up:{value:"",type:"string"},bckgrnd_import_over:{value:"",type:"string"},bckgrnd_import_down:{value:"",type:"string"},img_top:{value:0,type:"number"},img_left:{value:0,type:"number"},show_stamp:{value:false,type:"boolean"},stamp_import:{value:"",type:"string"},stamp_width:{value:50,type:"number",min:1},stamp_height:{value:50,type:"number",min:1},stamp_top:{value:0,type:"number"},stamp_left:{value:0,type:"number"},show_label:{value:true,type:"boolean"},label_ovr_width:{value:false,type:"boolean"},show_label_bckgrnd:{value:true,type:"boolean"},label_placement:{value:"bottom",type:"string",options:["top","bottom","top overlay","bottom overlay","center overlay"]},label_halign:{value:"left",type:"string",options:["left","right","center"]},label_bckgrnd_color:{value:16448250,type:"color"},label_fontsize:{value:16,type:"number",min:5},label_fontcolor_up:{value:0,type:"color"},label_fontcolor_over:{value:0,type:"color"},label_fontcolor_down:{value:0,type:"color"},label_width:{value:100,type:"number",min:1},label_left:{value:0,type:"number"},label_top:{value:0,type:"number"},reverse_scale:{value:false,type:"boolean"},mouseover_shadow:{value:false,type:"boolean"},mouseover_bounce:{value:false,type:"boolean"},mouseover_scale:{value:100,type:"number",min:0},mousedown_alpha:{value:100,type:"number",min:0},mousedown_scale:{value:100,type:"number",min:0},use_tooltip:{value:false,type:"boolean"},use_lightbox:{value:false,type:"boolean"}}}};QStudioBtnAbstract.prototype.initEvents=function(){var a=this;this.addEvent(this._widget,this._events.hover,function(b){a.toggleMouseEnter(b.type==="mouseenter")})};QStudioBtnAbstract.prototype.config=function(){};QStudioBtnAbstract.prototype.type=function(){return"button"};QStudioBtnAbstract.prototype.bucket=function(a){if(!this._widget){return null}if(a instanceof QStudioBucketAbstract&&a.add||a===null){this._cache._bucket=a}return this._cache._bucket};QStudioBtnAbstract.prototype.isRadio=function(a){if(!this._widget){return null}if(typeof a==="boolean"&&this._params.isRadio!==a){this._params.isRadio=a}return this._params.isRadio};QStudioBtnAbstract.prototype.isOther=function(){return false};QStudioBtnAbstract.prototype.isRating=function(a){if(!this._widget){return null}if(typeof a==="boolean"&&this._cache._ratingBool!==a){this._cache._ratingBool=a}return !!this._cache._ratingBool};QStudioBtnAbstract.prototype.isAnswered=function(a){if(!this._widget){return null}if(typeof a==="boolean"&&(this._cache._answerBool!==a||this._cache._ratingBool)){this._cache._answerBool=a;this.toggleMouseDown(a)}return !!this._cache._answerBool};QStudioBtnAbstract.prototype.enabled=function(d,e){if(!this._widget){return null}if(typeof d==="boolean"){e=e||{};e={isAnimate:(typeof e.isAnimate==="boolean")?e.isAnimate:false,animSpeed:(typeof e.animSpeed==="number"&&e.animSpeed>=100)?e.animSpeed:800,goOpaque:(typeof e.goOpaque==="boolean")?e.goOpaque:false,enableExtEvt:(typeof e.enableExtEvt==="boolean")?e.enableExtEvt:false,alphaVal:(!d)?((parseInt(e.alphaVal,10)>=0)?parseInt(e.alphaVal,10):50):(this._cache._answerBool)?this._params.mousedown_alpha:100};var b=this._cache.nodes;var c=function(g){(!e.isAnimate)?$(g).css({opacity:((e.alphaVal<100)?e.alphaVal*0.01:"")}):$(g).animate({opacity:e.alphaVal*0.01},e.animSpeed)};this._cache._enableBool=d;this._cache._enableExtEvt=e.enableExtEvt;if(!this._cache._enableBool){this._cache._enabConfigObj=e}b.wrap.style.cursor=(d)?"pointer":"default";if(!this._cache._enableBool){b.wrap.style.zIndex="auto"}if(b.textarea){b.textarea.disabled=!d}if(b.formBtn){b.formBtn.disabled=!this._cache._enableBool}if(!(QUtility.ieVersion()===8)){if(!(e.goOpaque)){c(b.wrap)}else{for(var f=b.wrap.firstChild;f;f=f.nextSibling){if(f!==b.background){c(f)}}for(var f=b.background.firstChild;f;f=f.nextSibling){c(f)}}}else{for(var a in b){if(b.hasOwnProperty(a)&&b[a]&&a!=="wrap"&&((e.goOpaque)?a!=="background":true)){c(b[a])}}}}return !!this._cache._enableBool};QStudioBtnAbstract.prototype.touchEnabled=function(a){if(!this._widget){return null}if(typeof a==="boolean"&&a&&(this._cache._touchEnableBool!==a)){this._cache._touchEnableBool=a;if(this._cache._touchEnableBool){this.removeEvent(this._widget,this._events.hover);if(this._params.use_tooltip){qToolTipSingleton.getInstance().removeWgt(this)}}}return !!(this._cache._touchEnableBool)};QStudioBtnAbstract.prototype.toggleMouseEnter=function(j){if(!this._widget||this.isDrag()||this._cache._isDown||!(this._cache._enableBool&&(!this._cache._answerBool||this._cache._ratingBool))){return null}var e=this._params,d=this._cache.nodes,h=(d.labelContain&&d.labelContain.parentNode&&d.labelContain.parentNode.nodeType===1),b=(d.imageContain&&d.imageContain.parentNode&&d.imageContain.parentNode.nodeType===1),l=(d.stamp&&d.stamp.parentNode&&d.stamp.parentNode.nodeType===1),a=this._params.border_width_over-this._params.border_width_up,m=(j)?this._params.border_color_over:this._params.border_color_up,i=(j)?this._params.border_width_over:this._params.border_width_up,g=(j)?this._params.bckgrnd_color_over:this._params.bckgrnd_color_up,c=(j)?this._params.bckgrnd_import_over:this._params.bckgrnd_import_up,k=(j)?this._params.label_fontcolor_over:this._params.label_fontcolor_up,f=(j)?this._params.mouseover_scale*0.01:((this._params.reverse_scale&&this._cache._isAnimReversed)?this._params.mousedown_scale*0.01:1);if(this._params.show_bckgrnd){d.background.style.borderColor="#"+m;d.background.style.borderWidth=i+"px";if(!this._params.show_bckgrnd_import){d.background.style.backgroundColor="#"+g}else{d.background.style.backgroundImage=(QUtility.ieVersion()<9)?"url() url("+c+")":"url("+c+")";d.background.style.filter="inherit progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+c+", sizingMethod='scale')"}if(this._params.mouseover_shadow){d.background.style.MozBoxShadow=d.background.style.webkitBoxShadow=d.background.style.boxShadow=(j)?"1px 1px 5px #888":""}}if(h){d.label.style.color="#"+k;if(d.labelContain.parentNode===d.wrap){d.labelContain.style.marginLeft=(j&&(a!==0))?(a+e.label_left)+"px":e.label_left+"px";if(this._params.label_placement==="bottom"){d.labelContain.style.marginTop=(j&&(a!==0))?(((a>=0)?a:a*2)+e.label_top)+"px":e.label_top+"px"}else{if(this._params.label_placement==="top"){d.labelContain.style.marginTop=(j&&(a!==0))?(((a>=0)?a:0)+e.label_top)+"px":e.label_top+"px"}}}}if(b){d.imageContain.style.borderColor="#"+m}if(l){d.stamp.style.marginLeft=(j&&(a!==0))?a+"px":"";d.stamp.style.marginTop=(j&&(a!==0))?a+"px":""}d.wrap.style.marginLeft=(j&&(a!==0))?-a+"px":"";d.wrap.style.marginTop=(j&&(a!==0))?-a+"px":"";d.wrap.style.zIndex=(j)?2000:"auto";$(d.wrap).css({transform:(f!==1)?"scale("+f+","+f+")":""});if(this._params.mouseover_bounce){if(j){$(d.wrap).animate({top:"2px"},170,function(){$(this).animate({top:""},200)})}else{$(d.wrap).stop();d.wrap.style.top=""}}};QStudioBtnAbstract.prototype.toggleMouseDown=function(l){if(!this._widget){return null}this._cache._isDown=l;var g=this._params,f=this._cache.nodes,j=(f.labelContain&&f.labelContain.parentNode&&f.labelContain.parentNode.nodeType===1),d=(f.imageContain&&f.imageContain.parentNode&&f.imageContain.parentNode.nodeType===1),o=(f.stamp&&f.stamp.parentNode&&f.stamp.parentNode.nodeType===1),c=this._params.border_width_down-this._params.border_width_up,p=(l)?this._params.border_color_down:this._params.border_color_up,k=(l)?this._params.border_width_down:this._params.border_width_up,i=(l)?this._params.bckgrnd_color_down:this._params.bckgrnd_color_up,e=(l)?this._params.bckgrnd_import_down:this._params.bckgrnd_import_up,n=(l)?this._params.label_fontcolor_down:this._params.label_fontcolor_up,h=(l)?this._params.mousedown_scale*0.01:1,b=(l)?this._params.mousedown_alpha*0.01:1;if(this._params.show_bckgrnd){f.background.style.borderColor="#"+p;f.background.style.borderWidth=k+"px";if(!this._params.show_bckgrnd_import){f.background.style.backgroundColor="#"+i}else{f.background.style.backgroundImage=(QUtility.ieVersion()<9)?"url() url("+e+")":"url("+e+")";f.background.style.filter=(l)?"inherit progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+e+", sizingMethod='scale') progid:DXImageTransform.Microsoft.Alpha(Opacity="+b*100+")":"inherit progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+e+", sizingMethod='scale')"}if(this._params.mouseover_shadow){f.background.style.MozBoxShadow=f.background.style.webkitBoxShadow=f.background.style.boxShadow=(l)?"1px 1px 5px #888":""}}if(j){f.label.style.color="#"+n;if(f.labelContain.parentNode===f.wrap){f.labelContain.style.marginLeft=(l&&(c!==0))?(c+g.label_left)+"px":g.label_left+"px";if(this._params.label_placement==="bottom"){f.labelContain.style.marginTop=(l&&(c!==0))?(((c>=0)?c:c*2)+g.label_top)+"px":g.label_top+"px"}else{if(this._params.label_placement==="top"){f.labelContain.style.marginTop=(l&&(c!==0))?(((c>=0)?c:0)+g.label_top)+"px":g.label_top+"px"}}}}if(d){f.imageContain.style.borderColor="#"+p}if(o){f.stamp.style.display=(l)?"block":"none";if(o){f.stamp.style.marginLeft=(l&&(c!==0))?c+"px":"";f.stamp.style.marginTop=(l&&(c!==0))?c+"px":""}}f.wrap.style.marginLeft=(l&&(c!==0))?-c+"px":"";f.wrap.style.marginTop=(l&&(c!==0))?-c+"px":"";f.wrap.style.zIndex=(l)?1999:"auto";if(!this._params.reverse_scale){$(f.wrap).css({transform:(h!==1)?"scale("+h+","+h+")":""});if(this._cache._enableBool){if(!(QUtility.ieVersion()===8)){for(var a=f.wrap.firstChild;a;a=a.nextSibling){if(a!==f.stamp){$(a).css({opacity:(b<1)?b:""})}}}else{for(var m in f){if(f.hasOwnProperty(m)&&f[m]&&m!=="wrap"&&m!=="stamp"){$(f[m]).css({opacity:(b<1)?b:""})}}}}}};QStudioBtnAbstract.prototype.reverseAnim=function(d){if(!this._widget||!this._params.reverse_scale){return null}var b=this._cache.nodes,e=(d)?this._params.mousedown_scale*0.01:1,c=(d)?this._params.mousedown_alpha*0.01:1;this._cache._isAnimReversed=d;if(d){b.wrap.style.zIndex="auto"}$(b.wrap).css({transform:(e!==1)?"scale("+e+","+e+")":""});if(!(QUtility.ieVersion()===8)){for(var f=b.wrap.firstChild;f;f=f.nextSibling){if(f!==b.stamp){$(f).css({opacity:(c<1)?c:""})}}}else{for(var a in b){if(b.hasOwnProperty(a)&&b[a]&&a!=="wrap"&&a!=="stamp"){$(b[a]).css({opacity:(c<1)?c:""})}}}};function QStudioInputBtnAbstract(){this._events={hover:"mouseenter.widget mouseleave.widget",click:(!QUtility.isMSTouch())?((!QUtility.isTouchDevice())?"click.widget":"touchstart.widget touchend.widget touchmove.widget"):((!QUtility.isTouchDevice())?"click.widget":((window.PointerEvent)?"pointerdown.widget pointerup.widget":"MSPointerDown.widget MSPointerUp.widget")),focus_blur:"focus.widget blur.widget"}}QStudioInputBtnAbstract.prototype=new QStudioDCAbstract();QStudioInputBtnAbstract.prototype.initConfigMap=function(){QStudioBtnAbstract.prototype.initConfigMap.call(this);delete this._configMap.show_label;this._configMap.label_placement={value:"bottom",type:"string",options:["top","bottom"]};this._configMap.textarea_halign={value:"left",type:"string",options:["left","right","center"]};this._configMap.textarea_fontsize={value:14,type:"number",min:5};this._configMap.textarea_fontcolor={value:2171169,type:"color"};this._configMap.allow_click={value:true,type:"boolean"};this._configMap.other_show_label={value:true,type:"boolean"};this._configMap.other_init_txt={value:"Please specify",type:"string"};this._configMap.other_msg_invalid={value:"Number is not valid",type:"string"};this._configMap.other_msg_range={value:"Number is not within range",type:"string"};this._configMap.other_min={value:0,type:"number"};this._configMap.other_max={value:9999,type:"number"};this._configMap.max_char={value:null,type:"number",min:1}};QStudioInputBtnAbstract.prototype.initEvents=function(){var c=this,d=this._widget,b=this._cache.nodes.textarea,a=false;this.addEvent(d,this._events.hover,function(e){c.toggleMouseEnter(e.type==="mouseenter")});this.addEvent(b,this._events.click,function(e){e.stopPropagation();if(e.type!=="touchmove"){if(e.type!=="touchstart"&&e.type!=="pointerdown"&&e.type!=="MSPointerDown"){if(!a){b.focus()}}else{a=false}}else{a=true}});this.addEvent(b,this._events.focus_blur,function(e){e.stopPropagation();if(!c.isAnswered()&&!c.isInputValid()){c.textarea((e.type==="focus")?"":c._params.other_init_txt);if(c.isNumeric()&&e.type==="blur"){this.style.borderColor="#BBB";qMsgDisplaySingleton.getInstance().hide()}}})};QStudioInputBtnAbstract.prototype.config=function(){};QStudioInputBtnAbstract.prototype.type=function(){return"input button"};QStudioInputBtnAbstract.prototype.textarea=function(a){if(!this._widget){return null}if(QUtility.isString(a)||QUtility.isNumber(a)){this._cache.nodes.textarea.value=a}return this._cache.nodes.textarea.value};QStudioInputBtnAbstract.prototype.isNumeric=function(e){if(!this._widget){return null}if(typeof e==="boolean"&&this._cache._isNumeric!==e){this._cache._isNumeric=e;var c=this,b=this._cache.nodes.background,a=this._cache.nodes.textarea,d=(QUtility.isTouchDevice()&&"oninput" in a)?"input.widget":"keydown.widget keyup.widget";if(this._cache._isNumeric){this.addEvent(a,d,function(f){if(f.type==="keydown"){f.stopPropagation();var h=f.which||f.keyCode;if(h!==8&&h!==37&&h!==39&&h!==46&&(h!==109&&h!==189)&&h!==110&&h!==190){if(h<48||(h>57&&h<96)||(h>105)){f.preventDefault()}}}else{var g=c.isInputValid();if(g===null||isNaN(g)){this.style.borderColor="#FF0000";qMsgDisplaySingleton.getInstance().show((g===null)?c._params.other_msg_range:c._params.other_msg_invalid,b,$(a).position().left,$(a).position().top+$(a).outerHeight()-5)}else{if(g){this.style.borderColor="#BBB";qMsgDisplaySingleton.getInstance().hide()}}}})}else{a.blur();this.removeEvent(a,d);if(qMsgDisplaySingleton.getInstance().isShowing()){a.style.borderColor="#BBB";qMsgDisplaySingleton.getInstance().hide()}}}return this._cache._isNumeric};QStudioInputBtnAbstract.prototype.isInputValid=function(){if(!this._widget){return null}var a=jQuery.trim(this._cache.nodes.textarea.value.toLowerCase()),b=(a.length>0&&a!==this._cache.nodes.textarea.defaultValue.toLowerCase());if(this.isNumeric()){if(a.length===0){qMsgDisplaySingleton.getInstance().hide();return false}if(b&&QUtility.isNumber(a)){if(QUtility.isNumber(this._params.other_min)&&a<this._params.other_min){return null}if(QUtility.isNumber(this._params.other_max)&&a>this._params.other_max){return null}return true}else{return(b)?NaN:false}}else{return b}};QStudioInputBtnAbstract.prototype.isRadio=function(a){return QStudioBtnAbstract.prototype.isRadio.call(this,a)};QStudioInputBtnAbstract.prototype.isOther=function(){return true};QStudioInputBtnAbstract.prototype.isRating=function(){return false};QStudioInputBtnAbstract.prototype.isAnswered=function(a){return QStudioBtnAbstract.prototype.isAnswered.call(this,a)};QStudioInputBtnAbstract.prototype.enabled=function(a,b){return QStudioBtnAbstract.prototype.enabled.apply(this,[a,b])};QStudioInputBtnAbstract.prototype.touchEnabled=function(a){return QStudioBtnAbstract.prototype.touchEnabled.call(this,a)};QStudioInputBtnAbstract.prototype.toggleMouseEnter=function(a){return QStudioBtnAbstract.prototype.toggleMouseEnter.call(this,a)};QStudioInputBtnAbstract.prototype.toggleMouseDown=function(a){return QStudioBtnAbstract.prototype.toggleMouseDown.call(this,a)};QStudioInputBtnAbstract.prototype.reverseAnim=function(a){return QStudioBtnAbstract.prototype.reverseAnim.call(this,a)};function QStudioBucketAbstract(){this._events={hover:"mouseenter.widget mouseleave.widget"}}QStudioBucketAbstract.prototype=new QStudioDCAbstract();QStudioBucketAbstract.prototype.initConfigMap=function(){if(this._configMap===undefined){this._configMap={isRTL:{value:false,type:"boolean"},id:{value:"",type:"string"},primary_font_family:{value:"",type:"string"},secondary_font_family:{value:"",type:"string"},image:{value:"",type:"string"},label:{value:"",type:"string"},description:{value:"",type:"string"},rowIndex:{value:-1,type:"number",min:0},colIndex:{value:-1,type:"number",min:0},capvalue:{value:-1,type:"number",min:0},bucket_animation:{value:"anchor",type:"string",options:["anchor","list","fade","crop"]},grow_animation:{value:"none",type:"string",options:["none","grow all","grow individual"]},contain_padding:{value:10,type:"number",min:0},hgap:{value:20,type:"number"},vgap:{value:20,type:"number"},width:{value:225,type:"number",min:1},height:{value:200,type:"number",min:1},border_style:{value:"solid",type:"string",options:["none","solid","dotted","dashed"]},border_radius:{value:0,type:"number",min:0},border_width_up:{value:2,type:"number",min:0},border_width_over:{value:2,type:"number",min:0},border_color_up:{value:7697781,type:"color"},border_color_over:{value:6381921,type:"color"},show_bckgrnd:{value:true,type:"boolean"},show_bckgrnd_import:{value:false,type:"boolean"},bckgrnd_color_up:{value:16448250,type:"color"},bckgrnd_color_over:{value:14540253,type:"color"},bckgrnd_import_up:{value:"",type:"string"},bckgrnd_import_over:{value:"",type:"string"},show_label:{value:true,type:"boolean"},show_label_bckgrnd:{value:true,type:"boolean"},label_overlay_padding:{value:4,type:"number",min:0},label_placement:{value:"top overlay",type:"string",options:["top","bottom","top overlay","bottom overlay"]},label_halign:{value:"left",type:"string",options:["left","right","center"]},label_overlay_valign:{value:"center",type:"string",options:["top","bottom","center"]},label_bckgrnd_color:{value:16448250,type:"color"},label_fontsize:{value:16,type:"number",min:5},label_fontcolor_up:{value:0,type:"color"},label_fontcolor_over:{value:0,type:"color"},label_height:{value:null,type:"number",min:1},label_left:{value:0,type:"number"},label_top:{value:0,type:"number"},img_placement:{value:"none",type:"string",options:["none","left","right","center"]},img_top:{value:0,type:"number"},img_left:{value:0,type:"number"},img_width:{value:100,type:"number",min:1},img_padding:{value:10,type:"number",min:0},use_tooltip:{value:false,type:"boolean"},use_lightbox:{value:false,type:"boolean"},zoom_left:{value:0,type:"number"},zoom_top:{value:0,type:"number"},crop_width:{value:50,type:"number",min:1},crop_height:{value:50,type:"number",min:1}}}};QStudioBucketAbstract.prototype.initEvents=function(){var a=this;this.addEvent(this._widget,this._events.hover,function(b){a.toggleMouseEnter(b.type==="mouseenter")})};QStudioBucketAbstract.prototype.config=function(a){};QStudioBucketAbstract.prototype.type=function(){return"bucket"};QStudioBucketAbstract.prototype.capvalue=function(){if(!this._widget){return false}return this._params.capvalue};QStudioBucketAbstract.prototype.query=function(){if(!this._widget){return false}return this._cache.bucketArray};QStudioBucketAbstract.prototype.enabled=function(d,e){if(!this._widget){return false}if(typeof d==="boolean"){e=e||{};e={enableExtEvt:(typeof e.enableExtEvt==="boolean")?e.enableExtEvt:false,alphaVal:(!d)?((parseInt(e.alphaVal,10)>=0)?parseInt(e.alphaVal,10):50):100};this._cache._enableBool=d;this._cache._enableExtEvt=e.enableExtEvt;if(!this._cache._enableBool){this._cache._enabConfigObj=e}if(!(QUtility.ieVersion()===8)){$(this._cache.nodes.wrap).css({opacity:(e.alphaVal<100)?e.alphaVal*0.01:""})}else{for(var c in this._cache.nodes){if(this._cache.nodes.hasOwnProperty(c)&&this._cache.nodes[c]&&c!=="wrap"){$(this._cache.nodes[c]).css({opacity:(e.alphaVal<100)?e.alphaVal*0.01:""})}}}for(var b=0,a=this._cache.bucketArray.length;b<a;b+=1){this._cache.bucketArray[b].enabled(d,e)}}return !!this._cache._enableBool};QStudioBucketAbstract.prototype.touchEnabled=function(a){if(!this._widget){return false}if(typeof a==="boolean"&&a&&(this._cache._touchEnableBool!==a)){this._cache._touchEnableBool=a;if(this._cache._touchEnableBool){this.removeEvent(this._widget,this._events.hover);if(this._params.use_tooltip){qToolTipSingleton.getInstance().removeWgt(this)}}}return !!(this._cache._touchEnableBool)};QStudioBucketAbstract.prototype.toggleMouseEnter=function(h){if(!this._widget||!(this._cache._enableBool)){return null}var c=this._cache.nodes,d=this._params,f=(c.labelContain&&c.labelContain.parentNode&&c.labelContain.parentNode.nodeType===1),g=(h)?this._params.border_width_over:this._params.border_width_up,a=this._params.border_width_over-this._params.border_width_up,j=(h)?this._params.border_color_over:this._params.border_color_up,e=(h)?this._params.bckgrnd_color_over:this._params.bckgrnd_color_up,b=(h)?this._params.bckgrnd_import_over:this._params.bckgrnd_import_up,i=(h)?this._params.label_fontcolor_over:this._params.label_fontcolor_up;if(this._params.show_bckgrnd){c.background.style.borderColor="#"+j;c.background.style.borderWidth=g+"px";if(!this._params.show_bckgrnd_import){c.background.style.backgroundColor="#"+e}else{c.background.style.backgroundImage=(QUtility.ieVersion()<9)?"url() url("+b+")":"url("+b+")";c.background.style.filter="inherit progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+b+", sizingMethod='scale')"}}if(this._params.isImgLeftRight){c.imageContain.style.borderColor="#"+j}if(f){c.label.style.color="#"+i;if(c.labelContain.parentNode===c.wrap){c.labelContain.style.marginLeft=(h&&(a!==0))?(a+d.label_left)+"px":d.label_left+"px";if(this._params.label_placement==="bottom"){c.labelContain.style.marginTop=(h&&(a!==0))?(((a>=0)?a:a*2)+d.label_top)+"px":d.label_top+"px"}else{if(this._params.label_placement==="top"){c.labelContain.style.marginTop=(h&&(a!==0))?(((a>=0)?a:0)+d.label_top)+"px":d.label_top+"px"}}}}c.wrap.style.marginLeft=(h&&(a!==0))?-a+"px":"";c.wrap.style.marginTop=(h&&(a!==0))?-a+"px":"";c.wrap.style.zIndex=(h)?2000:"auto"};QStudioBucketAbstract.prototype.add=function(a){if(!this._widget){return null}if(a.bucket&&(a.type()==="button")){QStudioBucketAbstract.prototype.animType[this._params.bucket_animation].apply(this,[a,false]);if(this._params.grow_animation==="grow individual"){this.resizeContainHeight(this._cache.yPosition+this._cache.maxSize+this._params.contain_padding*2)}return true}return false};QStudioBucketAbstract.prototype.remove=function(a){if(!this._widget){return null}if(a.bucket&&(a.type()==="button")){QStudioBucketAbstract.prototype.animType[this._params.bucket_animation].apply(this,[a,true]);if(this._params.grow_animation==="grow individual"){this.resizeContainHeight(this._cache.yPosition+this._cache.maxSize+this._params.contain_padding*2)}return true}return false};QStudioBucketAbstract.prototype.animType={anchor:function(f,g){var c=this._cache.nodes.dropContain;if(!g){f.widget().style.top="";f.widget().style.left="";var b=undefined;if(f.bucket()!==this){if(f.bucket()){f.bucket().remove(f)}f.bucket(this);this.query().push(f);var e=$(f.widget()).outerWidth()-f.config().border_width_up*2+f.config().border_width_down*2,d=$(f.widget()).outerHeight()-f.config().border_width_up*2+f.config().border_width_down*2;if(f.cache().nodes.wrap){f.cache().nodes.wrap.style.marginLeft="";f.cache().nodes.wrap.style.marginTop=""}b=document.createElement("div");b.className="qwidget_bucket_widget_wrapper";b.style.width=e+"px";b.style.height=d+"px";b.appendChild(f.widget());c.appendChild(b);this.__layoutContainerChild(b)}else{b=c.children[jQuery.inArray(f,this.query())];b.appendChild(f.widget())}return f}else{var a=jQuery.inArray(f,this.query());if(a!==-1){c.removeChild(c.children[a]);this.query().splice(a,1);this.__containerUpdate();f.bucket(null);return f}return false}},fade:function(f,g){var c=this._cache.nodes.dropContain;if(!g){f.widget().style.top="";f.widget().style.left="";var b=undefined;if(f.bucket()!==this){this.query().push(f);f.bucket(this);f.enabled(false,{alphaVal:100});var e=$(f.widget()).outerWidth()-f.config().border_width_up*2+f.config().border_width_down*2,d=$(f.widget()).outerHeight()-f.config().border_width_up*2+f.config().border_width_down*2;if(f.cache().nodes.wrap){f.cache().nodes.wrap.style.marginLeft="";f.cache().nodes.wrap.style.marginTop=""}b=document.createElement("div");b.className="qwidget_bucket_widget_wrapper";b.style.position="absolute";b.style.left=(($(c).outerWidth()-e)*0.5)+"px";b.style.zIndex=2000;b.style.opacity="inherit";b.style.filter="inherit";b.style.width=e+"px";b.style.height=d+"px";b.appendChild(f.widget());c.appendChild(b);$(b).fadeOut(500,function(){b.style.display="none"});return f}}else{var a=jQuery.inArray(f,this.query());if(a!==-1){c.removeChild(c.children[a]);this.query().splice(a,1);if(!f.enabled()){f.enabled(true)}f.bucket(null);return f}return false}},list:function(f,h){var e=this._cache.nodes.dropContain;if(!h){f.widget().style.top="";f.widget().style.left="";var d=null;if(f.bucket()!==this){if(f.bucket()){f.bucket().remove(f)}f.bucket(this);this.query().push(f);d=document.createElement("div");d.className="qwidget_bucket_widget_wrapper";d.appendChild(f.widget());e.appendChild(d);var b=new QTextBtn(f.widget(),{isRTL:f.config().isRTL,label:(f.config().label||"..."),txtbtn_trim:true,width:$(e).width()-8,padding:2,border_width_up:2,use_tooltip:false,border_color_up:parseInt(f.config().border_color_down,16),bckgrnd_color_up:parseInt(f.config().bckgrnd_color_down,16),label_fontsize:f.config().label_fontsize,label_halign:f.config().label_halign,label_fontcolor_up:parseInt(f.config().label_fontcolor_down,16)}),g=f.widget().style.width,c=f.widget().style.height;if($(b.cache().nodes.label).html()==="..."){$(b.cache().nodes.label).html("")}f.cache().nodes.bucketListWgt=b;f.widget().removeChild(f.cache().nodes.wrap);f.widget().removeChild(b.widget());f.widget().appendChild(b.cache().nodes.wrap);f.widget().style.width=b.widget().style.width;f.widget().style.height=b.widget().style.height;f.widget().style.cursor="pointer";b.widget().style.width=g;b.widget().style.height=c;d.style.width=$(f.widget()).outerWidth()+"px";d.style.height=$(f.widget()).outerHeight()+"px";this.__layoutContainerChild(d)}else{d=e.children[jQuery.inArray(f,this.query())];d.appendChild(f.widget())}return f}else{var a=jQuery.inArray(f,this.query());if(a!==-1){f.widget().removeChild(f.cache().nodes.bucketListWgt.cache().nodes.wrap);f.widget().appendChild(f.cache().nodes.wrap);f.widget().style.width=f.cache().nodes.bucketListWgt.widget().style.width;f.widget().style.height=f.cache().nodes.bucketListWgt.widget().style.height;f.widget().style.cursor="";delete f.cache().nodes.bucketListWgt;e.removeChild(e.children[a]);this.query().splice(a,1);this.__containerUpdate();f.bucket(null);return f}return false}},crop:function(f,b){var h=this._cache.nodes.dropContain;if(!b){f.widget().style.top="";f.widget().style.left="";var i=null;if(f.bucket()!==this){if(f.bucket()){f.bucket().remove(f)}f.bucket(this);this.query().push(f);i=document.createElement("div");i.className="qwidget_bucket_widget_wrapper";i.appendChild(f.widget());h.appendChild(i);var d=(f.cache().nodes.imageContain&&f.cache().nodes.imageContain.firstChild&&f.cache().nodes.imageContain.parentNode&&f.cache().nodes.imageContain.parentNode.nodeType===1),j=undefined,c=f.widget().style.width,e=f.widget().style.height,a=(d)?QBaseBtn:QTextBtn;j=new a(f.widget(),{isRTL:f.config().isRTL,label:f.config().label,image:f.config().image,show_label:!d,show_bckgrnd:f.config().show_bckgrnd,width:this._params.crop_width,height:this._params.crop_height,padding:2,border_width_up:1,use_tooltip:false,use_lightbox:false,border_color_up:parseInt(f.config().border_color_down,16),bckgrnd_color_up:parseInt(f.config().bckgrnd_color_down,16),label_fontsize:f.config().label_fontsize,label_halign:f.config().label_halign,label_fontcolor_up:parseInt(f.config().label_fontcolor_down,16)});f.cache().nodes.bucketListWgt=j;f.widget().removeChild(f.cache().nodes.wrap);f.widget().removeChild(j.widget());f.widget().appendChild(j.cache().nodes.wrap);f.widget().style.width=j.widget().style.width;f.widget().style.height=j.widget().style.height;f.widget().style.cursor="pointer";j.widget().style.width=c;j.widget().style.height=e;i.style.width=$(f.widget()).outerWidth()+"px";i.style.height=$(f.widget()).outerHeight()+"px";this.__layoutContainerChild(i)}else{i=h.children[jQuery.inArray(f,this.query())];i.appendChild(f.widget())}return f}else{var g=jQuery.inArray(f,this.query());if(g!==-1){f.widget().removeChild(f.cache().nodes.bucketListWgt.cache().nodes.wrap);f.widget().appendChild(f.cache().nodes.wrap);f.widget().style.width=f.cache().nodes.bucketListWgt.widget().style.width;f.widget().style.height=f.cache().nodes.bucketListWgt.widget().style.height;f.widget().style.cursor="";delete f.cache().nodes.bucketListWgt;h.removeChild(h.children[g]);this.query().splice(g,1);this.__containerUpdate();f.bucket(null);return f}}}};QStudioBucketAbstract.prototype.resizeContainHeight=function(c){if(!this._widget){return null}c=(QUtility.isNumber(c)&&(c>this._params.height))?c:this._params.height;var e=this._params,a=this._cache.nodes,d=(e.label_placement.indexOf("overlay")!==-1),b=$(a.labelContain).outerHeight();(!e.show_bckgrnd_import)?a.background.style.height=(c+((d)?b:0))+"px":$(a.background).css({height:(c+((d)?b:0))+"px","background-size":(((!e.isImgLeftRight)?e.width:(e.width+e.img_width))+e.padding*2)+"px "+((c+((d)?b:0))+e.padding*2)+"px"});if(e.isImgLeftRight){a.imageContain.style.height=c+"px"}if(e.label_placement.indexOf("bottom")!==-1){(!d)?a.labelContain.style.top=(c+e.border_width_up*2)+"px":a.labelContain.style.top=c+"px"}a.wrap.style.height=($(a.background).height()+e.border_width_up*2+((!d)?b:0))+"px";this._widget.style.height=a.wrap.style.height;return true};QStudioBucketAbstract.prototype.getBucketContainHeight=function(){if(!this._widget){return null}return $(this._cache.nodes.dropContain).outerHeight()};QStudioBucketAbstract.prototype.__layoutContainerChild=function(b){if(!this._widget){return null}var a=$(this._cache.nodes.dropContain).width(),c=$(b).outerWidth(),d=$(b).outerHeight();if(((this._cache.xPosition+c)>a)&&(this._cache.xPosition!==0)){this._cache.maxRowSize=Math.max(this._cache.maxRowSize,this._cache.xPosition-this._params.hgap);this._cache.xPosition=0;this._cache.yPosition+=this._cache.maxSize+this._params.vgap;this._cache.maxSize=0}b.style.position="absolute";b.style.top=(this._cache.yPosition+this._params.contain_padding)+"px";b.style.left=(this._cache.xPosition+this._params.contain_padding)+"px";this._cache.xPosition+=c+this._params.hgap;this._cache.maxSize=Math.max(this._cache.maxSize,d);this._cache.maxRowSize=Math.max(this._cache.maxRowSize,this._cache.xPosition-this._params.hgap);if(this._params.grow_animation!=="none"){this._cache.nodes.dropContain.style.height=Math.max((this._cache.yPosition+this._cache.maxSize+this._params.contain_padding*2),this._params.height)+"px"}};QStudioBucketAbstract.prototype.__containerUpdate=function(){if(!this._widget){return null}this._cache.maxSize=0;this._cache.maxRowSize=0;this._cache.maxColSize=0;this._cache.xPosition=0;this._cache.yPosition=0;var c=this._cache.nodes.dropContain,b=0,a=c.children.length;if(a>0){for(b=0;b<a;b+=1){this.__layoutContainerChild(c.children[b])}}else{c.style.height=this._params.height+"px"}return true};function QStudioSliderAbstract(){this._events={click:(!QUtility.isMSTouch())?((!QUtility.isTouchDevice())?"click.widget":"touchstart.widget touchend.widget touchmove.widget"):((!QUtility.isTouchDevice())?"click.widget":((window.PointerEvent)?"pointerdown.widget pointerup.widget":"MSPointerDown.widget MSPointerUp.widget")),down:(!QUtility.isMSTouch())?((!QUtility.isTouchDevice())?"mousedown.widget":"touchstart.widget"):((window.PointerEvent)?"pointerdown.widget":"MSPointerDown.widget"),move:(!QUtility.isMSTouch())?((!QUtility.isTouchDevice())?"mousemove.widget":"touchmove.widget"):((window.PointerEvent)?"pointermove.widget":"MSPointerMove.widget"),up:(!QUtility.isMSTouch())?((!QUtility.isTouchDevice())?"mouseup.widget":"touchend.widget"):((window.PointerEvent)?"pointerup.widget":"MSPointerUp.widget")}}QStudioSliderAbstract.prototype=new QStudioDCAbstract();QStudioSliderAbstract.prototype.initEvents=function(){var f=document,e=this,d=this._cache.nodes,a=false,c=QUtility.isMSTouch(),b=QUtility.isTouchDevice();this.addEvent(d.handleContain,this._events.down,function(g){g.preventDefault();g.stopPropagation();if((c&&b&&!g.originalEvent.isPrimary)||!e._cache._enableBool||e.isDrag()){return}e.isDrag(true);e.slideInit(g);$(f).on(e._events.move,function(h){h.preventDefault();e.slideMove(h)});$(f).on(e._events.up,function(h){e.isDrag(false);$(f).off(e._events.move);$(f).off(e._events.up);e.slideEnd(h);delete e._params.surveyScale})});$(d.track).on(this._events.click,function(g){g.stopPropagation();if(g.type!=="touchmove"){if(g.type!=="touchstart"&&g.type!=="pointerdown"&&g.type!=="MSPointerDown"){if(!a){if(!e._params.allow_track_click||!e.enabled()||g.target.className.indexOf("handle")>-1){return}if(g.type==="click"){e._cache._downEvent=g}e.slideInit(e._cache._downEvent,true);e.slideMove(e._cache._downEvent);e.slideEnd(e._cache._downEvent);delete e._cache._downEvent}}else{e._cache._downEvent=g;a=false}}else{a=true}})};QStudioSliderAbstract.prototype.initConfigMap=function(){if(this._configMap===undefined){this._configMap={isRTL:{value:false,type:"boolean"},id:{value:"",type:"string"},primary_font_family:{value:"",type:"string"},secondary_font_family:{value:"",type:"string"},image:{value:"",type:"string"},label:{value:"",type:"string"},rowIndex:{value:-1,type:"number",min:0},colIndex:{value:-1,type:"number",min:0},direction:{value:"horizontal",type:"string",options:["horizontal","vertical"]},max:{value:100,type:"number"},min:{value:0,type:"number"},precision:{value:0,type:"number",min:0},allow_track_click:{value:true,type:"boolean"},widget_border_style:{value:"none",type:"string",options:["none","solid","dotted","dashed"]},widget_border_width:{value:0,type:"number",min:0},widget_border_color:{value:13421772,type:"color"},snap_type:{value:"none",type:"string",options:["none","snap before","snap after"]},handle_start_loc:{value:0,type:"number",min:0},show_label:{value:true,type:"boolean"},label_halign:{value:"left",type:"string",options:["left","right","center"]},label_fontsize:{value:16,type:"number",min:5},label_fontcolor:{value:0,type:"color"},label_width:{value:100,type:"number",min:1},label_left:{value:0,type:"number"},label_top:{value:0,type:"number"},show_label_background:{value:false,type:"boolean"},label_background_color:{value:15658734,type:"color"},width:{value:400,type:"number",min:1},height:{value:40,type:"number",min:1},track_border_style:{value:"solid",type:"string",options:["none","solid","dotted","dashed"]},track_border_width:{value:2,type:"number",min:0},track_border_radius:{value:0,type:"number",min:0},track_border_color:{value:7697781,type:"color"},track_color:{value:16448250,type:"color"},show_track_import:{value:false,type:"boolean"},track_import:{value:"",type:"string"},show_highlight:{value:true,type:"boolean"},highlight_color:{value:16766287,type:"color"},tick_show:{value:true,type:"boolean"},tick_width:{value:10,type:"number",min:1},tick_height:{value:10,type:"number",min:1},tick_color:{value:16711680,type:"color"},ticklabel_display_type:{value:"show all",type:"string",options:["show none","show ends","show all"]},ticklabel_width:{value:50,type:"number",min:1},ticklabel_offset:{value:0,type:"number"},ticklabel_fontsize:{value:12,type:"number",min:5},ticklabel_fontcolor:{value:0,type:"color"},show_handle_bckgrnd:{value:true,type:"boolean"},handle_width:{value:50,type:"number",min:1},handle_height:{value:50,type:"number",min:1},handle_padding:{value:4,type:"number",min:0},handle_border_style:{value:"solid",type:"string",options:["none","solid","dotted","dashed"]},handle_border_width:{value:2,type:"number",min:0},handle_border_radius:{value:0,type:"number",min:0},handle_border_color_up:{value:7697781,type:"color"},handle_border_color_down:{value:4342338,type:"color"},handle_color_up:{value:16448250,type:"color"},handle_color_down:{value:16766287,type:"color"},show_handle_import:{value:false,type:"boolean"},handle_import_up:{value:"",type:"string"},handle_import_down:{value:"",type:"string"},handle_label_disptype:{value:"none",type:"string",options:["column label","column value","range value","none"]},handle_label_fontsize:{value:14,type:"number",min:5},handle_label_fontcolor:{value:0,type:"color"},handle_label_bckgrnd_color:{value:16119285,type:"color"},handle_label_inittxt:{value:"",type:"string"},handle_label_width:{value:125,type:"number",min:1},handle_label_left:{value:0,type:"number"},handle_label_top:{value:0,type:"number"},show_handle_label_bckgrnd:{value:false,type:"boolean"},img_placement:{value:"none",type:"string",options:["none","top","bottom","left","right"]},img_auto_center:{value:false,type:"boolean"},show_init_img:{value:false,type:"boolean"},img_width:{value:150,type:"number",min:1},img_height:{value:150,type:"number",min:1},img_left:{value:0,type:"number"},img_top:{value:0,type:"number"},show_end_img:{value:false,type:"boolean"},end_img_width:{value:100,type:"number",min:1},end_img_height:{value:100,type:"number",min:1},end_img_left:{value:0,type:"number"},end_img_top:{value:0,type:"number"}}}};QStudioSliderAbstract.prototype.config=function(a){};QStudioSliderAbstract.prototype.type=function(){return"slider"};QStudioSliderAbstract.prototype.enabled=function(b,e){if(!this._widget){return null}if(typeof b==="boolean"){this._cache._enableBool=b;e=(!b)?((parseInt(e,10)>=0)?parseInt(e,10):50):100;if(!this._cache._enableBool){this._cache._enabAlphaValue=e}this._cache.nodes.handleContain.style.cursor=(b)?"pointer":"default";if(!(QUtility.ieVersion()===8)){$(this._cache.nodes.wrap).css({opacity:(e<100)?e*0.01:""})}else{for(var a in this._cache.nodes){if(this._cache.nodes.hasOwnProperty(a)&&this._cache.nodes[a]&&a!=="wrap"){$(this._cache.nodes[a]).css({opacity:(e<100)?e*0.01:""})}}for(var d=this._cache.nodes.tickContain.firstChild;d;d=d.nextSibling){if(d.children[1]){$(d.children[1]).css({opacity:(e<100)?e*0.01:""});var c=d.children[1].firstChild;if(c){$(c).css({opacity:(e<100)?e*0.01:""})}}}}}return !!this._cache._enableBool};QStudioSliderAbstract.prototype.isAnswered=function(g,h,c){if(!this._widget){return null}if(typeof g==="boolean"){this._cache._answerBool=g;var a=this._cache.nodes.handleContain,f=this._cache.nodes.handle,b=this._cache.nodes.handleDivide,e=(g)?this._params.handle_import_down:this._params.handle_import_up,k=(g)?this._params.handle_color_down:this._params.handle_color_up,i=(g)?this._params.handle_border_color_down:this._params.handle_border_color_up,j=(!this._params.isVertical)?"lastX":"lastY",d=(!this._params.isVertical)?"left":"top";if(this._params.show_handle_bckgrnd){if(!this._params.show_handle_import){f.style.borderColor="#"+i;f.style.backgroundColor="#"+k}else{f.style.backgroundImage=(QUtility.ieVersion()<9)?"url() url("+e+")":"url("+e+")";f.style.filter="inherit progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+e+", sizingMethod='scale')"}if(b){b.style.backgroundColor="#"+QUtility.paramToHex(i)}}if(!g){a.style[d]=this._params.handleInitLoc+"px";a[j]=this._params.handleInitLoc;this._handleLabelChange(true);this._highlightChange(true);this._imageChange(true)}else{c=(typeof c==="boolean")?c:true;if(!c){if(QUtility.isNumber(h)&&(h>=0&&h<=this._params.trackSize)){a.style[d]=h+"px";a[j]=h;if(this._params.snap_type!=="none"){this._handleSnap()}this._handleLabelChange();this._highlightChange();this._imageChange()}}else{if(QUtility.isNumber(h)&&h>=0&&h<this._params.tick_array.length){this._handleSnap(h);this._handleLabelChange();this._highlightChange();this._imageChange()}}}}return !!this._cache._answerBool};QStudioSliderAbstract.prototype.slideInit=function(f,d){if(!this._widget){return null}if(typeof f==="function"){this._cache._initCallBack=f;return}d=(typeof d==="boolean"&&d)?true:false;f=(f.type.indexOf("touch")!==-1&&f.originalEvent.targetTouches)?f.originalEvent.targetTouches[0]:((!QUtility.isMSTouch())?f:f.originalEvent);var h=this._params,e=this._cache.nodes,a=(!this._params.isVertical)?"lastX":"lastY",b=(!this._params.isVertical)?"dragX":"dragY",g=(!this._params.isVertical)?"pageX":"pageY",c=(($(h.survey_contain).scrollTop()!==null)?$(h.survey_contain).scrollTop():0)+(($(h.layout_contain).scrollTop()!==null)?$(h.layout_contain).scrollTop():0);this._params.surveyScale=(!this._params.isVertical)?QUtility.getQStudioSurveyScale().a:QUtility.getQStudioSurveyScale().d;if(!d){e.handleContain[b]=f[g]-(e.handleContain[a]*this._params.surveyScale)}else{e.handleContain[b]=$(e.track).offset()[(!this._params.isVertical)?"left":"top"]+(this._params.track_border_width*this._params.surveyScale)}e.handleContain[b]+=c;this._handleLabelChange();this._highlightChange();this._imageChange();if(!this._cache._answerBool){this.isAnswered(true)}if(this._cache._initCallBack){this._cache._initCallBack.call(this)}};QStudioSliderAbstract.prototype.slideMove=function(a){if(!this._widget){return null}if(typeof a==="function"){this._cache._moveCallBack=a;return}a=(a.type.indexOf("touch")!==-1&&a.originalEvent.targetTouches)?a.originalEvent.targetTouches[0]:((!QUtility.isMSTouch())?a:a.originalEvent);var e=this._params,d=this._cache.nodes,i=(!this._params.isVertical)?"lastX":"lastY",h=(!this._params.isVertical)?"dragX":"dragY",c=(!this._params.isVertical)?"pageX":"pageY",g=(!this._params.isVertical)?"left":"top",f=(($(e.survey_contain).scrollTop()!==null)?$(e.survey_contain).scrollTop():0)+(($(e.layout_contain).scrollTop()!==null)?$(e.layout_contain).scrollTop():0),b=(a[c]-d.handleContain[h]+f)*(1/this._params.surveyScale);if(b<this._cache._minLoc){b=this._cache._minLoc}if(b>this._cache._maxLoc){b=this._cache._maxLoc}d.handleContain.style[g]=b+"px";d.handleContain[i]=b;if(this._params.snap_type==="snap before"){this._handleSnap()}this._handleLabelChange();this._highlightChange();this._imageChange();if(this._cache._moveCallBack){this._cache._moveCallBack.call(this)}};QStudioSliderAbstract.prototype.slideEnd=function(a){if(!this._widget){return null}if(typeof a==="function"){this._cache._endCallBack=a;return}if(this._params.snap_type==="snap after"){this._handleSnap();this._handleLabelChange();this._highlightChange();this._imageChange()}if(this._cache._endCallBack){this._cache._endCallBack.call(this)}};QStudioSliderAbstract.prototype.setHandleBounds=function(a){if(!this._widget){return null}if(a&&(QUtility.isNumber(a.minLoc)||QUtility.isNumber(a.maxLoc))){if(a.minLoc>=0&&a.minLoc<=this._params.trackSize){this._cache._minLoc=a.minLoc}if(a.maxLoc<=this._params.trackSize&&a.maxLoc>=0){this._cache._maxLoc=a.maxLoc}}};QStudioSliderAbstract.prototype.value=function(){if(!this._widget){return null}var a=this._params.tick_array.length,c=(!(this._params.isVertical||this._params.isRTL))?this._params.tick_array:this._params.tick_array.concat([]).reverse();switch(this._params.handle_label_disptype){case"column value":return this._columnValue();case"column label":if(a>0){var d=(!this._params.isVertical&&!this._params.isRTL)?this._columnValue():a-1-this._columnValue(),b=(d>=0)?((c[d].label!==undefined)?c[d].label:c[d]).toString():"";return jQuery.trim(b)}return"";case"range value":return this._rangeValue();default:return""}};QStudioSliderAbstract.prototype._baseValue=function(){if(!this._widget){return null}var c=this._cache.nodes.handleContain,b=(!this._params.isVertical)?"lastX":"lastY",a=(!this._params.isVertical)?"width":"height";if(!this._params.isVertical&&this._params.isRTL){return((this._params[a]-c[b])/this._params[a])}return(c[b]/this._params[a])};QStudioSliderAbstract.prototype._rangeValue=function(){if(!this._widget){return null}var a=(!this._params.isVertical)?this._baseValue():1-this._baseValue();return parseFloat(((a*(this._params.max-this._params.min)+this._params.min).toFixed(this._params.precision)))};QStudioSliderAbstract.prototype._columnValue=function(){if(!this._widget){return null}var b=(!this._params.isVertical)?this._baseValue():1-this._baseValue(),a=this._params.tick_array.length;if(a<=1){return 0}return Math.round(b*(a-1))};QStudioSliderAbstract.prototype._handleLabelChange=function(a){if(!this._widget||(this._params.handle_label_disptype==="none")){return null}if(typeof a==="boolean"&&a){$(this._cache.nodes.handleLabel).html(this._params.handle_label_inittxt);return}$(this._cache.nodes.handleLabel).html(this.value())};QStudioSliderAbstract.prototype._highlightChange=function(b){if(!this._widget||!this._params.show_highlight){return null}var a=this._cache.nodes.highlight,c=parseFloat(a.style[(!this._params.isVertical)?"maxWidth":"maxHeight"]);if(typeof b==="boolean"&&b){a.style[(!this._params.isVertical)?"width":"height"]="0px";return}if(!this._params.isVertical){a.style.width=(this._baseValue()*c)+"px";if(this._params.isRTL){a.style.left=(c-(this._baseValue()*c))+"px"}}else{a.style.height=(c-(this._baseValue()*c))+"px";a.style.top=(this._baseValue()*c)+"px"}};QStudioSliderAbstract.prototype._handleSnap=function(g){if(!this._widget){return null}var a=this._cache.nodes.handleContain,h=this._cache.nodes.tickContain,e=this._params.tick_array.length,b=(QUtility.isNumber(g)&&g>=0&&g<e)?g:((!this._params.isVertical&&!this._params.isRTL)?this._columnValue():e-1-this._columnValue()),d=(!this._params.isVertical)?"left":"top",i=(!this._params.isVertical)?"lastX":"lastY",f=h.children[b],c=parseFloat(f.style[d]);if(c<this._cache._minLoc){c=this._cache._minLoc}if(c>this._cache._maxLoc){c=this._cache._maxLoc}a[i]=c;a.style[d]=c+"px"};QStudioSliderAbstract.prototype._imageChange=function(b){if(!this._widget||!this._params.show_img){return null}var d=(!this._params.isVertical&&!this._params.isRTL)?this._columnValue():this._params.tick_array.length-1-this._columnValue();if(typeof b==="boolean"&&b){if(this._cache.nodes.imageContain.children[this._cache._imgIndex]){this._cache.nodes.imageContain.children[this._cache._imgIndex].style.display="none";this._cache._imgIndex=-1}var c=this._cache.nodes.imageContain.children[d];if(c){if(!this._params.show_init_img){c.style.display="none"}else{c.style.display="block";this._cache._imgIndex=d}}return}if(d!==this._cache._imgIndex){var a=this._cache.nodes.imageContain.children[this._cache._imgIndex],c=this._cache.nodes.imageContain.children[d];if(a){a.style.display="none"}if(c){c.style.display="block"}this._cache._imgIndex=d}};QStudioSliderAbstract.prototype._updateHandleImage=function(e){if(!this._widget||(!(QUtility.isString(e)))){return null}var d=this._cache.nodes,g=this._params,b=$(d.handle).outerWidth(),c=$(d.handle).outerHeight(),f=parseInt(d.handle.style.marginLeft,10),a=parseInt(d.handle.style.marginTop,10);QStudioAssetFactory.prototype.assetUpdate.image.apply(this,[d.handleImageContain,{image:e,width:g.handle_width,height:g.handle_height,callback_success:function(){d.handleImg.className="qwidget_slider_handle_image";d.handleImageContain.style.left=(f+(b-$(d.handleImageContain).width())*0.5)+"px";d.handleImageContain.style.top=(a+(c-$(d.handleImageContain).height())*0.5)+"px";d.handleContain.insertBefore(d.handleImageContain,d.handle.nextSibling)},callback_error:function(){if(d.handleImageContain.parentNode&&d.handleImageContain.parentNode.nodeType===1){d.handleImageContain.parentNode.removeChild(d.handleImageContain)}}}])};function QBaseBtn(j,f){var i=document,k=(j&&j.nodeType===1)?j:i.body,g=i.createElement("div"),c=i.createElement("div"),b=i.createElement("div"),l=i.createElement("div"),e=i.createElement("img"),d=i.createElement("div"),h=i.createElement("label"),a=i.createElement("div");g.className="qwidget_button";g.dir="LTR";g.style.cssText+=";".concat("position: relative; filter: inherit;");g.style.cssText+=";".concat("-webkit-tap-highlight-color: rgba(0,0,0,0);");g.style.cssText+=";".concat("-webkit-touch-callout: none;");g.style.cssText+=";".concat("-ms-touch-action: none;");g.style.cssText+=";".concat("-webkit-user-select: none;");g.style.cssText+=";".concat("-khtml-user-select: none;");g.style.cssText+=";".concat("-moz-user-select: none;");g.style.cssText+=";".concat("-ms-user-select: none;");g.style.cssText+=";".concat("-user-select: none;");c.className="qwidget_button_wrapper";c.style.position="absolute";c.style.filter="inherit";l.appendChild(e);d.appendChild(h);b.appendChild(l);b.appendChild(d);c.appendChild(b);c.appendChild(a);g.appendChild(c);k.appendChild(g);this._widget=g;this._params={};this._cache={};this._cache.nodes={wrap:c,background:b,imageContain:l,image:e,labelContain:d,label:h,stamp:a};this.config(f||{});this.enabled(true);this.initEvents()}QBaseBtn.prototype=new QStudioBtnAbstract();QBaseBtn.prototype.config=function(a){if(!this._widget){return null}if(typeof a!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();this._configMap.label_overlay_padding={value:4,type:"number",min:0};this._configMap.zoom_top={value:0,type:"number",min:0};this._configMap.zoom_left={value:0,type:"number",min:0};this.setParams(this._configMap,true)}this.setParams(a);if(this._params.border_style==="none"||!this._params.show_bckgrnd){this._params.border_width_up=0;this._params.border_width_over=0;this._params.border_width_down=0;this._params.border_radius=0}this._params.label_font_family=this._params.primary_font_family;if(this._params.label_placement.indexOf("overlay")!==-1){this._params.label_width=(this._params.width+this._params.padding*2-this._params.label_overlay_padding*2);if(this._params.label_width<=0){this._params.label_overlay_padding=0;this._params.label_width=this._params.width+this._params.padding*2}this._params.label_padding=this._params.label_overlay_padding;this._params.label_trim=false}else{this._params.label_width=(!this._params.label_ovr_width)?this._params.width:this._params.label_width;this._params.label_padding=0;this._params.label_trim=this._params.label_ovr_width}this.update();if(this._cache._answerBool){this.toggleMouseDown(true)}if((this._cache._enableBool===false)&&this._cache._enabConfigObj){this.enabled(false,this._cache._enabConfigObj)}if(!this._cache._touchEnableBool){qToolTipSingleton.getInstance()[(this._params.use_tooltip)?"addWgt":"removeWgt"](this)}a=null;return this}};QBaseBtn.prototype.update=function(){if(!this._widget){return false}var e=this._params,c=this._cache.nodes,h=this._widget,k=(e.label_placement==="top"||e.label_placement==="bottom"),f=(e.label_placement.indexOf("overlay")!==-1),a=0,b=0,i=false,n=false,j=0,g=0,d=0;QStudioAssetFactory.prototype.assetUpdate.baseBckgrnd.apply(this,[c.background,e]);c.background.style.overflow=(e.show_bckgrnd)?"hidden":"";a=$(c.background).outerWidth();b=$(c.background).outerHeight();i=QStudioAssetFactory.prototype.assetUpdate.label.apply(this,[c.labelContain,e]);if(i){j=$(c.labelContain).outerWidth();g=$(c.labelContain).outerHeight();if(f){c.background.appendChild(c.labelContain);var m=QUtility.hexToRgb(e.label_bckgrnd_color),l=m.r+","+m.g+","+m.b;c.labelContain.style.backgroundColor=(e.show_label_bckgrnd)?((QUtility.ieVersion()<=8)?"#"+e.label_bckgrnd_color:"rgba("+l+", 0.85)"):"";if(g>(e.height+e.padding*2)){g=(e.height+e.padding*2);c.labelContain.style.height=g+"px";c.label.style.height=(g-e.label_overlay_padding*2)+"px";c.label.style.overflow="hidden"}}else{c.wrap.insertBefore(c.labelContain,c.background)}switch(e.label_placement){case"bottom overlay":c.labelContain.style.left=0+"px";c.labelContain.style.top=(e.height+e.padding*2-g)+"px";break;case"top overlay":c.labelContain.style.left=0+"px";c.labelContain.style.top=0+"px";break;case"center overlay":c.labelContain.style.left=0+"px";c.labelContain.style.top=(e.height+e.padding*2-g)*0.5+"px";break;case"top":c.labelContain.style.left=(e.border_width_up+e.padding)+"px";c.labelContain.style.top=0+"px";c.background.style.top=g+"px";d=g;break;default:c.labelContain.style.left=(e.border_width_up+e.padding)+"px";c.labelContain.style.top=b+"px";break}}else{if(c.labelContain.parentNode&&c.labelContain.parentNode.nodeType===1){c.labelContain.parentNode.removeChild(c.labelContain)}}qLightBoxSingleton.getInstance()[(e.use_lightbox)?"addWgt":"removeWgt"](this,{zoom_left:e.zoom_left,zoom_top:e.zoom_top});QStudioAssetFactory.prototype.assetUpdate.image.apply(this,[c.imageContain,{image:e.image,width:e.width,height:e.height,img_top:e.img_top,img_left:e.img_left,callback_success:function(){c.imageContain.style.top=(e.padding+(e.height-$(c.imageContain).height())*0.5)+"px";c.imageContain.style.left=(e.padding+(e.width-$(c.imageContain).width())*0.5)+"px";(c.background.firstChild)?c.background.insertBefore(c.imageContain,c.background.firstChild):c.background.appendChild(c.imageContain)},callback_error:function(){if(c.imageContain.parentNode&&c.imageContain.parentNode.nodeType===1){c.imageContain.parentNode.removeChild(c.imageContain)}}}]);n=QStudioAssetFactory.prototype.assetUpdate.stamp.apply(this,[c.stamp,e]);if(n){c.wrap.appendChild(c.stamp);c.stamp.style.left=((a-$(c.stamp).outerWidth())*0.5+e.stamp_left)+"px";c.stamp.style.top=(d+(b-$(c.stamp).outerHeight())*0.5+e.stamp_top)+"px"}else{if(c.stamp.parentNode&&c.stamp.parentNode.nodeType===1){c.stamp.parentNode.removeChild(c.stamp)}}c.wrap.style.width=(Math.max(a,j))+"px";c.wrap.style.height=(b+((k)?g:0))+"px";h.id=e.id;h.style.width=c.wrap.style.width;h.style.height=c.wrap.style.height};function QFlowBtn(j,f){var i=document,k=(j&&j.nodeType===1)?j:i.body,g=i.createElement("div"),c=i.createElement("div"),b=i.createElement("div"),l=i.createElement("div"),e=i.createElement("img"),d=i.createElement("div"),h=i.createElement("label"),a=i.createElement("div");g.className="qwidget_button";g.dir="LTR";g.style.cssText+=";".concat("position: relative; filter: inherit;");g.style.cssText+=";".concat("-webkit-tap-highlight-color: rgba(0,0,0,0);");g.style.cssText+=";".concat("-webkit-touch-callout: none;");g.style.cssText+=";".concat("-ms-touch-action: none;");g.style.cssText+=";".concat("-webkit-user-select: none;");g.style.cssText+=";".concat("-khtml-user-select: none;");g.style.cssText+=";".concat("-moz-user-select: none;");g.style.cssText+=";".concat("-ms-user-select: none;");g.style.cssText+=";".concat("-user-select: none;");c.className="qwidget_button_wrapper";c.style.position="absolute";c.style.filter="inherit";l.appendChild(e);d.appendChild(h);b.appendChild(l);b.appendChild(d);c.appendChild(b);c.appendChild(a);g.appendChild(c);k.appendChild(g);this._widget=g;this._params={};this._cache={};this._cache.nodes={wrap:c,background:b,imageContain:l,image:e,labelContain:d,label:h,stamp:a};this.config(f||{});this.enabled(true);this.initEvents()}QFlowBtn.prototype=new QStudioBtnAbstract();QFlowBtn.prototype.config=function(a){if(!this._widget){return null}if(typeof a!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();this._configMap.zoom_top={value:0,type:"number",min:0};this._configMap.zoom_left={value:0,type:"number",min:0};this._configMap.label_trim={value:false,type:"boolean"};this._configMap.image_scale={value:38,type:"number",min:10};this.setParams(this._configMap,true)}this.setParams(a);if(this._params.border_style==="none"||!this._params.show_bckgrnd){this._params.border_width_up=0;this._params.border_width_over=0;this._params.border_width_down=0;this._params.border_radius=0}this._params.imgWidth=Math.round(this._params.width*(this._params.image_scale*0.01));this._params.label_font_family=this._params.primary_font_family;this._params.label_width=this._params.width-this._params.border_width_up-this._params.imgWidth;this._params.label_padding=this._params.padding;this._params.label_box_sizing="border-box";this.update();if(this._cache._answerBool){this.toggleMouseDown(true)}if((this._cache._enableBool===false)&&this._cache._enabConfigObj){this.enabled(false,this._cache._enabConfigObj)}if(!this._cache._touchEnableBool){qToolTipSingleton.getInstance()[(this._params.use_tooltip)?"addWgt":"removeWgt"](this)}a=null;return this}};QFlowBtn.prototype.update=function(){if(!this._widget){return false}var g=this,d=this._params,c=this._cache.nodes,f=this._widget,a=0,b=0,h=false,j=false,e=0,i=0;QStudioAssetFactory.prototype.assetUpdate.baseBckgrnd.apply(this,[c.background,{show_bckgrnd:d.show_bckgrnd,show_bckgrnd_import:d.show_bckgrnd_import,width:d.width,height:d.height,padding:0,border_width_up:d.border_width_up,border_radius:d.border_radius,border_style:d.border_style,border_color_up:d.border_color_up,bckgrnd_color_up:d.bckgrnd_color_up,bckgrnd_import_up:d.bckgrnd_import_up}]);c.background.style.overflow=(d.show_bckgrnd)?"hidden":"";a=$(c.background).outerWidth();b=$(c.background).outerHeight();qLightBoxSingleton.getInstance()[(d.use_lightbox)?"addWgt":"removeWgt"](this,{zoom_left:d.zoom_left,zoom_top:d.zoom_top});QStudioAssetFactory.prototype.assetUpdate.image.apply(this,[c.imageContain,{image:d.image,width:((d.imgWidth-d.padding*2)>=0)?d.imgWidth-d.padding*2:d.imgWidth,height:((d.height-d.padding*2)>=0)?d.height-d.padding*2:d.height,img_left:0,img_top:0,callback_success:function(){c.image.style.left=(((d.imgWidth-$(c.image).width())*0.5)+d.img_left)+"px";c.image.style.top=(((d.height-$(c.image).height())*0.5)+d.img_top)+"px";c.imageContain.style.width=d.imgWidth+"px";c.imageContain.style.height=d.height+"px";if(c.zoomBtn&&(c.zoomBtn.parentNode===c.imageContain)){c.zoomBtn.style.left=c.image.style.left;c.zoomBtn.style.top=c.image.style.top}},callback_error:function(){if(d.use_lightbox){qLightBoxSingleton.getInstance().removeWgt(this)}c.imageContain.style.display="block";c.imageContain.style.width=d.imgWidth+"px";c.imageContain.style.height=d.height+"px"}}]);c.imageContain.style.borderRight=d.border_width_up+"px "+d.border_style+" #"+d.border_color_up;h=QStudioAssetFactory.prototype.assetUpdate.label.apply(g,[c.labelContain,d]);if(h){c.background.appendChild(c.labelContain);i=$(c.labelContain).outerWidth();e=$(c.labelContain).outerHeight();if(e>d.height){e=d.height;c.labelContain.style.height=e+"px";c.label.style.height=(e-0)+"px";c.label.style.overflow="hidden"}c.labelContain.style.left=(d.imgWidth+d.border_width_up)+"px";switch(d.label_placement){case"bottom":c.labelContain.style.top=(d.height-e)+"px";break;case"top":c.labelContain.style.top="";break;default:c.labelContain.style.top=(d.height-e)*0.5+"px";break}}else{if(c.labelContain.parentNode&&c.labelContain.parentNode.nodeType===1){c.labelContain.parentNode.removeChild(c.labelContain)}}if(d.label_trim){d.width=(h)?(d.imgWidth+i):d.imgWidth;(!d.show_bckgrnd_import)?c.background.style.width=d.width+"px":$(c.background).css({width:d.width+"px","background-size":(d.width+d.padding*2)+"px "+(d.height+d.padding*2)+"px"});a=$(c.background).outerWidth()}j=QStudioAssetFactory.prototype.assetUpdate.stamp.apply(this,[c.stamp,d]);if(j){c.wrap.appendChild(c.stamp);c.stamp.style.left=((a-$(c.stamp).outerWidth())*0.5+d.stamp_left)+"px";c.stamp.style.top=((b-$(c.stamp).outerHeight())*0.5+d.stamp_top)+"px"}else{if(c.stamp.parentNode&&c.stamp.parentNode.nodeType===1){c.stamp.parentNode.removeChild(c.stamp)}}c.wrap.style.width=a+"px";c.wrap.style.height=b+"px";f.id=d.id;f.style.width=c.wrap.style.width;f.style.height=c.wrap.style.height};function QTextBtn(i,e){var h=document,j=(i&&i.nodeType===1)?i:h.body,f=h.createElement("div"),c=h.createElement("div"),b=h.createElement("div"),d=h.createElement("div"),g=h.createElement("label"),a=h.createElement("div");f.className="qwidget_button";f.dir="LTR";f.style.cssText+=";".concat("position: relative; filter: inherit;");f.style.cssText+=";".concat("-webkit-tap-highlight-color: rgba(0,0,0,0);");f.style.cssText+=";".concat("-webkit-touch-callout: none;");f.style.cssText+=";".concat("-ms-touch-action: none;");f.style.cssText+=";".concat("-webkit-user-select: none;");f.style.cssText+=";".concat("-khtml-user-select: none;");f.style.cssText+=";".concat("-moz-user-select: none;");f.style.cssText+=";".concat("-ms-user-select: none;");f.style.cssText+=";".concat("-user-select: none;");c.className="qwidget_button_wrapper";c.style.position="absolute";c.style.filter="inherit";d.appendChild(g);b.appendChild(d);c.appendChild(b);c.appendChild(a);f.appendChild(c);j.appendChild(f);this._widget=f;this._params={};this._cache={};this._cache.nodes={wrap:c,background:b,labelContain:d,label:g,stamp:a};this.config(e||{});this.enabled(true);this.initEvents()}QTextBtn.prototype=new QStudioBtnAbstract();QTextBtn.prototype.config=function(a){if(!this._widget){return null}if(typeof a!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();this._configMap.txtbtn_trim={value:false,type:"boolean"};this.setParams(this._configMap,true)}this.setParams(a);if(this._params.border_style==="none"||!this._params.show_bckgrnd){this._params.border_width_up=0;this._params.border_width_over=0;this._params.border_width_down=0;this._params.border_radius=0}this._params.show_label=true;this._params.label_font_family=this._params.primary_font_family;this._params.label_width=this._params.width;this._params.label_padding=0;this._params.label_trim=false;this.update();if(this._cache._answerBool){this.toggleMouseDown(true)}if((this._cache._enableBool===false)&&this._cache._enabConfigObj){this.enabled(false,this._cache._enabConfigObj)}if(!this._cache._touchEnableBool){qToolTipSingleton.getInstance()[(this._params.use_tooltip)?"addWgt":"removeWgt"](this)}a=null;return this}};QTextBtn.prototype.update=function(){if(!this._widget){return false}var h=this._params,a=this._cache.nodes,d=this._widget,f=false,g=false,c=0,e=0,b=0;QStudioAssetFactory.prototype.assetUpdate.baseBckgrnd.apply(this,[a.background,h]);a.background.style.overflow=(h.show_bckgrnd)?"hidden":"";c=$(a.background).outerWidth();e=$(a.background).outerHeight();f=QStudioAssetFactory.prototype.assetUpdate.label.apply(this,[a.labelContain,h]);if(f){a.background.appendChild(a.labelContain);b=$(a.labelContain).outerHeight();if(!h.txtbtn_trim){if(b>h.height){b=h.height;a.labelContain.style.height=b+"px";a.label.style.height=b+"px";a.label.style.overflow="hidden"}a.labelContain.style.top=(h.height+h.padding*2-b)*0.5+"px"}else{a.labelContain.style.top=""}}else{if(a.labelContain.parentNode&&a.labelContain.parentNode.nodeType===1){a.labelContain.parentNode.removeChild(a.labelContain)}}if(h.txtbtn_trim){h.height=b;(!h.show_bckgrnd_import)?a.background.style.height=b+"px":$(a.background).css({height:b+"px","background-size":(h.width+h.padding*2)+"px "+(b+h.padding*2)+"px"});e=$(a.background).outerHeight()}g=QStudioAssetFactory.prototype.assetUpdate.stamp.apply(this,[a.stamp,h]);if(g){a.wrap.appendChild(a.stamp);a.stamp.style.left=((c-$(a.stamp).outerWidth())*0.5+h.stamp_left)+"px";a.stamp.style.top=((e-$(a.stamp).outerHeight())*0.5+h.stamp_top)+"px"}else{if(a.stamp.parentNode&&a.stamp.parentNode.nodeType===1){a.stamp.parentNode.removeChild(a.stamp)}}a.wrap.style.width=c+"px";a.wrap.style.height=e+"px";d.id=h.id;d.style.width=a.wrap.style.width;d.style.height=a.wrap.style.height};function QRadioCheckBtn(h,d){var g=document,i=(h&&h.nodeType===1)?h:g.body,e=g.createElement("div"),b=g.createElement("div"),a=g.createElement("div"),c=g.createElement("div"),f=g.createElement("label");e.className="qwidget_button";e.dir="LTR";e.style.cssText+=";".concat("position: relative; filter: inherit;");e.style.cssText+=";".concat("-webkit-tap-highlight-color: rgba(0,0,0,0);");e.style.cssText+=";".concat("-webkit-touch-callout: none;");e.style.cssText+=";".concat("-ms-touch-action: none;");e.style.cssText+=";".concat("-webkit-user-select: none;");e.style.cssText+=";".concat("-khtml-user-select: none;");e.style.cssText+=";".concat("-moz-user-select: none;");e.style.cssText+=";".concat("-ms-user-select: none;");e.style.cssText+=";".concat("-user-select: none;");b.className="qwidget_button_wrapper";b.style.position="absolute";b.style.filter="inherit";c.appendChild(f);b.appendChild(a);b.appendChild(c);e.appendChild(b);i.appendChild(e);this._widget=e;this._params={};this._cache={};this._cache.nodes={wrap:b,background:a,labelContain:c,label:f};this.config(d||{});this.enabled(true);this.initEvents()}QRadioCheckBtn.prototype=new QStudioBtnAbstract();QRadioCheckBtn.prototype.config=function(a){if(!this._widget){return null}if(typeof a!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();this._configMap.radchkbtn_rad_url={value:"",type:"string"};this._configMap.radchkbtn_chk_url={value:"",type:"string"};this._configMap.radchkbtn_rad_width={value:30,type:"number",min:1};this._configMap.radchkbtn_rad_height={value:30,type:"number",min:1};this._configMap.radchkbtn_chk_width={value:30,type:"number",min:1};this._configMap.radchkbtn_chk_height={value:30,type:"number",min:1};this._configMap.radchkbtn_label_width={value:100,type:"number",min:1};this._configMap.radchkbtn_label_left={value:0,type:"number"};this._configMap.radchkbtn_label_top={value:0,type:"number"};this._configMap.radchkbtn_label_fontsize={value:16,type:"number",min:5};this._configMap.radchkbtn_label_fontcolor_up={value:0,type:"color"};this._configMap.radchkbtn_label_fontcolor_over={value:0,type:"color"};this._configMap.radchkbtn_label_fontcolor_down={value:0,type:"color"};this._configMap.radchkbtn_label_halign={value:"left",type:"string",options:["left","right","center"]};this.setParams(this._configMap,true)}this.setParams(a);this._params.bckgrnd_import_up=(this._params.isRadio)?this._params.radchkbtn_rad_url:this._params.radchkbtn_chk_url;this._params.width=(this._params.isRadio)?this._params.radchkbtn_rad_width:this._params.radchkbtn_chk_width;this._params.height=(this._params.isRadio)?this._params.radchkbtn_rad_height:this._params.radchkbtn_chk_height;this._params.label_font_family=this._params.primary_font_family;this._params.label_trim=true;this._params.label_width=this._params.radchkbtn_label_width;this._params.label_left=this._params.radchkbtn_label_left;this._params.label_top=this._params.radchkbtn_label_top;this._params.label_fontsize=this._params.radchkbtn_label_fontsize;this._params.label_fontcolor_up=this._params.radchkbtn_label_fontcolor_up;this._params.label_fontcolor_over=this._params.radchkbtn_label_fontcolor_over;this._params.label_fontcolor_down=this._params.radchkbtn_label_fontcolor_down;this._params.label_halign=this._params.radchkbtn_label_halign;this._params.label_padding=0;this._params.show_label=true;this.update();if(this._cache._answerBool){this.toggleMouseDown(true)}if((this._cache._enableBool===false)&&this._cache._enabConfigObj){this.enabled(false,this._cache._enabConfigObj)}if(!this._cache._touchEnableBool){qToolTipSingleton.getInstance()[(this._params.use_tooltip)?"addWgt":"removeWgt"](this)}a=null;return this}};QRadioCheckBtn.prototype.update=function(){if(!this._widget){return false}var d=this._params,c=this._cache.nodes,g=this._widget,a=0,b=0,h=false,f=0,i=0,e=0;QStudioAssetFactory.prototype.assetUpdate.radioBckgrnd.apply(this,[c.background,d]);if(c.background.firstChild){c.formBtn=c.background.firstChild}a=$(c.background).outerWidth();b=$(c.background).outerHeight();h=QStudioAssetFactory.prototype.assetUpdate.label.apply(this,[c.labelContain,d]);if(h){c.wrap.appendChild(c.labelContain);i=$(c.labelContain).outerWidth();e=$(c.labelContain).outerHeight();f=4;(d.isRTL)?c.background.style.left=(i+f)+"px":c.labelContain.style.left=(a+f)+"px"}else{if(c.labelContain.parentNode&&c.labelContain.parentNode.nodeType===1){c.labelContain.parentNode.removeChild(c.labelContain)}}c.wrap.style.width=(a+i+f)+"px";c.wrap.style.height=Math.max(b,e)+"px";g.id=d.id;g.style.width=c.wrap.style.width;g.style.height=c.wrap.style.height};QRadioCheckBtn.prototype.toggleMouseEnter=function(c){if(!this._widget||this.isDrag()||this._cache._isDown||!(this._cache._enableBool&&(!this._cache._answerBool||this._cache._ratingBool))){return null}var b=this._cache.nodes,d=(b.labelContain&&b.labelContain.parentNode&&b.labelContain.parentNode.nodeType===1),a=(c)?this._params.label_fontcolor_over:this._params.label_fontcolor_up;if(!b.formBtn){b.background.style.backgroundPosition=(c)?"0% 50%":"50% 50%"}if(d){b.label.style.color="#"+a}if(this._params.mouseover_bounce){if(c){$(b.wrap).animate({top:"2px"},170,function(){$(this).animate({top:""},200)})}else{$(b.wrap).stop();b.wrap.style.top=""}}};QRadioCheckBtn.prototype.toggleMouseDown=function(e){if(!this._widget){return null}this._cache._isDown=e;var c=this._cache.nodes,f=(c.labelContain&&c.labelContain.parentNode&&c.labelContain.parentNode.nodeType===1),a=(e)?this._params.label_fontcolor_down:this._params.label_fontcolor_up,d=(e)?this._params.mousedown_alpha*0.01:1;if(!c.formBtn){c.background.style.backgroundPosition=(e)?"100% 50%":"50% 50%"}else{c.formBtn.checked=e}if(f){c.label.style.color="#"+a}if(!this._params.reverse_scale&&this._cache._enableBool){if(!(QUtility.ieVersion()===8)){$(c.wrap).css({opacity:(d<1)?d:""})}else{for(var b in c){if(c.hasOwnProperty(b)&&c[b]&&b!=="wrap"&&b!=="stamp"){$(c[b]).css({opacity:(d<1)?d:""})}}}}};QRadioCheckBtn.prototype.reverseAnim=function(d){if(!this._widget||!this._params.reverse_scale){return null}var b=this._cache.nodes,e=(d)?this._params.mousedown_scale*0.01:1,c=(d)?this._params.mousedown_alpha*0.01:1;this._cache._isAnimReversed=d;if(d){b.wrap.style.zIndex="auto"}$(b.wrap).css({transform:(e!==1)?"scale("+e+","+e+")":"","transform-origin":(e!==1)?"top":""});if(!(QUtility.ieVersion()===8)){for(var f=b.wrap.firstChild;f;f=f.nextSibling){if(f!==b.stamp){$(f).css({opacity:(c<1)?c:""})}}}else{for(var a in b){if(b.hasOwnProperty(a)&&b[a]&&a!=="wrap"&&a!=="stamp"){$(b[a]).css({opacity:(c<1)?c:""})}}}};function QBaseInputBtn(i,e){var h=document,k=(i&&i.nodeType===1)?i:h.body,f=h.createElement("div"),c=h.createElement("div"),b=h.createElement("div"),j=h.createElement("textarea"),d=h.createElement("div"),g=h.createElement("label"),a=h.createElement("div");f.className="qwidget_button";f.dir="LTR";f.style.cssText+=";".concat("position: relative; filter: inherit;");f.style.cssText+=";".concat("-webkit-tap-highlight-color: rgba(0,0,0,0);");f.style.cssText+=";".concat("-webkit-touch-callout: none;");f.style.cssText+=";".concat("-ms-touch-action: none;");f.style.cssText+=";".concat("-webkit-user-select: none;");f.style.cssText+=";".concat("-khtml-user-select: none;");f.style.cssText+=";".concat("-moz-user-select: none;");f.style.cssText+=";".concat("-ms-user-select: none;");f.style.cssText+=";".concat("-user-select: none;");c.className="qwidget_button_wrapper";c.style.position="absolute";c.style.filter="inherit";d.appendChild(g);b.appendChild(j);c.appendChild(d);c.appendChild(b);c.appendChild(a);f.appendChild(c);k.appendChild(f);this._widget=f;this._params={};this._cache={};this._cache.nodes={wrap:c,background:b,textarea:j,labelContain:d,label:g,stamp:a};this.config(e||{});this.enabled(true);this.initEvents()}QBaseInputBtn.prototype=new QStudioInputBtnAbstract();QBaseInputBtn.prototype.config=function(d){if(!this._widget){return null}if(typeof d!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();this.setParams(this._configMap,true)}this.setParams(d);if(this._params.border_style==="none"||!this._params.show_bckgrnd){this._params.border_width_up=0;this._params.border_width_over=0;this._params.border_width_down=0;this._params.border_radius=0}var b=/\bmin\b/ig,e=/\bmax\b/ig,c=15,a=this.textarea();if(c>this._params.width||c>this._params.height){c=0}this._params.textarea_width=this._params.width-c;this._params.textarea_height=this._params.height-c;this._params.textarea_font_family=this._params.secondary_font_family;this._params.label_font_family=this._params.primary_font_family;this._params.label_width=(!this._params.label_ovr_width)?this._params.width:this._params.label_width;this._params.label_padding=0;this._params.label_trim=this._params.label_ovr_width;this._params.show_label=this._params.other_show_label;if(QUtility.isNumber(this._params.other_min)){this._params.other_msg_range=this._params.other_msg_range.replace(b,this._params.other_min)}if(QUtility.isNumber(this._params.other_min)){this._params.other_msg_range=this._params.other_msg_range.replace(e,this._params.other_max)}this.update();if(this._cache._answerBool){this.toggleMouseDown(true);this.textarea(a)}if((this._cache._enableBool===false)&&this._cache._enabConfigObj){this.enabled(false,this._cache._enabConfigObj)}if(!this._cache._touchEnableBool){qToolTipSingleton.getInstance()[(this._params.use_tooltip)?"addWgt":"removeWgt"](this)}d=null;return this}};QBaseInputBtn.prototype.update=function(){if(!this._widget){return false}var e=this._params,c=this._cache.nodes,g=this._widget,a=0,b=0,h=false,j=false,f=0,i=0,d=0;QStudioAssetFactory.prototype.assetUpdate.baseBckgrnd.apply(this,[c.background,e]);a=$(c.background).outerWidth();b=$(c.background).outerHeight();QStudioAssetFactory.prototype.assetUpdate.textarea.apply(this,[c.textarea,e]);c.textarea.style.left=(e.width+e.padding*2-$(c.textarea).outerWidth())*0.5+"px";c.textarea.style.top=(e.height+e.padding*2-$(c.textarea).outerHeight())*0.5+"px";h=QStudioAssetFactory.prototype.assetUpdate.label.apply(this,[c.labelContain,e]);if(h){c.wrap.insertBefore(c.labelContain,c.background);i=$(c.labelContain).outerWidth();f=$(c.labelContain).outerHeight();c.labelContain.style.left=(e.border_width_up+e.padding)+"px";switch(e.label_placement){case"top":c.labelContain.style.top=0+"px";c.background.style.top=f+"px";d=f;break;default:c.labelContain.style.top=b+"px";break}}else{if(c.labelContain.parentNode&&c.labelContain.parentNode.nodeType===1){c.labelContain.parentNode.removeChild(c.labelContain)}}j=QStudioAssetFactory.prototype.assetUpdate.stamp.apply(this,[c.stamp,e]);if(j){c.wrap.appendChild(c.stamp);c.stamp.style.left=((a-$(c.stamp).outerWidth())*0.5+e.stamp_left)+"px";c.stamp.style.top=(d+(b-$(c.stamp).outerHeight())*0.5+e.stamp_top)+"px"}else{if(c.stamp.parentNode&&c.stamp.parentNode.nodeType===1){c.stamp.parentNode.removeChild(c.stamp)}}c.wrap.style.width=(Math.max(a,i))+"px";c.wrap.style.height=(b+f)+"px";g.id=e.id;g.style.width=c.wrap.style.width;g.style.height=c.wrap.style.height;(!e.allow_click)?this.addEvent(g,this._events.click,function(k){k.stopPropagation()}):this.removeEvent(g,this._events.click)};function QKantarInputBtn(i,d){var h=document,j=(i&&i.nodeType===1)?i:h.body,e=h.createElement("div"),b=h.createElement("div"),a=h.createElement("div"),c=h.createElement("div"),f=h.createElement("label"),g=h.createElement("textarea");e.className="qwidget_button";e.dir="LTR";e.style.cssText+=";".concat("position: relative; filter: inherit;");e.style.cssText+=";".concat("-webkit-tap-highlight-color: rgba(0,0,0,0);");e.style.cssText+=";".concat("-webkit-touch-callout: none;");e.style.cssText+=";".concat("-ms-touch-action: none;");e.style.cssText+=";".concat("-webkit-user-select: none;");e.style.cssText+=";".concat("-khtml-user-select: none;");e.style.cssText+=";".concat("-moz-user-select: none;");e.style.cssText+=";".concat("-ms-user-select: none;");e.style.cssText+=";".concat("-user-select: none;");b.className="qwidget_button_wrapper";b.style.position="absolute";b.style.filter="inherit";c.appendChild(f);b.appendChild(a);b.appendChild(c);b.appendChild(g);e.appendChild(b);j.appendChild(e);this._params={};this._cache={};this._widget=e;this._cache.nodes={wrap:b,background:a,labelContain:c,label:f,textarea:g};this.config(d||{});this.enabled(true);this.initEvents()}QKantarInputBtn.prototype=new QStudioInputBtnAbstract();QKantarInputBtn.prototype.config=function(c){if(!this._widget){return null}if(typeof c!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();this._configMap.kntrinputbtn_rad_url={value:"",type:"string"};this._configMap.kntrinputbtn_chk_url={value:"",type:"string"};this._configMap.kntrinputbtn_rad_width={value:30,type:"number",min:1};this._configMap.kntrinputbtn_rad_height={value:30,type:"number",min:1};this._configMap.kntrinputbtn_chk_width={value:30,type:"number",min:1};this._configMap.kntrinputbtn_chk_height={value:30,type:"number",min:1};this._configMap.kntrinputbtn_input_width={value:100,type:"number",min:1};this._configMap.kntrinputbtn_label_width={value:100,type:"number",min:1};this._configMap.kntrinputbtn_label_left={value:0,type:"number"};this._configMap.kntrinputbtn_label_top={value:0,type:"number"};this._configMap.kntrinputbtn_label_fontsize={value:16,type:"number",min:5};this._configMap.kntrinputbtn_label_fontcolor_up={value:0,type:"color"};this._configMap.kntrinputbtn_label_fontcolor_over={value:0,type:"color"};this._configMap.kntrinputbtn_label_fontcolor_down={value:0,type:"color"};this._configMap.kntrinputbtn_label_halign={value:"left",type:"string",options:["left","right","center"]};this.setParams(this._configMap,true)}this.setParams(c);this._params.bckgrnd_import_up=(this._params.isRadio)?this._params.kntrinputbtn_rad_url:this._params.kntrinputbtn_chk_url;this._params.width=(this._params.isRadio)?this._params.kntrinputbtn_rad_width:this._params.kntrinputbtn_chk_width;this._params.height=(this._params.isRadio)?this._params.kntrinputbtn_rad_height:this._params.kntrinputbtn_chk_height;this._params.textarea_font_family=this._params.secondary_font_family;this._params.textarea_width=this._params.kntrinputbtn_input_width;this._params.textarea_height=50;this._params.label_font_family=this._params.primary_font_family;this._params.label_trim=true;this._params.label_width=this._params.kntrinputbtn_label_width;this._params.label_left=this._params.kntrinputbtn_label_left;this._params.label_top=this._params.kntrinputbtn_label_top;this._params.label_fontsize=this._params.kntrinputbtn_label_fontsize;this._params.label_fontcolor_up=this._params.kntrinputbtn_label_fontcolor_up;this._params.label_fontcolor_over=this._params.kntrinputbtn_label_fontcolor_over;this._params.label_fontcolor_down=this._params.kntrinputbtn_label_fontcolor_down;this._params.label_halign=this._params.kntrinputbtn_label_halign;this._params.label_padding=0;this._params.show_label=true;var b=/\bmin\b/ig,d=/\bmax\b/ig,a=this.textarea();if(QUtility.isNumber(this._params.other_min)){this._params.other_msg_range=this._params.other_msg_range.replace(b,this._params.other_min)}if(QUtility.isNumber(this._params.other_min)){this._params.other_msg_range=this._params.other_msg_range.replace(d,this._params.other_max)}this.update();if(this._cache._answerBool){this.toggleMouseDown(true);this.textarea(a)}if((this._cache._enableBool===false)&&this._cache._enabConfigObj){this.enabled(false,this._cache._enabConfigObj)}if(!this._cache._touchEnableBool){qToolTipSingleton.getInstance()[(this._params.use_tooltip)?"addWgt":"removeWgt"](this)}c=null;return this}};QKantarInputBtn.prototype.update=function(){if(!this._widget){return false}var j=this,e=this._params,d=this._cache.nodes,h=this._widget,a=0,c=0,g=4,k=false,l=0,f=0,i=0,b=0;QStudioAssetFactory.prototype.assetUpdate.radioBckgrnd.apply(this,[d.background,e]);if(d.background.firstChild){d.formBtn=d.background.firstChild;d.formBtn.onclick=function(){this.checked=j.isAnswered()}}a=$(d.background).outerWidth();c=$(d.background).outerHeight();k=QStudioAssetFactory.prototype.assetUpdate.label.apply(this,[d.labelContain,e]);if(k){d.wrap.appendChild(d.labelContain);l=$(d.labelContain).outerWidth();f=$(d.labelContain).outerHeight()}else{if(d.labelContain.parentNode&&d.labelContain.parentNode.nodeType===1){d.labelContain.parentNode.removeChild(d.labelContain)}}QStudioAssetFactory.prototype.assetUpdate.textarea.apply(this,[d.textarea,e]);i=$(d.textarea).outerWidth();b=$(d.textarea).outerHeight();if(e.isRTL){d.background.style.left=(i+l+((k)?g*2:g))+"px";if(k){d.labelContain.style.left=(i+g)+"px"}d.textarea.style.left=""}else{if(k){d.labelContain.style.left=(a+g)+"px"}d.textarea.style.left=(a+l+((k)?g*2:g))+"px"}d.wrap.style.width=(a+l+i+((k)?g*2:g))+"px";d.wrap.style.height=Math.max(c,f,b)+"px";d.wrap.style.visibility="";h.id=e.id;h.style.width=d.wrap.style.width;h.style.height=d.wrap.style.height;(!e.allow_click)?this.addEvent(h,this._events.click,function(m){m.stopPropagation()}):this.removeEvent(h,this._events.click)};QKantarInputBtn.prototype.toggleMouseEnter=function(a){return QRadioCheckBtn.prototype.toggleMouseEnter.call(this,a)};QKantarInputBtn.prototype.toggleMouseDown=function(a){return QRadioCheckBtn.prototype.toggleMouseDown.call(this,a)};QKantarInputBtn.prototype.reverseAnim=function(a){return QRadioCheckBtn.prototype.reverseAnim.call(this,a)};function QBaseFlagBtn(c,g){var f=document,d=(c&&c.nodeType===1)?c:f.body,e=f.createElement("div"),h=f.createElement("label"),a=f.createElement("div"),b=f.createElement("div");e.dir="LTR";e.className="qwidget_button";e.style.cssText+=";".concat("position: relative; filter: inherit;");e.style.cssText+=";".concat("-webkit-tap-highlight-color: rgba(0,0,0,0);");e.style.cssText+=";".concat("-webkit-touch-callout: none;");e.style.cssText+=";".concat("-ms-touch-action: none;");e.style.cssText+=";".concat("-webkit-user-select: none;");e.style.cssText+=";".concat("-khtml-user-select: none;");e.style.cssText+=";".concat("-moz-user-select: none;");e.style.cssText+=";".concat("-ms-user-select: none;");e.style.cssText+=";".concat("-user-select: none;");h.className="qwidget_button_valuelabel";h.style.cssText="position: absolute; filter: inherit;";a.className="qwidget_button_flagstick";a.style.cssText="position: relative; filter: inherit;";b.className="qwidget_button_flagcircle";b.style.cssText="position: relative; filter: inherit;";e.appendChild(h);e.appendChild(a);e.appendChild(b);d.appendChild(e);this._widget=e;this._params={};this._cache={};this._cache.pinInfo={pinWidth:undefined,pinHeight:undefined,baseWidth:undefined,baseHeight:undefined};this._cache.nodes={valueLabel:h,flagStick:a,flagCircle:b,btnWidget:undefined,background:undefined,imageContain:undefined,labelContain:undefined,label:undefined,stamp:undefined};this.config(g||{});this.enabled(true);this.initEvents()}QBaseFlagBtn.prototype=new QStudioBtnAbstract();QBaseFlagBtn.prototype.config=function(a){if(!this._widget){return null}if(typeof a!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();this._configMap.flagstick_height={value:50,type:"number",min:0};this._configMap.value_label_halign={value:"center",type:"string",options:["left","right","center"]};this._configMap.value_label_fontsize={value:16,type:"number",min:5};this._configMap.value_label_fontcolor={value:0,type:"color"};this._configMap.flagcircle_color={value:16711680,type:"color"};this._configMap.show_value_label={value:true,type:"boolean"};this._configMap.select_anim_type={value:"basic",type:"string",options:["basic","image","pin"]};this._configMap.btn_widget_type={value:"base",type:"string",options:["base","text","flow"]};this._configMap.image_select_anim_width={value:50,type:"number",min:1};this._configMap.image_select_anim_height={value:50,type:"number",min:1};this._configMap.pin_select_anim_size={value:12,type:"number",min:5};this.setParams(this._configMap,true)}this.setParams(a);this.update(a);if(this._cache._answerBool){this.animType[this._params.select_anim_type].select.call(this,(a))}if((this._cache._enableBool===false)&&this._cache._enabConfigObj){this.enabled(false,this._cache._enabConfigObj)}if(!this._cache._touchEnableBool){qToolTipSingleton.getInstance()[(this._params.use_tooltip)?"addWgt":"removeWgt"](this)}a=null;return this}};QBaseFlagBtn.prototype.update=function(i){if(!this._widget){return null}var e=this._params,d=this._cache.nodes,g=this._widget,c=11,f=undefined;i.use_tooltip=false;i.border_width_down=i.border_width_over=i.border_width_up;if(e.btn_widget_type==="base"&&!(i.label_placement==="top overlay"||i.label_placement==="bottom overlay")){i.label_placement="bottom overlay"}if(d.btnWidget&&d.btnWidget.widget().parentNode&&d.btnWidget.widget().parentNode.nodeType===1){d.btnWidget.widget().parentNode.removeChild(d.btnWidget.widget())}d.btnWidget=QStudioCompFactory.widgetFactory(e.btn_widget_type,g,i);f=d.btnWidget.widget();f.className="";this.removeEvent.apply(d.btnWidget,[f,this._events.hover]);f.style.position="relative";for(var b=f.firstChild;b;b=b.nextSibling){if(b!==d.btnWidget.cache().nodes.stamp){b.style.position="relative"}}d.background=d.btnWidget.cache().nodes.background;d.imageContain=d.btnWidget.cache().nodes.imageContain;d.labelContain=d.btnWidget.cache().nodes.labelContain;d.label=d.btnWidget.cache().nodes.label;d.stamp=d.btnWidget.cache().nodes.stamp;if(e.show_value_label){d.valueLabel.style.fontFamily=e.primary_font_family;d.valueLabel.style.display="none";d.valueLabel.style.wordWrap="break-word";d.valueLabel.dir=(!e.isRTL)?"LTR":"RTL";d.valueLabel.style.whiteSpace="normal";d.valueLabel.style.textAlign=(!e.isRTL)?e.value_label_halign:(e.value_label_halign!=="left")?e.value_label_halign:"";d.valueLabel.style.fontSize=e.value_label_fontsize+"px";d.valueLabel.style.width=parseFloat(f.style.width)+"px";d.valueLabel.style.height="auto";d.valueLabel.style.color="#"+e.value_label_fontcolor;d.valueLabel.style.backgroundColor="transparent";g.insertBefore(d.valueLabel,f)}else{if(d.valueLabel.parentNode&&d.valueLabel.parentNode.nodeType===1){d.valueLabel.parentNode.removeChild(d.valueLabel)}}d.flagStick.style.display=(e.flagstick_height>0)?"":"none";d.flagStick.style.width="5px";d.flagStick.style.height=e.flagstick_height+"px";d.flagStick.style.borderWidth="0px 0px 5px 5px";d.flagStick.style.borderStyle="solid";d.flagStick.style.borderColor="transparent #"+e.border_color_up;d.flagStick.style.left=((parseFloat(f.style.width)-c*0.5)*0.5)+"px";f.appendChild(d.flagStick);d.flagCircle.style.borderRadius=d.flagCircle.style.webkitBorderRadius=d.flagCircle.style.mozBorderRadius="50%";d.flagCircle.style.backgroundColor="#"+e.flagcircle_color;d.flagCircle.style.width=c+"px";d.flagCircle.style.height=c+"px";d.flagCircle.style.top=(-c*0.5)+"px";d.flagCircle.style.left=(parseFloat(d.flagStick.style.left)-(c*0.5)+2)+"px";d.flagCircle.style.visibility="hidden";f.appendChild(d.flagCircle);g.id=e.id;g.style.width=f.style.width;g.style.height=($(f).outerHeight()+$(d.flagStick).outerHeight())+"px";this._cache.pinInfo.baseWidth=parseInt(g.style.width,10);this._cache.pinInfo.baseHeight=parseInt(g.style.height,10);if(d.pin){var a=d.pin.firstChild,h=d.pin.children[1];a.style.borderColor="#"+e.border_color_up;h.style.borderColor="#"+e.border_color_up+" transparent"}};QBaseFlagBtn.prototype.enabled=function(c,d){if(!this._widget){return null}if(typeof c==="boolean"){var e=this._params,a=this._cache.nodes,b=this._widget;a.btnWidget.enabled(c,d);d=d||{};d={isAnimate:(typeof d.isAnimate==="boolean")?d.isAnimate:false,animSpeed:(typeof d.animSpeed==="number"&&d.animSpeed>=100)?d.animSpeed:800,goOpaque:(typeof d.goOpaque==="boolean")?d.goOpaque:false,enableExtEvt:(typeof d.enableExtEvt==="boolean")?d.enableExtEvt:false,alphaVal:(!this._cache._enableBool)?((parseInt(d.alphaVal,10)>=0)?parseInt(d.alphaVal,10):50):(this._cache._answerBool)?e.mousedown_alpha*100:100};this._cache._enableBool=c;this._cache._enableExtEvt=d.enableExtEvt;if(!this._cache._enableBool){this._cache._enabConfigObj=d;b.style.zIndex="auto"}b.style.cursor=(this._cache._enableBool)?"pointer":"default";if(!d.isAnimate){$([a.valueLabel,a.flagStick,a.flagCircle]).css({opacity:((d.alphaVal<100)?d.alphaVal*0.01:"")})}else{$([a.valueLabel,a.flagStick,a.flagCircle]).animate({opacity:d.alphaVal*0.01},d.animSpeed)}}return !!this._cache._enableBool};QBaseFlagBtn.prototype.valueLabel=function(b){if(!this._widget||!this._params.show_value_label||!(QUtility.isString(b)||QUtility.isNumber(b))){return false}var a=this._cache.nodes;$(a.valueLabel).html(b);a.valueLabel.style.display=(b!=="")?"block":"none";a.valueLabel.style.top=(-$(a.valueLabel).outerHeight())+"px";if(a.pin){a.valueLabel.style.marginTop=-4+"px";a.valueLabel.style.left=($(a.pin).outerWidth()-$(a.valueLabel).outerWidth())*0.5+"px"}return true};QBaseFlagBtn.prototype.flagStickHeight=function(c){if(!this._widget){return false}var b=this._widget,a=this._cache.nodes.flagStick,d=this._cache.nodes.btnWidget.widget();if(QUtility.isNumber(c)&&c>=this.config().flagstick_height){a.style.height=c+"px";b.style.height=($(d).outerHeight()+c)+"px"}return(a.style.display!=="none")?parseInt(a.style.height,10):0};QBaseFlagBtn.prototype.toggleMouseEnter=function(d){if(!this._widget||this.isDrag()||!this._cache._enableBool||this._cache._answerBool){return null}var e=this._params,b=this._cache.nodes,c=this._widget,a=(d)?e.border_color_over:e.border_color_up;b.flagStick.style.borderColor="transparent #"+a;b.btnWidget.toggleMouseEnter(d);c.style.zIndex=(d)?2000:"auto"};QBaseFlagBtn.prototype.isAnswered=function(a){if(!this._widget){return false}if(typeof a==="boolean"&&this._cache._answerBool!==a){this._cache._answerBool=a;this.animType[this._params.select_anim_type].select.call(this,(a))}return !!this._cache._answerBool};QBaseFlagBtn.prototype.animType={basic:{select:function(c){var d=this._params,b=this._cache.nodes,a=(c)?d.border_color_down:d.border_color_up;b.flagStick.style.borderColor="transparent #"+a;if(!c){b.flagStick.style.height=d.flagstick_height+"px"}b.flagCircle.style.visibility=(c)?"":"hidden";b.btnWidget.toggleMouseDown(c)},down:function(a){}},image:{select:function(a){QBaseFlagBtn.prototype.animType.basic.select.call(this,a)},down:function(c){var f=this._params,a=this._cache.nodes,b=this._widget,e=a.btnWidget.widget(),d=11;if((a.btnWidget.config().width!==((c)?f.image_select_anim_width:f.width))||(a.btnWidget.config().height!==((c)?f.image_select_anim_height:f.height))){a.btnWidget.config({use_lightbox:(c)?false:f.use_lightbox,bckgrnd_color_up:(c)?f.bckgrnd_color_over:f.bckgrnd_color_up,border_color_up:(c)?f.border_color_over:f.border_color_up,label_color_up:(c)?f.label_color_over:f.label_color_up,bckgrnd_import_up:(c)?f.bckgrnd_import_over:f.bckgrnd_import_up,width:(c)?f.image_select_anim_width:f.width,height:(c)?f.image_select_anim_height:f.height})}a.labelContain.style.display=(c&&f.btn_widget_type.toLowerCase()==="base")?"none":"block";a.flagStick.style.left=((parseFloat(e.style.width)-d*0.5)*0.5)+"px";a.flagCircle.style.left=(parseFloat(a.flagStick.style.left)-(d*0.5)+2)+"px";a.valueLabel.style.width=parseFloat(e.style.width)+"px";b.style.width=e.style.width;b.style.height=($(e).outerHeight()+$(a.flagStick).outerHeight())+"px"}},pin:{hover:function(c){var b=this._cache.nodes,a=b.pin.children[2];$(a).stop(false,true);$(a)[(c)?"fadeIn":"hide"]((c)?300:0);a.style.zIndex=(c)?2000:"auto"},select:function(d){var e=this._params,c=this._cache.nodes,b=c.pin.firstChild,f=c.pin.children[1],a=(d)?e.border_color_down:e.border_color_up;b.style.borderColor="#"+a;f.style.borderColor="#"+a+" transparent"},down:function(d){var b=this._cache.nodes,c=this.widget(),e=b.btnWidget.widget(),a=this._pinCreate();if(d&&!QUtility.isTouchDevice()){QBaseFlagBtn.prototype.animType.pin.hover.call(this,false)}e.style.display=(d)?"none":"";b.flagStick.style.display=(d)?"none":"";b.flagCircle.style.display=(d)?"none":"";a.style.display=(d)?"":"none";c.style.width=((d)?this._cache.pinInfo.pinWidth:this._cache.pinInfo.baseWidth)+"px";c.style.height=((d)?this._cache.pinInfo.pinHeight:this._cache.pinInfo.baseHeight)+"px"}}};QBaseFlagBtn.prototype._pinCreate=function(){if(!this._cache.nodes.pin){var i=this,n=document,c=this._params,b=this._cache.nodes,g=this._widget,d=b.btnWidget.widget(),f=undefined,e=$(b.background).outerHeight(),o=((c.pin_select_anim_size&1)===0)?c.pin_select_anim_size:c.pin_select_anim_size+1,h=o*3,j=o+Math.round((o*0.5)),m=Math.round(o*2.5),l=n.createElement("div"),a=n.createElement("div"),k=n.createElement("div");d.style.height=e+"px";b.flagStick.style.display="none";b.flagCircle.style.display="none";f=d.cloneNode(true);l.className="qwidget_button_pin";l.style.position="absolute";l.style.cursor="pointer";a.style.width=o+"px";a.style.height=o+"px";a.style.border=o+"px solid #"+c.border_color_up;a.style.borderBottom=0;a.style.borderRadius=a.style.webkitBorderRadius=a.style.mozBorderRadius=h+"px "+h+"px 0 0";a.style.background="#FFF";k.style.width="0px";k.style.height="0px";k.style.borderWidth=m+"px "+j+"px 0";k.style.borderStyle="solid";k.style.borderColor="#"+c.border_color_up+" transparent";k.style.marginTop=-1+"px";l.appendChild(a);l.appendChild(k);l.appendChild(f);g.appendChild(l);if(!QUtility.isTouchDevice()){$(l).on("mouseenter.dragnflag.pin mouseleave.dragnflag.pin",function(p){if(i.isDrag()){return}QBaseFlagBtn.prototype.animType.pin.hover.call(i,p.type==="mouseenter")})}this._cache.nodes.pin=l;this._cache.pinInfo.pinWidth=h;this._cache.pinInfo.pinHeight=o*2+m;$(f).hide();f.style.position="absolute";f.style.top=(-e-2)+"px";f.style.left=((h-parseInt(g.style.width,10))*0.5)+"px"}return this._cache.nodes.pin};function QBaseBucket(i,e){var h=document,k=(i&&i.nodeType===1)?i:h.body,f=h.createElement("div"),b=h.createElement("div"),a=h.createElement("div"),l=h.createElement("div"),d=h.createElement("img"),c=h.createElement("div"),g=h.createElement("label"),j=h.createElement("div");f.className="qwidget_bucket";f.dir="LTR";f.style.cssText+=";".concat("position: relative; filter: inherit;");f.style.cssText+=";".concat("-webkit-tap-highlight-color: rgba(0,0,0,0);");f.style.cssText+=";".concat("-webkit-touch-callout: none;");f.style.cssText+=";".concat("-ms-touch-action: none;");f.style.cssText+=";".concat("-webkit-user-select: none;");f.style.cssText+=";".concat("-khtml-user-select: none;");f.style.cssText+=";".concat("-moz-user-select: none;");f.style.cssText+=";".concat("-ms-user-select: none;");f.style.cssText+=";".concat("-user-select: none;");b.className="qwidget_bucket_wrapper";b.style.position="absolute";b.style.filter="inherit";j.className="qwidget_bucket_drop_container";j.style.position="absolute";j.style.filter=(QUtility.ieVersion()>9)?"inherit":"";j.style.cssText+=";".concat("-webkit-box-sizing: border-box;");j.style.cssText+=";".concat("-moz-box-sizing: border-box;");j.style.cssText+=";".concat("box-sizing: border-box;");l.appendChild(d);c.appendChild(g);a.appendChild(l);a.appendChild(j);a.appendChild(c);b.appendChild(a);f.appendChild(b);k.appendChild(f);this._widget=f;this._params={};this._cache={};this._cache.bucketArray=[];this._cache.maxSize=0;this._cache.maxRowSize=0;this._cache.maxColSize=0;this._cache.xPosition=0;this._cache.yPosition=0;this._cache.nodes={wrap:b,background:a,imageContain:l,image:d,dropContain:j,labelContain:c,label:g};this.config(e||{});this.enabled(true);this.initEvents()}QBaseBucket.prototype=new QStudioBucketAbstract();QBaseBucket.prototype.config=function(a){if(!this._widget){return null}if(typeof a!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();this.setParams(this._configMap,true)}while(this._cache.bucketArray.length>0){if(this._cache.bucketArrayCopy===undefined){this._cache.bucketArrayCopy=this._cache.bucketArray.slice()}this.remove(this._cache.bucketArray[0])}this.setParams(a);if(this._params.capvalue===undefined){this._params.capvalue=-1}this._params.show_img=(this._params.img_placement!=="none");this._params.isImgLeftRight=(this._params.img_placement==="left"||this._params.img_placement==="right");this._params.padding=0;if(this._params.border_style==="none"||!this._params.show_bckgrnd){this._params.border_width_up=0;this._params.border_width_over=0;this._params.border_radius=0}if(this._params.label_placement.indexOf("overlay")!==-1){this._params.label_width=(this._params.width+this._params.padding*2-this._params.label_overlay_padding*2);if(this._params.label_width<=0){this._params.label_overlay_padding=0;this._params.label_width=this._params.width+this._params.padding*2}this._params.label_padding=this._params.label_overlay_padding;this._params.label_trim=false}else{this._params.label_width=this._params.width;this._params.label_padding=0;this._params.label_trim=false}if(this._params.img_placement==="center"){this._params.img_width=this._params.width}if(this._params.isImgLeftRight){this._params.label_width+=this._params.img_width}if(this._params.bucket_animation==="fade"){this._params.grow_animation="none"}this.update();if((this._cache._enableBool===false)&&this._cache._enabConfigObj){this.enabled(false,this._cache._enabConfigObj)}if(!this._cache._touchEnableBool){qToolTipSingleton.getInstance()[(this._params.use_tooltip)?"addWgt":"removeWgt"](this)}a=null;return this}};QBaseBucket.prototype.update=function(){if(!this._widget){return false}var c=this._cache.nodes,d=this._params,h=this._widget,a=0,b=0,g=d.img_placement,e=(d.label_placement.indexOf("overlay")!==-1),i=false,f=0;c.dropContain.style.width=d.width+"px";if(g==="left"){c.dropContain.style.width=(d.width-d.border_width_up)+"px";c.dropContain.style.left=(d.img_width+d.border_width_up)+"px"}c.dropContain.style.height=d.height+"px";c.dropContain.style.padding=d.contain_padding+"px";c.dropContain.style.overflowY=(d.bucket_animation.toLowerCase()!=="fade"&&d.grow_animation.toLowerCase()==="none")?"auto":"hidden";c.dropContain.style.overflowX="hidden";QStudioAssetFactory.prototype.assetUpdate.baseBckgrnd.apply(this,[c.background,d]);c.background.style.overflow=(d.show_bckgrnd)?"hidden":"";if(d.isImgLeftRight){(!d.show_bckgrnd_import)?c.background.style.width=(d.width+d.img_width)+"px":$(c.background).css({width:(d.width+d.img_width)+"px","background-size":((d.width+d.img_width)+d.padding*2)+"px "+(d.height+d.padding*2)+"px"})}a=$(c.background).outerWidth();b=$(c.background).outerHeight();i=QStudioAssetFactory.prototype.assetUpdate.label.apply(this,[c.labelContain,{label_font_family:d.primary_font_family,isRTL:d.isRTL,show_label:d.show_label,label_trim:d.label_trim,label:d.label,label_width:d.label_width,label_padding:d.label_padding,label_left:d.label_left,label_top:d.label_top,label_halign:d.label_halign,label_fontsize:d.label_fontsize,label_fontcolor_up:d.label_fontcolor_up}]);if(i){if(QUtility.isNumber(d.label_height)){c.labelContain.style.height=(d.label_height+d.label_padding*2)+"px"}f=$(c.labelContain).height();if(e){c.background.appendChild(c.labelContain);var k=QUtility.hexToRgb(d.label_bckgrnd_color),j=k.r+","+k.g+","+k.b;c.labelContain.style.backgroundColor=(d.show_label_bckgrnd)?((QUtility.ieVersion()<=8)?"#"+d.label_bckgrnd_color:"rgba("+j+", 0.85)"):"";(!d.show_bckgrnd_import)?c.background.style.height=(d.height+f)+"px":$(c.background).css({height:(d.height+f)+"px","background-size":(((!d.isImgLeftRight)?d.width:(d.width+d.img_width))+d.padding*2)+"px "+((d.height+f)+d.padding*2)+"px"});b=$(c.background).outerHeight();switch(d.label_overlay_valign){case"bottom":c.label.style.top=(f-$(c.label).outerHeight())+"px";break;case"center":c.label.style.top=(f-$(c.label).outerHeight())*0.5+"px";break;default:c.label.style.top=0+"px";break}}else{c.wrap.insertBefore(c.labelContain,c.background)}switch(d.label_placement){case"top":c.labelContain.style.left=d.border_width_up+"px";c.labelContain.style.top=0+"px";c.background.style.top=f+"px";break;case"bottom overlay":c.labelContain.style.left=0+"px";c.labelContain.style.top=(d.height+d.padding*2)+"px";break;case"top overlay":c.labelContain.style.left=0+"px";c.labelContain.style.top=0+"px";c.imageContain.style.top=f+"px";c.dropContain.style.top=f+"px";break;default:c.labelContain.style.left=d.border_width_up+"px";c.labelContain.style.top=b+"px";break}}else{if(c.labelContain.parentNode&&c.labelContain.parentNode.nodeType===1){c.labelContain.parentNode.removeChild(c.labelContain)}}qLightBoxSingleton.getInstance()[(d.use_lightbox&&d.isImgLeftRight)?"addWgt":"removeWgt"](this,{zoom_left:d.zoom_left,zoom_top:d.zoom_top});QStudioAssetFactory.prototype.assetUpdate.image.apply(this,[c.imageContain,{image:(d.show_img)?d.image:"",width:((d.img_width-d.img_padding*2)>=0)?d.img_width-d.img_padding*2:d.img_width,height:((d.height-d.img_padding*2)>=0)?d.height-d.img_padding*2:d.height,img_left:0,img_top:0,callback_success:function(){c.imageContain.style.width=((g!=="right")?d.img_width:(d.img_width-d.border_width_up))+"px";c.imageContain.style.height=d.height+"px";c.image.style.left=((($(c.imageContain).width()-$(c.image).width())*0.5)+d.img_left)+"px";c.image.style.top=((($(c.imageContain).height()-$(c.image).height())*0.5)+d.img_top)+"px";(c.background.firstChild)?c.background.insertBefore(c.imageContain,c.background.firstChild):c.background.appendChild(c.imageContain);if(c.zoomBtn){c.zoomBtn.style.left=c.image.style.left;c.zoomBtn.style.top=c.image.style.top}},callback_error:function(){if(d.isImgLeftRight){if(c.zoomBtn){c.zoomBtn.style.display="none"}c.imageContain.style.display="block";c.imageContain.style.width=((g!=="right")?d.img_width:(d.img_width-d.border_width_up))+"px";c.imageContain.style.height=d.height+"px";(c.background.firstChild)?c.background.insertBefore(c.imageContain,c.background.firstChild):c.background.appendChild(c.imageContain)}else{if(c.imageContain.parentNode&&c.imageContain.parentNode.nodeType===1){c.imageContain.parentNode.removeChild(c.imageContain)}}}}]);if(d.isImgLeftRight){c.imageContain.style[(g==="left")?"borderRight":"borderLeft"]=d.border_width_up+"px "+d.border_style+" #"+d.border_color_up;if(g==="right"){c.imageContain.style.left=d.width+"px"}}else{c.imageContain.style.borderLeft="";c.imageContain.style.borderRight=""}c.wrap.style.display=(parseInt(d.capvalue,10)!==0)?"block":"none";c.wrap.style.width=a+"px";c.wrap.style.height=(b+((!e)?f:0))+"px";c.wrap.style.visibility="";h.id=d.id;h.style.width=c.wrap.style.width;h.style.height=c.wrap.style.height;if(this._cache.bucketArrayCopy){while(this._cache.bucketArrayCopy.length>0){this.add(this._cache.bucketArrayCopy.shift())}delete this._cache.bucketArrayCopy}};function QBaseSlider(l,i){var x=document,g=(l&&l.nodeType===1)?l:x.body,e=x.createElement("div"),m=x.createElement("div"),j=x.createElement("div"),k=x.createElement("label"),s=x.createElement("div"),u=x.createElement("div"),c=x.createElement("div"),b=x.createElement("img"),o=x.createElement("div"),h=x.createElement("img"),n=x.createElement("div"),t=x.createElement("div"),f=x.createElement("div"),d=x.createElement("div"),r=x.createElement("div"),w=x.createElement("div"),q=x.createElement("div"),p=x.createElement("img"),v=x.createElement("div"),a=x.createElement("label");e.className="qwidget_slider";e.dir="LTR";e.style.cssText+=";".concat("position: relative; filter: inherit;");e.style.cssText+=";".concat("-webkit-tap-highlight-color: rgba(0,0,0,0);");e.style.cssText+=";".concat("-webkit-touch-callout: none;");e.style.cssText+=";".concat("-ms-touch-action: none;");e.style.cssText+=";".concat("-webkit-user-select: none;");e.style.cssText+=";".concat("-khtml-user-select: none;");e.style.cssText+=";".concat("-moz-user-select: none;");e.style.cssText+=";".concat("-ms-user-select: none;");e.style.cssText+=";".concat("-user-select: none;");m.className="qwidget_slider_wrapper";m.style.position="absolute";m.style.filter="inherit";u.className="qwidget_slider_image_container_wrapper";u.style.position="relative";u.style.filter="inherit";n.className="qwidget_slider_track_container";n.style.position="relative";n.style.filter="inherit";n.style.zIndex="1";r.className="qwidget_slider_handle_container";r.style.position="absolute";r.style.filter="inherit";d.style.position="absolute";d.style.filter="inherit";s.className="qwidget_slider_image_container";s.style.position="absolute";s.style.filter="inherit";s.style.zIndex="0";c.appendChild(b);o.appendChild(h);q.appendChild(p);v.appendChild(a);r.appendChild(w);r.appendChild(q);r.appendChild(v);j.appendChild(k);t.appendChild(f);t.appendChild(d);n.appendChild(t);n.appendChild(r);n.appendChild(c);n.appendChild(o);u.appendChild(n);u.appendChild(s);m.appendChild(j);m.appendChild(u);e.appendChild(m);g.appendChild(e);this._widget=e;this._params={};this._cache={};this._cache._minLoc=0;this._cache._maxLoc=0;this._cache.nodes={wrap:m,sliderImageWrap:u,ltEndImgContain:c,ltImgEle:b,rbEndImgContain:o,rbImgEle:h,labelContain:j,label:k,imageContain:s,trackContain:n,track:t,highlight:f,tickContain:d,handleContain:r,handle:w,handleImageContain:q,handleImg:p,handleLabelContain:v,handleLabel:a};this.config(i||{});this.enabled(true);this.initEvents()}QBaseSlider.prototype=new QStudioSliderAbstract();QBaseSlider.prototype.config=function(a){if(!this._widget){return null}if(typeof a!=="object"){return this._params}else{if(this._cache._answerBool){this._cache.curRangeValue=this._rangeValue()}if(this._configMap===undefined){this.initConfigMap();this.setParams(this._configMap,true)}this.setParams(a);this._params.tick_array=(jQuery.isArray(a.tick_array))?a.tick_array:(this._params.tick_array||[]);this._params.survey_contain=(a.survey_contain&&a.survey_contain.nodeType===1)?a.survey_contain:(this._params.survey_contain||undefined);this._params.layout_contain=(a.layout_contain&&a.layout_contain.nodeType===1)?a.layout_contain:(this._params.layout_contain||undefined);this._params.isVertical=(this._params.direction==="vertical");this._params.trackSize=this._params[(!this._params.isVertical)?"width":"height"];this._params.show_img=(this._params.img_placement!=="none");if(this._params.handle_start_loc>100){this._params.handle_start_loc=100}this._params.handleInitLoc=(((!(this._params.isVertical||this._params.isRTL))?this._params.handle_start_loc:(100-this._params.handle_start_loc))*0.01)*this._params.trackSize;if(this._params.track_border_style==="none"){this._params.track_border_width=0;this._params.track_border_radius=0}if(this._params.widget_border_style==="none"){this._params.widget_border_width=0}if(this._params.show_handle_import){this._params.handle_border_style="none";this._params.handle_border_width=0;this._params.handle_border_radius=0}this.setHandleBounds({minLoc:0,maxLoc:this._params.trackSize});this.update();if((this._cache._enableBool===false)&&QUtility.isNumber(this._cache._enabAlphaValue)){this.enabled(false,this._cache._enabAlphaValue)}a=null;return this}};QBaseSlider.prototype.update=function(){if(!this._widget){return false}var g=document,c=this._params,G=this._widget,D=this._cache.nodes,X=(!c.isVertical)?"left":"top",C=(!c.isVertical)?"width":"height",P=0,N=0,Q=(c.widget_border_style!=="none"&&c.widget_border_width>0)?10:0,a=((c.width-6)>0)?(c.width-6):c.width,y=((c.height-6)>0)?(c.height-6):c.height,v=0,d=0,h=0,e=0,w=0,q=0,V=0,L=c.tick_array.length,Z=(!(c.isVertical||c.isRTL))?c.tick_array:c.tick_array.concat([]).reverse(),aa=(c[C]/(L-1)),J=0,m=0,p=0,n=0,o=false,S=0,K=0,x=0,M=0,E=false,W=0,O=0,j=(c.img_width+Q*2),Y=(c.img_height+Q*2);QStudioAssetFactory.prototype.assetUpdate.baseBckgrnd.apply(this,[D.track,{show_bckgrnd_import:c.show_track_import,width:c.width,height:c.height,padding:0,border_width_up:c.track_border_width,border_radius:c.track_border_radius,border_style:c.track_border_style,border_color_up:c.track_border_color,bckgrnd_color_up:c.track_color,bckgrnd_import_up:c.track_import}]);if(c.show_highlight){QStudioAssetFactory.prototype.assetUpdate.baseBckgrnd.apply(this,[D.highlight,{width:a,height:y,padding:0,border_width_up:0,border_radius:c.track_border_radius,bckgrnd_color_up:c.highlight_color}]);(D.track.firstChild)?D.track.insertBefore(D.highlight,D.track.firstChild):D.track.appendChild(D.highlight);D.highlight.style.filter=(!c.show_track_import)?"inherit":"none";D.highlight.style.maxWidth=D.highlight.style.width;D.highlight.style.maxHeight=D.highlight.style.height;D.highlight.style.marginTop=(c.height-$(D.highlight).outerHeight())*0.5+"px";D.highlight.style.marginLeft=(c.width-$(D.highlight).outerWidth())*0.5+"px";D.highlight.style[C]="0px"}else{if(D.highlight.parentNode&&D.highlight.parentNode.nodeType===1){D.highlight.parentNode.removeChild(D.highlight)}}QStudioAssetFactory.prototype.assetUpdate.baseBckgrnd.apply(this,[D.handle,{show_bckgrnd:(!c.show_handle_import)?c.show_handle_bckgrnd:true,show_bckgrnd_import:c.show_handle_import,bckgrnd_import_up:c.handle_import_up,width:c.handle_width,height:c.handle_height,padding:c.handle_padding,border_width_up:c.handle_border_width,border_radius:c.handle_border_radius,border_style:c.handle_border_style,border_color_up:c.handle_border_color_up,bckgrnd_color_up:c.handle_color_up}]);v=$(D.handle).outerWidth();d=$(D.handle).outerHeight();h=(((!c.isVertical)?0:c.width)-v)*0.5+c.track_border_width;e=(((!c.isVertical)?c.height:0)-d)*0.5+c.track_border_width;D.handle.style.marginLeft=h+"px";D.handle.style.marginTop=e+"px";if(!c.show_handle_import&&c.show_handle_bckgrnd){if(D.handleDivide===undefined){D.handleDivide=g.createElement("div")}D.handleDivide.style.position="absolute";D.handleDivide.style.width=(!c.isVertical)?"1px":D.handle.style.width;D.handleDivide.style.height=(!c.isVertical)?D.handle.style.height:"1px";D.handleDivide.style.left=(!c.isVertical)?((c.handle_width+c.handle_padding*2-1)*0.5+"px"):"";D.handleDivide.style.top=(c.isVertical)?((c.handle_height+c.handle_padding*2-1)*0.5+"px"):"";D.handleDivide.style.backgroundColor="#"+QUtility.paramToHex(c.handle_border_color_up);D.handle.appendChild(D.handleDivide)}else{if(D.handleDivide&&D.handleDivide.parentNode&&D.handleDivide.parentNode.nodeType===1){D.handleDivide.parentNode.removeChild(D.handleDivide)}}if(c.handle_label_disptype!=="none"){QStudioAssetFactory.prototype.assetUpdate.label.apply(this,[D.handleLabelContain,{label_font_family:c.primary_font_family,isRTL:c.isRTL,label_width:c.handle_label_width,label:c.handle_label_inittxt||"Click to Activate",label_fontsize:c.handle_label_fontsize,label_fontcolor_up:c.handle_label_fontcolor,label_top:c.handle_label_top,label_left:c.handle_label_left,label_halign:"center",white_space:"nowrap"}]);D.handleLabel.style.overflow="hidden";D.handleContain.appendChild(D.handleLabelContain);q=$(D.handleLabel).outerHeight();w=$(D.handleLabel).outerWidth();D.handleLabelContain.style.left=(h+(v-w)*0.5)+"px";D.handleLabelContain.style.top=(e-q)+"px";D.handleLabelContain.style.backgroundColor=(c.show_handle_label_bckgrnd)?"#"+c.handle_label_bckgrnd_color:"transparent";$(D.handleLabel).html(c.handle_label_inittxt)}else{if(D.handleLabelContain.parentNode&&D.handleLabelContain.parentNode.nodeType===1){D.handleLabelContain.parentNode.removeChild(D.handleLabelContain)}}this._updateHandleImage(c.image);D.handleContain.style.filter=(!c.show_track_import)?"inherit":"none";D.handleContain.style[(!c.isVertical)?"top":"left"]=0+"px";D.handleContain.style[X]=c.handleInitLoc+"px";D.handleContain[(!c.isVertical)?"lastX":"lastY"]=c.handleInitLoc;while(D.imageContain.firstChild){D.imageContain.removeChild(D.imageContain.firstChild)}while(D.tickContain.firstChild){D.tickContain.removeChild(D.tickContain.firstChild)}D.tickContain.style.filter=(!c.show_track_import)?"inherit":"none";for(V;V<L;V+=1){var T=g.createElement("div"),b=g.createElement("div"),s=g.createElement("div"),I=g.createElement("label"),R=0,t=0;T.className="qwidget_slider_tick_wrapper";T.style.position="absolute";T.style.filter="inherit";T.style[(!c.isVertical)?"left":"top"]=(V*aa)+"px";D.tickContain.appendChild(T);b.className="qwidget_slider_tick";b.style.position="absolute";b.style.filter="inherit";b.style.width=c.tick_width+"px";b.style.height=c.tick_height+"px";b.style.backgroundColor="#"+c.tick_color;b.style.marginLeft=(!c.isVertical)?(-c.tick_width*0.5)+"px":"";b.style.marginBottom=(!c.isVertical)?(c.track_border_width+c.tick_height*0.5)+"px":"";b.style.marginTop=(!c.isVertical)?"":(-c.tick_height*0.5)+"px";b.style[(!c.isVertical)?"top":"left"]=(c[(!c.isVertical)?"height":"width"]-c[(!c.isVertical)?"tick_height":"tick_width"])*0.5+"px";if(!c.tick_show||V===0||V===(L-1)){b.style.visibility="hidden"}T.appendChild(b);s.appendChild(I);o=QStudioAssetFactory.prototype.assetUpdate.label.apply(this,[s,{label_trim:true,label_font_family:c.secondary_font_family,isRTL:c.isRTL,label:jQuery.trim(((Z[V].label!==undefined)?Z[V].label:Z[V]).toString()),label_width:c.ticklabel_width,label_halign:(!c.isVertical)?"center":"left",label_fontsize:c.ticklabel_fontsize,label_fontcolor_up:c.ticklabel_fontcolor}]);s.className="qwidget_slider_tick_label_container";I.className="qwidget_slider_tick_label";I.style.display=((c.ticklabel_display_type==="show ends"&&(V!==0&&V!==L-1))||c.ticklabel_display_type==="show none")?"none":"block";if(o&&I.style.display!=="none"){T.appendChild(s);R=$(I).width();t=$(I).height();if(c.isVertical&&(t>aa)){s.style.height=aa+"px";I.style.height=aa+"px";I.style.overflow="hidden";t=aa}if(!c.isVertical){s.style.marginTop=(c.track_border_width+c.height+c.ticklabel_offset+2)+"px";s.style.marginLeft=(-R*0.5)+"px"}else{s.style.marginTop=(-t*0.5)+"px";s.style.marginLeft=(c.track_border_width+c.width+c.ticklabel_offset+2)+"px"}if(V==0){J=(!c.isVertical)?R:t}else{if(V===L-1){m=(!c.isVertical)?R:t}}p=Math.max(p,R);n=Math.max(n,t)}if(c.show_img){var ab=g.createElement("div"),r=g.createElement("img");ab.id="qwidget_slider_imgwrap_"+V;ab.appendChild(r);D.imageContain.appendChild(ab);QStudioAssetFactory.prototype.assetUpdate.image.apply(this,[ab,{image:Z[V].image,width:c.img_width,height:c.img_height,callback_success:function(ac){if(ac){var ad=(!c.isVertical&&!c.isRTL)?this._columnValue():L-1-this._columnValue(),i=parseInt(ac.parentNode.id.replace(/^\D+/g,""),10);ac.parentNode.style.filter="inherit";ac.parentNode.style.left=((j-$(ac).width())*0.5+c.img_left)+"px";ac.parentNode.style.top=((Y-$(ac).height())*0.5+c.img_top)+"px";ac.parentNode.style.display="none";if((this.isAnswered()||c.show_init_img)&&(i===ad)){ac.parentNode.style.display="block";this._cache._imgIndex=ad}}},callback_error:function(i){if(i&&i.parentNode&&i.parentNode.nodeType===1){i.parentNode.style.filter="inherit";i.parentNode.removeChild(i)}}}])}}(!c.isVertical)?n+=c.ticklabel_offset:p+=c.ticklabel_offset;S=Math.max((!c.isVertical)?(J*0.5)-c.track_border_width:-1,h*-1,(h+(v-w)*0.5)*-1);K=Math.max((!c.isVertical)?(m*0.5)-c.track_border_width:p,h*-1,(h+(v-w)*0.5)*-1);x=Math.max((!c.isVertical)?-1:(J*0.5)-c.track_border_width,e*-1,(e-q)*-1);M=Math.max((!c.isVertical)?n:(m*0.5)-c.track_border_width,e*-1);if(S<0){S=0}if(K<0){K=0}if(x<0){x=0}if(M<0){M=0}D.track.style.marginLeft=S+"px";D.track.style.marginTop=x+"px";D.trackContain.style.width=($(D.track).outerWidth(true)+K)+"px";D.trackContain.style.height=($(D.track).outerHeight(true)+M)+"px";D.trackContain.style.padding=Q+"px";if(c.show_end_img){var U=Z[0]?Z[0].image:undefined,F=(QUtility.isString(U)&&U.length>0),A=Z[Z.length-1]?Z[Z.length-1].image:undefined,k=(QUtility.isString(A)&&A.length>0),z=(!c.isVertical)?(((F)?c.end_img_width:0)+((k)?c.end_img_width:0)):((F||k)?c.end_img_width:0),H=(c.isVertical)?(((F)?c.end_img_height:0)+((k)?c.end_img_height:0)):((F||k)?c.end_img_height:0);if(F){D.trackContain.appendChild(D.ltEndImgContain);D.ltEndImgContain.style.width=c.end_img_width+"px";D.ltEndImgContain.style.height=c.end_img_height+"px";QStudioAssetFactory.prototype.assetUpdate.image.apply(this,[D.ltEndImgContain,{image:U,width:c.end_img_width,height:c.end_img_height,callback_success:function(){D.ltImgEle.style.marginLeft=((!c.isVertical)?-c.end_img_left:c.end_img_left)+"px";D.ltImgEle.style.marginTop=((!c.isVertical)?c.end_img_top:-c.end_img_top)+"px";D.ltImgEle.style.left=(c.end_img_width-$(D.ltImgEle).width())*0.5+"px";D.ltImgEle.style.top=(c.end_img_height-$(D.ltImgEle).height())*0.5+"px"},callback_error:function(){D.ltEndImgContain.removeChild(D.ltImgEle)}}])}else{if(D.ltEndImgContain.parentNode&&D.ltEndImgContain.parentNode.nodeType===1){D.ltEndImgContain.parentNode.removeChild(D.ltEndImgContain)}}if(k){D.trackContain.appendChild(D.rbEndImgContain);D.rbEndImgContain.style.width=c.end_img_width+"px";D.rbEndImgContain.style.height=c.end_img_height+"px";QStudioAssetFactory.prototype.assetUpdate.image.apply(this,[D.rbEndImgContain,{image:A,width:c.end_img_width,height:c.end_img_height,callback_success:function(){D.rbImgEle.style.marginLeft=c.end_img_left+"px";D.rbImgEle.style.marginTop=c.end_img_top+"px";D.rbImgEle.style.left=(c.end_img_width-$(D.rbImgEle).width())*0.5+"px";D.rbImgEle.style.top=(c.end_img_height-$(D.rbImgEle).height())*0.5+"px"},callback_error:function(){D.rbEndImgContain.removeChild(D.rbImgEle)}}])}else{if(D.rbEndImgContain.parentNode&&D.rbEndImgContain.parentNode.nodeType===1){D.rbEndImgContain.parentNode.removeChild(D.rbEndImgContain)}}var l=$(D.trackContain).height(),B=$(D.trackContain).width();if(!c.isVertical){if(F){D.track.style.left=(c.end_img_width+Q)+"px"}if(k){D.rbEndImgContain.style.left=(((F)?c.end_img_width:0)+Q+B)+"px"}if(F||k){if(c.end_img_height>l){D.track.style.top=((c.end_img_height-l)*0.5+Q)+"px"}else{D.ltEndImgContain.style.top=((l-c.end_img_height)*0.5+Q)+"px";D.rbEndImgContain.style.top=D.ltEndImgContain.style.top}}D.trackContain.style.width=(z+B)+"px";D.trackContain.style.height=Math.max(l,H)+"px"}else{if(F){D.track.style.top=(c.end_img_height+Q)+"px"}if(k){D.rbEndImgContain.style.top=(((F)?c.end_img_height:0)+Q+l)+"px"}if(F||k){if(c.end_img_width>B){D.track.style.left=((c.end_img_width-B)*0.5+Q)+"px"}else{D.ltEndImgContain.style.left=((B-c.end_img_width)*0.5+Q)+"px";D.rbEndImgContain.style.left=D.ltEndImgContain.style.left}}D.trackContain.style.width=Math.max(B,z)+"px";D.trackContain.style.height=(H+l)+"px"}}else{D.track.style.left="";D.track.style.top="";if(D.ltEndImgContain.parentNode&&D.ltEndImgContain.parentNode.nodeType===1){D.ltEndImgContain.parentNode.removeChild(D.ltEndImgContain)}if(D.rbEndImgContain.parentNode&&D.rbEndImgContain.parentNode.nodeType===1){D.rbEndImgContain.parentNode.removeChild(D.rbEndImgContain)}}P=$(D.trackContain).outerWidth(true);N=$(D.trackContain).outerHeight(true);D.sliderImageWrap.style.width=P+"px";D.sliderImageWrap.style.height=N+"px";if(c.show_img){D.imageContain.style.width=j+"px";D.imageContain.style.height=Y+"px";D.sliderImageWrap.appendChild(D.imageContain);D.sliderImageWrap.style.width=(c.img_placement==="left"||c.img_placement==="right")?(j+P)+"px":Math.max(P,j)+"px";D.sliderImageWrap.style.height=(c.img_placement==="left"||c.img_placement==="right")?Math.max(N,Y)+"px":(Y+N)+"px";D.imageContain.style.left="0";D.imageContain.style.top="0";D.trackContain.style.left="";D.trackContain.style.top="";switch(c.img_placement){case"left":D.imageContain.style.position="absolute";D.trackContain.style.left=j+"px";if(c.img_auto_center){(N<Y)?D.trackContain.style.top=(Y-N)*0.5+"px":D.imageContain.style.top=(N-Y)*0.5+"px"}break;case"right":D.imageContain.style.position="absolute";D.imageContain.style.left=P+"px";if(c.img_auto_center){(N<Y)?D.trackContain.style.top=(Y-N)*0.5+"px":D.imageContain.style.top=(N-Y)*0.5+"px"}break;case"top":D.imageContain.style.position="relative";if(c.img_auto_center){(P<j)?D.trackContain.style.left=(j-P)*0.5+"px":D.imageContain.style.left=(P-j)*0.5+"px"}D.sliderImageWrap.insertBefore(D.imageContain,D.trackContain);break;case"bottom":D.imageContain.style.position="relative";if(c.img_auto_center){(P<j)?D.trackContain.style.left=(j-P)*0.5+"px":D.imageContain.style.left=(P-j)*0.5+"px"}break;default:break}}else{if(D.imageContain.parentNode&&D.imageContain.parentNode.nodeType===1){D.imageContain.parentNode.removeChild(D.imageContain)}}E=QStudioAssetFactory.prototype.assetUpdate.label.apply(this,[D.labelContain,{label_font_family:c.primary_font_family,isRTL:c.isRTL,show_label:c.show_label,label:c.label,label_width:$(D.sliderImageWrap).outerWidth()-10,label_padding:5,label_top:c.label_top,label_left:c.label_left,label_halign:c.label_halign,label_fontsize:c.label_fontsize,label_fontcolor_up:c.label_fontcolor}]);if(E){(D.wrap.firstChild)?D.wrap.insertBefore(D.labelContain,D.wrap.firstChild):D.wrap.appendChild(D.labelContain);D.labelContain.style.backgroundColor=(c.show_label_background)?"#"+c.label_background_color:"transparent";D.labelContain.style.borderBottom=c.widget_border_width+"px "+c.widget_border_style+" #"+c.widget_border_color;D.labelContain.style.position="relative";W=$(D.labelContain).outerWidth();O=$(D.labelContain).outerHeight()}else{if(D.labelContain.parentNode&&D.labelContain.parentNode.nodeType===1){D.labelContain.parentNode.removeChild(D.labelContain)}}var u=(!QUtility.isNumber(parseFloat(D.track.style.left)))?Q:parseFloat(D.track.style.left),f=(!QUtility.isNumber(parseFloat(D.track.style.top)))?Q:parseFloat(D.track.style.top);D.handleContain.style.marginLeft=(u+S)+"px";D.handleContain.style.marginTop=(f+x)+"px";D.wrap.style.width=D.sliderImageWrap.style.width;D.wrap.style.height=(O+parseFloat(D.sliderImageWrap.style.height))+"px";G.id=c.id;G.style.width=D.wrap.style.width;G.style.height=D.wrap.style.height;G.style.borderWidth=c.widget_border_width+"px";G.style.borderStyle=c.widget_border_style;G.style.borderColor="#"+c.widget_border_color;D.ltEndImgContain.className="qwidget_slider_left_top_end_image_container";D.rbEndImgContain.className="qwidget_slider_right_bottom_end_image_container";D.track.className="qwidget_slider_track";D.highlight.className="qwidget_slider_highlight";D.tickContain.className="qwidget_slider_tick_container";D.handle.className="qwidget_slider_handle";D.handleImageContain.className="qwidget_slider_handle_image_container";D.handleLabelContain.className="qwidget_slider_handle_label_container";D.handleLabel.className="qwidget_slider_handle_label";if(this._cache.curRangeValue!==undefined){this.isAnswered(true,(c.trackSize*(this._cache.curRangeValue/100)),false);delete this._cache.curRangeValue}};var qLightBoxSingleton=(function(){var a,c=[];function b(l,e){var i=this,k=document,m=(l&&l.nodeType===1)?l:k.body,f=k.createElement("div"),d=k.createElement("div"),g=k.createElement("div"),n=k.createElement("div"),j=k.createElement("div"),h=false;f.id="QWidgetLightBox";f.dir="LTR";f.className="qwidget_lightbox";f.style.cssText="position: absolute; top: 0px; left: 0px; display: none; z-index: 4800;";d.className="qwidget_lightbox_wrapper";d.style.cssText="position: absolute; top: 0px; left: 0px;";g.className="qwidget_lightbox_overlay";g.style.cssText="position: absolute; top: 0px; left: 0px;";n.className="qwidget_lightbox_gallery";n.style.cssText="position: absolute; filter: inherit; overflow: hidden; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;";j.className="qwidget_lightbox_close_button";j.style.cssText="position: absolute; top: 0px; left: 0px; cursor: pointer;";n.appendChild(j);d.appendChild(g);d.appendChild(n);f.appendChild(d);m.appendChild(f);this._events={resize:"resize.lightbox",hover:"mouseenter.lightbox mouseleave.lightbox",click:(!QUtility.isMSTouch())?((!QUtility.isTouchDevice())?"click.lightbox mousedown.lightbox mouseup.lightbox":"touchstart.lightbox touchend.lightbox touchmove.lightbox"):((!QUtility.isTouchDevice())?"click.lightbox mousedown.lightbox mouseup.lightbox":((window.PointerEvent)?"pointerdown.lightbox pointerup.lightbox":"MSPointerDown.lightbox MSPointerUp.lightbox"))};this._widget=f;this._params={};this._cache={};this._cache.nodes={wrap:d,overlay:g,gallery:n,closeBtn:j};this.config(e);$(f).on(this._events.click,function(o){o.stopPropagation();if(o.type!=="touchmove"){if(o.type!=="mousedown"&&o.type!=="touchstart"&&o.type!=="pointerdown"&&o.type!=="MSPointerDown"){if(h){return}i.hide()}else{h=false}}else{h=true}});$(window).on(this._events.resize,function(o){if(f.style.display==="none"){return}if(i._params.gallery_autosize){i.resize()}i.center()})}b.prototype.initConfigMap=function(){if(this._configMap===undefined){this._configMap={overlay_bckgrnd_color:{value:0,type:"color"},overlay_alpha:{value:83,type:"number",min:0},gallery_top:{value:0,type:"number"},gallery_left:{value:0,type:"number"},gallery_border_style:{value:"solid",type:"string",options:["none","solid","dotted","dashed"]},gallery_border_width:{value:2,type:"number",min:0},gallery_border_color:{value:13421772,type:"color"},close_top:{value:0,type:"number"},close_left:{value:0,type:"number"},close_import:{value:"",type:"string"},close_width:{value:45,type:"number",min:1},close_height:{value:45,type:"number",min:1},gallery_padding:{value:10,type:"number",min:0},gallery_autosize:{value:true,type:"boolean"},gallery_max_width:{value:500,type:"number",min:1},gallery_max_height:{value:500,type:"number",min:1},action_type:{value:"click append image",type:"string",options:["click append image","click append widget","mouseover"]},zoom_width:{value:45,type:"number",min:1},zoom_height:{value:45,type:"number",min:1},zoom_border_width:{value:1,type:"number",min:0},zoom_bckgrnd_color:{value:16119285,type:"color"},zoom_border_color:{value:13421772,type:"color"},zoom_import:{value:"",type:"string"}}}};b.prototype.config=function(d){if(!this._widget){return null}if(typeof d!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();QStudioDCAbstract.prototype.setParams.apply(this,[this._configMap,true])}QStudioDCAbstract.prototype.setParams.apply(this,[d]);if(this._params.gallery_border_style==="none"){this._params.gallery_border_width=0}this.update();d=null;return this}};b.prototype.update=function(){if(!this._widget){return false}var e=this._params,d=this._cache.nodes;$(d.overlay).css({"background-color":"#"+e.overlay_bckgrnd_color,opacity:e.overlay_alpha*0.01});$(d.closeBtn).css({width:e.close_width+"px",height:e.close_height+"px","margin-top":e.close_top+"px","margin-left":(e.close_left-e.close_width)+"px","background-repeat":"no-repeat","background-position":"center","background-size":e.close_width+"px "+e.close_height+"px","background-image":(QUtility.ieVersion()<9)?"url() url("+e.close_import+")":"url("+e.close_import+")",filter:"inherit progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+e.close_import+", sizingMethod='scale')"})};b.prototype.addWgt=function(j,h){if(!this._widget||!(j&&j instanceof QStudioDCAbstract&&j.type()!=="slider")){return false}if(jQuery.inArray(j,c)===-1){h=h||{};h.zoom_top=(QUtility.isNumber(h.zoom_top))?h.zoom_top:0;h.zoom_left=(QUtility.isNumber(h.zoom_left))?h.zoom_left:0;var f=this,i=this._params;if(i.action_type!=="mouseover"){var g=document,e=(j.cache().nodes.zoomBtn)?j.cache().nodes.zoomBtn:g.createElement("div"),d=false;e.className="qwidget_lightbox_zoom_button";$(e).css({position:"absolute",width:i.zoom_width+"px",height:i.zoom_height+"px",border:i.zoom_border_width+"px solid #"+i.zoom_border_color,"margin-top":i.zoom_top+"px","margin-left":i.zoom_left+"px","background-color":"#"+i.zoom_bckgrnd_color,"background-repeat":"no-repeat","background-position":"center","background-size":i.zoom_width+"px "+i.zoom_height+"px","background-image":(QUtility.ieVersion()<9)?"url() url("+i.zoom_import+")":"url("+i.zoom_import+")",filter:"inherit progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+i.zoom_import+", sizingMethod='scale')"});c.push(j);j.cache().nodes.zoomBtn=e;(i.action_type==="click append widget")?j.cache().nodes.background.appendChild(e):j.cache().nodes.imageContain.appendChild(e);$(e).on(this._events.click,function(k){k.stopPropagation();if(k.type!=="touchmove"){if(k.type!=="mousedown"&&k.type!=="touchstart"&&k.type!=="pointerdown"&&k.type!=="MSPointerDown"){if(d||k.type==="click"){return}if((!j.enabled()&&!j.cache()._enableExtEvt)||j.isDrag()){return false}f.show(j)}else{d=false}}else{d=true}});return e}else{j.addEvent(j.widget(),this._events.hover,function(k){k.stopPropagation();if(j.isDrag()){return false}(k.type==="mouseenter")?f.show(j):f.hide()})}}};b.prototype.removeWgt=function(f){if(!this._widget||!(f&&f instanceof QStudioDCAbstract&&f.type()!=="slider")){return false}var d=jQuery.inArray(f,c);if(d!==-1){var e=f.cache().nodes.zoomBtn;if(e){$(e).off(this._events.click);e.parentNode.removeChild(e);delete f.cache().nodes.zoomBtn}else{f.removeEvent(f.widget(),this._events.hover)}c.splice(d,1)}};b.prototype.show=function(m){if(!this._widget||!(QUtility.isString(m.config().image)&&jQuery.trim(m.config().image).length!==0)){return false}var g=this._widget,f=this._params,d=this._cache.nodes,j=document.createElement("img"),l=(f.action_type==="mouseover");d.overlay.style.display=(!l)?"block":"none";d.closeBtn.style.display=(!l)?"block":"none";var k=d.gallery.getElementsByTagName("img");for(var h=0,e;e=k[h];h++){d.gallery.removeChild(e)}if(QUtility.isTouchDevice()){if(this._cache.metaTag===undefined){this._cache.metaTag=document.createElement("meta");this._cache.metaTag.id="lightbox_meta_scale";this._cache.metaTag.name="viewport";document.getElementsByTagName("head")[0].appendChild(this._cache.metaTag)}this._cache.metaTag.content="width=device-width, user-scalable=no"}j.style.cssText="filter: inherit; width: auto; height: auto; max-width: 100%; max-height: 100%;";j.style.padding=f.gallery_padding+"px";j.style.backgroundColor="#F5F5F5";j.style.border=f.gallery_border_width+"px "+f.gallery_border_style+" #"+f.gallery_border_color;j.style.cssText+=";".concat("-webkit-box-sizing: border-box");j.style.cssText+=";".concat("-moz-box-sizing: border-box");j.style.cssText+=";".concat("box-sizing: border-box");j.src=m.config().image;(d.gallery.firstChild)?d.gallery.insertBefore(j,d.gallery.firstChild):d.gallery.appendChild(j);g.style.display="block";$(d.gallery).css({opacity:0});this.resize();this.center();$(d.gallery).stop();$(d.gallery).animate({opacity:1},300)};b.prototype.hide=function(){if(!this._widget||this._widget.style.display==="none"){return false}this._widget.style.display="none";var d=document;d.body.style.height=this._cache._bodyStyle.height;d.body.style.overflow=this._cache._bodyStyle.overflow;delete this._cache._bodyStyle;if(this._cache.metaTag){this._cache.metaTag.content="width=device-width, user-scalable=yes"}};b.prototype.resize=function(){if(!this._widget||this._widget.style.display==="none"){return false}var d=window,g=document,f=this._cache.nodes,e=Math.min(((d.innerWidth!==undefined)?d.innerWidth:$(d).width()),$(d).width()),h=Math.min(((d.innerHeight!==undefined)?d.innerHeight:$(d).height()),$(d).height());if(this._cache._bodyStyle===undefined){this._cache._bodyStyle={height:g.body.style.height,overflow:g.body.style.overflow};g.body.style.height="100%";g.body.style.overflow="hidden"}f.overlay.style.height=$(g).height()+"px";f.overlay.style.width=$(g).width()+"px";f.gallery.style.width=((this._params.gallery_autosize)?e:this._params.gallery_max_width)+"px";f.gallery.style.height=((this._params.gallery_autosize)?h:this._params.gallery_max_height)+"px"};b.prototype.center=function(){if(!this._widget||this._widget.style.display==="none"){return false}var f=window,g=this._cache.nodes,i=$(g.gallery.firstChild).outerWidth(),e=$(g.gallery.firstChild).outerHeight(),d=$(f).scrollLeft()+($(f).width()/2)-(i/2),h=$(f).scrollTop()+($(f).height()/2)-(e/2);if(d<0){d=0}if(h<0){h=0}g.gallery.style.left=d+"px";g.gallery.style.top=h+"px";g.closeBtn.style.left=i+"px"};b.prototype.widget=function(){return this._widget};return{getInstance:function(d,e){if(a===undefined){a=new b(d,e)}else{if(typeof e==="object"){a.config(e)}}return a},destroy:function(){if(a===undefined){return false}$(a._widget).off(a._events.click);$(window).off(a._events.resize);a._widget.parentNode.removeChild(a._widget);while(c.length){a.removeWgt(c[0])}a=undefined}}}());var qToolTipSingleton=(function(){var a,c=[];function b(e,h){var g=document,f=(e&&e.nodeType===1)?e:g.body,d=g.createElement("div");d.id="QWidgetTooltip";d.className="qwidget_tooltip";d.style.position="absolute";d.style.marginLeft="-10px";d.style.whiteSpace="normal";d.style.wordWrap="break-word";d.style.padding="4px";d.style.display="none";d.style.zIndex=4000;d.style.MozBoxShadow=d.style.webkitBoxShadow=d.style.boxShadow="1px 1px 8px #333";d.style.cssText+=";".concat("pointer-events: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;");f.appendChild(d);this._events={mouseenter:"mouseenter.tooltip",mousemove:"mousemove.tooltip",mouseleave:"mouseleave.tooltip"};this._widget=d;this._params={};this.config(h)}b.prototype.initConfigMap=function(){if(this._configMap===undefined){this._configMap={primary_font_family:{value:"",type:"string"},isRTL:{value:false,type:"boolean"},tooltip_bckgrnd_color:{value:16119285,type:"color"},tooltip_border_width:{value:2,type:"number",min:0},tooltip_border_color:{value:13421772,type:"color"},tooltip_fontsize:{value:16,type:"number",min:5},tooltip_fontcolor:{value:3355443,type:"color"},tooltip_halign:{value:"left",type:"string",options:["left","center","right"]},tooltip_width:{value:150,type:"number",min:1}}}};b.prototype.config=function(d){if(!this._widget){return null}if(typeof d!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();QStudioDCAbstract.prototype.setParams.apply(this,[this._configMap,true])}QStudioDCAbstract.prototype.setParams.apply(this,[d]);this.update();d=null;return this}};b.prototype.update=function(){if(!this._widget){return false}var e=this._params,d=this._widget;d.dir=(!e.isRTL)?"LTR":"RTL";d.style.border=e.tooltip_border_width+"px solid #"+e.tooltip_border_color;d.style.backgroundColor="#"+e.tooltip_bckgrnd_color;d.style.width=e.tooltip_width+"px";d.style.fontFamily=e.primary_font_family;d.style.textAlign=(!e.isRTL)?e.tooltip_halign:(e.tooltip_halign!=="left")?e.tooltip_halign:"";d.style.fontSize=QUtility.convertPxtoEM(e.tooltip_fontsize)+"em";d.style.color="#"+e.tooltip_fontcolor};b.prototype.addWgt=function(g){if(!this._widget||!(g&&g instanceof QStudioDCAbstract&&g.type()!=="slider")){return false}if(jQuery.inArray(g,c)===-1){var f=this,d=this._widget,e=jQuery.trim(g.config().description);if(e!==""){c.push(g);g.addEvent(g.widget(),this._events.mouseenter,function(h){if(g.isDrag()||(!g.enabled()&&!g.cache()._enableExtEvt)){f.hide();return false}$(d).html(e);d.style.top=h.pageY+"px";d.style.left=h.pageX+"px";if(d.style.display==="none"){d.style.display="block";d.style.width="auto";if($(d).width()>=f._params.tooltip_width){d.style.width=f._params.tooltip_width+"px"}d.style.marginTop=(-$(d).outerHeight()-10)+"px"}$(g.widget()).on(f._events.mousemove,function(i){if(g.isDrag()||(!g.enabled()&&!g.cache()._enableExtEvt)){$(g.widget()).off(f._events.mousemove);$(g.widget()).off(f._events.mouseleave);f.hide();return false}d.style.top=i.pageY+"px";d.style.left=i.pageX+"px"});$(g.widget()).on(f._events.mouseleave,function(){$(g.widget()).off(f._events.mousemove);$(g.widget()).off(f._events.mouseleave);f.hide()})})}}};b.prototype.removeWgt=function(e){if(!this._widget||!(e&&e instanceof QStudioDCAbstract&&e.type()!=="slider")){return false}var d=jQuery.inArray(e,c);if(d!==-1){e.removeEvent(e.widget(),this._events.mouseenter);c.splice(d,1)}};b.prototype.hide=function(){if(!this._widget||(this._widget.style.display==="none")){return false}var d=this._widget;d.style.display="none";d.style.top="";d.style.left="";d.style.marginTop="";$(d).html("");return true};b.prototype.widget=function(){return this._widget};return{getInstance:function(d,e){if(a===undefined){a=new b(d,e)}else{if(typeof e==="object"){a.config(e)}}return a},destroy:function(){if(a===undefined){return false}a._widget.parentNode.removeChild(a._widget);while(c.length){a.removeWgt(c[0])}a=undefined}}}());var qMsgDisplaySingleton=(function(){var a;function b(h){var g=document,c=g.createElement("div"),e=g.createElement("label"),f=g.createElement("div"),d=g.createElement("div");c.id="QWidgetErrorMsg";c.className="qwidget_message_display";c.style.position="absolute";c.style.display="none";c.style.padding="4px";c.style.border="1px solid #AAA";c.style.backgroundColor="#FFFFFF";c.style.zIndex=3000;c.style.wordWrap="break-word";c.style.MozBoxShadow=c.style.webkitBoxShadow=c.style.boxShadow="1px 1px 8px #333";e.style.whiteSpace="normal";f.style.cssText="position: absolute; top: "+((QUtility.ieVersion()!==7)?"-12px;":"-27px;")+" left: 5px; border-width: 0 12px 12px; border-style: solid; border-color: #AAA transparent; width: 0;";d.style.cssText="position: absolute; top: "+((QUtility.ieVersion()!==7)?"-11px;":"-26px;")+" left: 6px; border-width: 0 11px 11px; border-style: solid; border-color: #FFF transparent; width: 0;";c.appendChild(e);c.appendChild(f);c.appendChild(d);this._widget=c;this._params={};this._cache={};this._cache.isShowing=false;this.config(h)}b.prototype.initConfigMap=function(){if(this._configMap===undefined){this._configMap={primary_font_family:{value:"",type:"string"},isRTL:{value:false,type:"boolean"},errormsg_fontsize:{value:16,type:"number",min:5},errormsg_fontcolor:{value:16711680,type:"color"},errormsg_halign:{value:"left",type:"string",options:["left","center","right"]},errormsg_width:{value:150,type:"number",min:1}}}};b.prototype.config=function(c){if(!this._widget){return null}if(typeof c!=="object"){return this._params}else{if(this._configMap===undefined){this.initConfigMap();QStudioDCAbstract.prototype.setParams.apply(this,[this._configMap,true])}QStudioDCAbstract.prototype.setParams.apply(this,[c]);this.update();c=null;return this}};b.prototype.update=function(){if(!this._widget){return false}var d=this._params,c=this._widget;c.dir=(!d.isRTL)?"LTR":"RTL";c.style.width=d.errormsg_width+"px";c.style.fontFamily=d.primary_font_family;c.style.fontSize=QUtility.convertPxtoEM(d.errormsg_fontsize)+"em";c.style.color="#"+d.errormsg_fontcolor;c.style.textAlign=(!d.isRTL)?d.errormsg_halign:(d.errormsg_halign!=="left")?d.errormsg_halign:""};b.prototype.show=function(i,h,g,f){if(!this._widget||!((QUtility.isString(i)&&i.length>0)&&(h&&h.nodeType===1))){return false}g=(QUtility.isNumber(g))?g:10;f=(QUtility.isNumber(f))?f:$(h).outerHeight();var d=this._widget,e=d.firstChild;if(d.style.display==="none"||$(e).html()!==i){if(d.parentNode!==h){h.appendChild(d)}$(e).html(i);d.style.left=g+"px";d.style.top=f+"px";d.style.display="block";d.style.width=this._params.errormsg_width+"px";e.style.width="auto";var c=$(e).width();(c>=this._params.errormsg_width)?e.style.width=this._params.errormsg_width+"px":d.style.width=c+"px";this._cache.isShowing=true;return true}return false};b.prototype.hide=function(){if(!this._widget||(this._widget.style.display==="none")){return false}var c=this._widget,d=c.firstChild;c.style.display="none";$(d).html("");if(c.parentNode&&c.parentNode.nodeType===1){c.parentNode.removeChild(c)}this._cache.isShowing=false;return true};b.prototype.isShowing=function(){return this._cache.isShowing};b.prototype.widget=function(){return this._widget};return{getInstance:function(c){if(a===undefined){a=new b(c)}else{if(typeof c==="object"){a.config(c)}}return a},destroy:function(){if(a===undefined){return false}a._widget.parentNode.removeChild(a._widget);a=undefined}}}());